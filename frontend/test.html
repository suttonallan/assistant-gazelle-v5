<!DOCTYPE html>
<html>
<head>
    <title>Test React Mount</title>
    <style>
        body { font-family: sans-serif; padding: 40px; }
        .success { color: green; font-size: 24px; }
        .error { color: red; font-size: 18px; white-space: pre-wrap; }
    </style>
</head>
<body>
    <h1>üîç Test Diagnostic React</h1>
    <div id="status">‚è≥ Chargement...</div>
    <div id="errors" class="error"></div>

    <script type="module">
        try {
            // Test 1: Module imports
            console.log('‚úÖ Test 1: Module ES6 fonctionne');
            document.getElementById('status').innerHTML = '‚úÖ Modules ES6: OK';

            // Test 2: Import React
            import React from '/node_modules/react/index.js';
            console.log('‚úÖ Test 2: React import√©:', React.version);

            // Test 3: Import ReactDOM
            import ReactDOM from '/node_modules/react-dom/client.js';
            console.log('‚úÖ Test 3: ReactDOM import√©');

            setTimeout(() => {
                document.getElementById('status').innerHTML =
                    '<div class="success">‚úÖ Tous les tests passent!</div>' +
                    '<div>React version: ' + React.version + '</div>';
            }, 100);

        } catch (error) {
            console.error('‚ùå Erreur:', error);
            document.getElementById('errors').textContent =
                '‚ùå ERREUR:\n' + error.message + '\n\n' + error.stack;
        }

        // Capturer toutes les erreurs
        window.addEventListener('error', (e) => {
            console.error('‚ùå Erreur globale:', e.error);
            document.getElementById('errors').textContent +=
                '\n\n‚ùå ERREUR GLOBALE:\n' + e.error.message + '\n' + e.error.stack;
        });

        window.addEventListener('unhandledrejection', (e) => {
            console.error('‚ùå Promise rejet√©e:', e.reason);
            document.getElementById('errors').textContent +=
                '\n\n‚ùå PROMISE REJET√âE:\n' + e.reason;
        });
    </script>
</body>
</html>
