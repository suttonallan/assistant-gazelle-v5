var Wy=Object.defineProperty;var qy=(e,t,n)=>t in e?Wy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Po=(e,t,n)=>qy(e,typeof t!="symbol"?t+"":t,n);function Uy(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function Jh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Yh={exports:{}},$l={},Qh={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var La=Symbol.for("react.element"),Gy=Symbol.for("react.portal"),Ky=Symbol.for("react.fragment"),Jy=Symbol.for("react.strict_mode"),Yy=Symbol.for("react.profiler"),Qy=Symbol.for("react.provider"),Xy=Symbol.for("react.context"),Zy=Symbol.for("react.forward_ref"),ev=Symbol.for("react.suspense"),tv=Symbol.for("react.memo"),nv=Symbol.for("react.lazy"),wf=Symbol.iterator;function rv(e){return e===null||typeof e!="object"?null:(e=wf&&e[wf]||e["@@iterator"],typeof e=="function"?e:null)}var Xh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Zh=Object.assign,eg={};function bo(e,t,n){this.props=e,this.context=t,this.refs=eg,this.updater=n||Xh}bo.prototype.isReactComponent={};bo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};bo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function tg(){}tg.prototype=bo.prototype;function Md(e,t,n){this.props=e,this.context=t,this.refs=eg,this.updater=n||Xh}var Dd=Md.prototype=new tg;Dd.constructor=Md;Zh(Dd,bo.prototype);Dd.isPureReactComponent=!0;var jf=Array.isArray,ng=Object.prototype.hasOwnProperty,Fd={current:null},rg={key:!0,ref:!0,__self:!0,__source:!0};function sg(e,t,n){var r,s={},a=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)ng.call(t,r)&&!rg.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:La,type:e,key:a,ref:i,props:s,_owner:Fd.current}}function sv(e,t){return{$$typeof:La,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Bd(e){return typeof e=="object"&&e!==null&&e.$$typeof===La}function ov(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Sf=/\/+/g;function Mc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ov(""+e.key):t.toString(36)}function $i(e,t,n,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case La:case Gy:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+Mc(i,0):r,jf(s)?(n="",e!=null&&(n=e.replace(Sf,"$&/")+"/"),$i(s,t,n,"",function(u){return u})):s!=null&&(Bd(s)&&(s=sv(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Sf,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",jf(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+Mc(a,l);i+=$i(a,t,n,c,s)}else if(c=rv(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+Mc(a,l++),i+=$i(a,t,n,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function ri(e,t,n){if(e==null)return e;var r=[],s=0;return $i(e,r,"","",function(a){return t.call(n,a,s++)}),r}function av(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var an={current:null},Pi={transition:null},iv={ReactCurrentDispatcher:an,ReactCurrentBatchConfig:Pi,ReactCurrentOwner:Fd};function og(){throw Error("act(...) is not supported in production builds of React.")}Le.Children={map:ri,forEach:function(e,t,n){ri(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ri(e,function(){t++}),t},toArray:function(e){return ri(e,function(t){return t})||[]},only:function(e){if(!Bd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Le.Component=bo;Le.Fragment=Ky;Le.Profiler=Yy;Le.PureComponent=Md;Le.StrictMode=Jy;Le.Suspense=ev;Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iv;Le.act=og;Le.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Zh({},e.props),s=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=Fd.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)ng.call(t,c)&&!rg.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:La,type:e.type,key:s,ref:a,props:r,_owner:i}};Le.createContext=function(e){return e={$$typeof:Xy,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Qy,_context:e},e.Consumer=e};Le.createElement=sg;Le.createFactory=function(e){var t=sg.bind(null,e);return t.type=e,t};Le.createRef=function(){return{current:null}};Le.forwardRef=function(e){return{$$typeof:Zy,render:e}};Le.isValidElement=Bd;Le.lazy=function(e){return{$$typeof:nv,_payload:{_status:-1,_result:e},_init:av}};Le.memo=function(e,t){return{$$typeof:tv,type:e,compare:t===void 0?null:t}};Le.startTransition=function(e){var t=Pi.transition;Pi.transition={};try{e()}finally{Pi.transition=t}};Le.unstable_act=og;Le.useCallback=function(e,t){return an.current.useCallback(e,t)};Le.useContext=function(e){return an.current.useContext(e)};Le.useDebugValue=function(){};Le.useDeferredValue=function(e){return an.current.useDeferredValue(e)};Le.useEffect=function(e,t){return an.current.useEffect(e,t)};Le.useId=function(){return an.current.useId()};Le.useImperativeHandle=function(e,t,n){return an.current.useImperativeHandle(e,t,n)};Le.useInsertionEffect=function(e,t){return an.current.useInsertionEffect(e,t)};Le.useLayoutEffect=function(e,t){return an.current.useLayoutEffect(e,t)};Le.useMemo=function(e,t){return an.current.useMemo(e,t)};Le.useReducer=function(e,t,n){return an.current.useReducer(e,t,n)};Le.useRef=function(e){return an.current.useRef(e)};Le.useState=function(e){return an.current.useState(e)};Le.useSyncExternalStore=function(e,t,n){return an.current.useSyncExternalStore(e,t,n)};Le.useTransition=function(){return an.current.useTransition()};Le.version="18.3.1";Qh.exports=Le;var m=Qh.exports;const jn=Jh(m),Nu=Uy({__proto__:null,default:jn},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv=m,cv=Symbol.for("react.element"),uv=Symbol.for("react.fragment"),dv=Object.prototype.hasOwnProperty,pv=lv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fv={key:!0,ref:!0,__self:!0,__source:!0};function ag(e,t,n){var r,s={},a=null,i=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)dv.call(t,r)&&!fv.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:cv,type:e,key:a,ref:i,props:s,_owner:pv.current}}$l.Fragment=uv;$l.jsx=ag;$l.jsxs=ag;Yh.exports=$l;var o=Yh.exports,Cu={},ig={exports:{}},_n={},lg={exports:{}},cg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,D){var X=M.length;M.push(D);e:for(;0<X;){var K=X-1>>>1,J=M[K];if(0<s(J,D))M[K]=D,M[X]=J,X=K;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var D=M[0],X=M.pop();if(X!==D){M[0]=X;e:for(var K=0,J=M.length,Y=J>>>1;K<Y;){var Ne=2*(K+1)-1,xe=M[Ne],ce=Ne+1,je=M[ce];if(0>s(xe,X))ce<J&&0>s(je,xe)?(M[K]=je,M[ce]=X,K=ce):(M[K]=xe,M[Ne]=X,K=Ne);else if(ce<J&&0>s(je,X))M[K]=je,M[ce]=X,K=ce;else break e}}return D}function s(M,D){var X=M.sortIndex-D.sortIndex;return X!==0?X:M.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,g=null,b=3,N=!1,h=!1,y=!1,S=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(M){for(var D=n(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=M)r(u),D.sortIndex=D.expirationTime,t(c,D);else break;D=n(u)}}function x(M){if(y=!1,f(M),!h)if(n(c)!==null)h=!0,z(_);else{var D=n(u);D!==null&&H(x,D.startTime-M)}}function _(M,D){h=!1,y&&(y=!1,v(A),A=-1),N=!0;var X=b;try{for(f(D),g=n(c);g!==null&&(!(g.expirationTime>D)||M&&!L());){var K=g.callback;if(typeof K=="function"){g.callback=null,b=g.priorityLevel;var J=K(g.expirationTime<=D);D=e.unstable_now(),typeof J=="function"?g.callback=J:g===n(c)&&r(c),f(D)}else r(c);g=n(c)}if(g!==null)var Y=!0;else{var Ne=n(u);Ne!==null&&H(x,Ne.startTime-D),Y=!1}return Y}finally{g=null,b=X,N=!1}}var k=!1,P=null,A=-1,C=5,R=-1;function L(){return!(e.unstable_now()-R<C)}function j(){if(P!==null){var M=e.unstable_now();R=M;var D=!0;try{D=P(!0,M)}finally{D?T():(k=!1,P=null)}}else k=!1}var T;if(typeof w=="function")T=function(){w(j)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,I=E.port2;E.port1.onmessage=j,T=function(){I.postMessage(null)}}else T=function(){S(j,0)};function z(M){P=M,k||(k=!0,T())}function H(M,D){A=S(function(){M(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){h||N||(h=!0,z(_))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(M){switch(b){case 1:case 2:case 3:var D=3;break;default:D=b}var X=b;b=D;try{return M()}finally{b=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,D){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var X=b;b=M;try{return D()}finally{b=X}},e.unstable_scheduleCallback=function(M,D,X){var K=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?K+X:K):X=K,M){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=X+J,M={id:d++,callback:D,priorityLevel:M,startTime:X,expirationTime:J,sortIndex:-1},X>K?(M.sortIndex=X,t(u,M),n(c)===null&&M===n(u)&&(y?(v(A),A=-1):y=!0,H(x,X-K))):(M.sortIndex=J,t(c,M),h||N||(h=!0,z(_))),M},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(M){var D=b;return function(){var X=b;b=D;try{return M.apply(this,arguments)}finally{b=X}}}})(cg);lg.exports=cg;var mv=lg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv=m,En=mv;function ne(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ug=new Set,ha={};function ks(e,t){lo(e,t),lo(e+"Capture",t)}function lo(e,t){for(ha[e]=t,e=0;e<t.length;e++)ug.add(t[e])}var jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ku=Object.prototype.hasOwnProperty,gv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Nf={},Cf={};function xv(e){return ku.call(Cf,e)?!0:ku.call(Nf,e)?!1:gv.test(e)?Cf[e]=!0:(Nf[e]=!0,!1)}function yv(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function vv(e,t,n,r){if(t===null||typeof t>"u"||yv(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ln(e,t,n,r,s,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var Gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Gt[e]=new ln(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Gt[t]=new ln(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Gt[e]=new ln(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Gt[e]=new ln(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Gt[e]=new ln(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Gt[e]=new ln(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Gt[e]=new ln(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Gt[e]=new ln(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Gt[e]=new ln(e,5,!1,e.toLowerCase(),null,!1,!1)});var Vd=/[\-:]([a-z])/g;function Hd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Vd,Hd);Gt[t]=new ln(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Vd,Hd);Gt[t]=new ln(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Vd,Hd);Gt[t]=new ln(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Gt[e]=new ln(e,1,!1,e.toLowerCase(),null,!1,!1)});Gt.xlinkHref=new ln("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Gt[e]=new ln(e,1,!1,e.toLowerCase(),null,!0,!0)});function Wd(e,t,n,r){var s=Gt.hasOwnProperty(t)?Gt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(vv(t,n,s,r)&&(n=null),r||s===null?xv(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var _r=hv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,si=Symbol.for("react.element"),Vs=Symbol.for("react.portal"),Hs=Symbol.for("react.fragment"),qd=Symbol.for("react.strict_mode"),Eu=Symbol.for("react.profiler"),dg=Symbol.for("react.provider"),pg=Symbol.for("react.context"),Ud=Symbol.for("react.forward_ref"),_u=Symbol.for("react.suspense"),Tu=Symbol.for("react.suspense_list"),Gd=Symbol.for("react.memo"),Pr=Symbol.for("react.lazy"),fg=Symbol.for("react.offscreen"),kf=Symbol.iterator;function Ro(e){return e===null||typeof e!="object"?null:(e=kf&&e[kf]||e["@@iterator"],typeof e=="function"?e:null)}var wt=Object.assign,Dc;function Go(e){if(Dc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Dc=t&&t[1]||""}return`
`+Dc+e}var Fc=!1;function Bc(e,t){if(!e||Fc)return"";Fc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=r.stack.split(`
`),i=s.length-1,l=a.length-1;1<=i&&0<=l&&s[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==a[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==a[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Fc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Go(e):""}function bv(e){switch(e.tag){case 5:return Go(e.type);case 16:return Go("Lazy");case 13:return Go("Suspense");case 19:return Go("SuspenseList");case 0:case 2:case 15:return e=Bc(e.type,!1),e;case 11:return e=Bc(e.type.render,!1),e;case 1:return e=Bc(e.type,!0),e;default:return""}}function $u(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Hs:return"Fragment";case Vs:return"Portal";case Eu:return"Profiler";case qd:return"StrictMode";case _u:return"Suspense";case Tu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case pg:return(e.displayName||"Context")+".Consumer";case dg:return(e._context.displayName||"Context")+".Provider";case Ud:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Gd:return t=e.displayName||null,t!==null?t:$u(e.type)||"Memo";case Pr:t=e._payload,e=e._init;try{return $u(e(t))}catch{}}return null}function wv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $u(t);case 8:return t===qd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ur(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jv(e){var t=mg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function oi(e){e._valueTracker||(e._valueTracker=jv(e))}function hg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=mg(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ji(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Pu(e,t){var n=t.checked;return wt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ef(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ur(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function gg(e,t){t=t.checked,t!=null&&Wd(e,"checked",t,!1)}function Ru(e,t){gg(e,t);var n=Ur(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Iu(e,t.type,n):t.hasOwnProperty("defaultValue")&&Iu(e,t.type,Ur(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _f(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Iu(e,t,n){(t!=="number"||Ji(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ko=Array.isArray;function eo(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ur(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Au(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ne(91));return wt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Tf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ne(92));if(Ko(n)){if(1<n.length)throw Error(ne(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ur(n)}}function xg(e,t){var n=Ur(t.value),r=Ur(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function $f(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function yg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ou(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?yg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ai,vg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ai=ai||document.createElement("div"),ai.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ai.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ga(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var na={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sv=["Webkit","ms","Moz","O"];Object.keys(na).forEach(function(e){Sv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),na[t]=na[e]})});function bg(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||na.hasOwnProperty(e)&&na[e]?(""+t).trim():t+"px"}function wg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=bg(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Nv=wt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zu(e,t){if(t){if(Nv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ne(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ne(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ne(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ne(62))}}function Lu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mu=null;function Kd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Du=null,to=null,no=null;function Pf(e){if(e=Fa(e)){if(typeof Du!="function")throw Error(ne(280));var t=e.stateNode;t&&(t=Ol(t),Du(e.stateNode,e.type,t))}}function jg(e){to?no?no.push(e):no=[e]:to=e}function Sg(){if(to){var e=to,t=no;if(no=to=null,Pf(e),t)for(e=0;e<t.length;e++)Pf(t[e])}}function Ng(e,t){return e(t)}function Cg(){}var Vc=!1;function kg(e,t,n){if(Vc)return e(t,n);Vc=!0;try{return Ng(e,t,n)}finally{Vc=!1,(to!==null||no!==null)&&(Cg(),Sg())}}function xa(e,t){var n=e.stateNode;if(n===null)return null;var r=Ol(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ne(231,t,typeof n));return n}var Fu=!1;if(jr)try{var Io={};Object.defineProperty(Io,"passive",{get:function(){Fu=!0}}),window.addEventListener("test",Io,Io),window.removeEventListener("test",Io,Io)}catch{Fu=!1}function Cv(e,t,n,r,s,a,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var ra=!1,Yi=null,Qi=!1,Bu=null,kv={onError:function(e){ra=!0,Yi=e}};function Ev(e,t,n,r,s,a,i,l,c){ra=!1,Yi=null,Cv.apply(kv,arguments)}function _v(e,t,n,r,s,a,i,l,c){if(Ev.apply(this,arguments),ra){if(ra){var u=Yi;ra=!1,Yi=null}else throw Error(ne(198));Qi||(Qi=!0,Bu=u)}}function Es(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Eg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Rf(e){if(Es(e)!==e)throw Error(ne(188))}function Tv(e){var t=e.alternate;if(!t){if(t=Es(e),t===null)throw Error(ne(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return Rf(s),e;if(a===r)return Rf(s),t;a=a.sibling}throw Error(ne(188))}if(n.return!==r.return)n=s,r=a;else{for(var i=!1,l=s.child;l;){if(l===n){i=!0,n=s,r=a;break}if(l===r){i=!0,r=s,n=a;break}l=l.sibling}if(!i){for(l=a.child;l;){if(l===n){i=!0,n=a,r=s;break}if(l===r){i=!0,r=a,n=s;break}l=l.sibling}if(!i)throw Error(ne(189))}}if(n.alternate!==r)throw Error(ne(190))}if(n.tag!==3)throw Error(ne(188));return n.stateNode.current===n?e:t}function _g(e){return e=Tv(e),e!==null?Tg(e):null}function Tg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Tg(e);if(t!==null)return t;e=e.sibling}return null}var $g=En.unstable_scheduleCallback,If=En.unstable_cancelCallback,$v=En.unstable_shouldYield,Pv=En.unstable_requestPaint,$t=En.unstable_now,Rv=En.unstable_getCurrentPriorityLevel,Jd=En.unstable_ImmediatePriority,Pg=En.unstable_UserBlockingPriority,Xi=En.unstable_NormalPriority,Iv=En.unstable_LowPriority,Rg=En.unstable_IdlePriority,Pl=null,dr=null;function Av(e){if(dr&&typeof dr.onCommitFiberRoot=="function")try{dr.onCommitFiberRoot(Pl,e,void 0,(e.current.flags&128)===128)}catch{}}var Kn=Math.clz32?Math.clz32:Lv,Ov=Math.log,zv=Math.LN2;function Lv(e){return e>>>=0,e===0?32:31-(Ov(e)/zv|0)|0}var ii=64,li=4194304;function Jo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var l=i&~s;l!==0?r=Jo(l):(a&=i,a!==0&&(r=Jo(a)))}else i=n&~s,i!==0?r=Jo(i):a!==0&&(r=Jo(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Kn(t),s=1<<n,r|=e[n],t&=~s;return r}function Mv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dv(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-Kn(a),l=1<<i,c=s[i];c===-1?(!(l&n)||l&r)&&(s[i]=Mv(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Vu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ig(){var e=ii;return ii<<=1,!(ii&4194240)&&(ii=64),e}function Hc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ma(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Kn(t),e[t]=n}function Fv(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Kn(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}function Yd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Kn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var et=0;function Ag(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Og,Qd,zg,Lg,Mg,Hu=!1,ci=[],Lr=null,Mr=null,Dr=null,ya=new Map,va=new Map,Ir=[],Bv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Af(e,t){switch(e){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":ya.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":va.delete(t.pointerId)}}function Ao(e,t,n,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Fa(t),t!==null&&Qd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Vv(e,t,n,r,s){switch(t){case"focusin":return Lr=Ao(Lr,e,t,n,r,s),!0;case"dragenter":return Mr=Ao(Mr,e,t,n,r,s),!0;case"mouseover":return Dr=Ao(Dr,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return ya.set(a,Ao(ya.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,va.set(a,Ao(va.get(a)||null,e,t,n,r,s)),!0}return!1}function Dg(e){var t=ls(e.target);if(t!==null){var n=Es(t);if(n!==null){if(t=n.tag,t===13){if(t=Eg(n),t!==null){e.blockedOn=t,Mg(e.priority,function(){zg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ri(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Wu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Mu=r,n.target.dispatchEvent(r),Mu=null}else return t=Fa(n),t!==null&&Qd(t),e.blockedOn=n,!1;t.shift()}return!0}function Of(e,t,n){Ri(e)&&n.delete(t)}function Hv(){Hu=!1,Lr!==null&&Ri(Lr)&&(Lr=null),Mr!==null&&Ri(Mr)&&(Mr=null),Dr!==null&&Ri(Dr)&&(Dr=null),ya.forEach(Of),va.forEach(Of)}function Oo(e,t){e.blockedOn===t&&(e.blockedOn=null,Hu||(Hu=!0,En.unstable_scheduleCallback(En.unstable_NormalPriority,Hv)))}function ba(e){function t(s){return Oo(s,e)}if(0<ci.length){Oo(ci[0],e);for(var n=1;n<ci.length;n++){var r=ci[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Lr!==null&&Oo(Lr,e),Mr!==null&&Oo(Mr,e),Dr!==null&&Oo(Dr,e),ya.forEach(t),va.forEach(t),n=0;n<Ir.length;n++)r=Ir[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ir.length&&(n=Ir[0],n.blockedOn===null);)Dg(n),n.blockedOn===null&&Ir.shift()}var ro=_r.ReactCurrentBatchConfig,el=!0;function Wv(e,t,n,r){var s=et,a=ro.transition;ro.transition=null;try{et=1,Xd(e,t,n,r)}finally{et=s,ro.transition=a}}function qv(e,t,n,r){var s=et,a=ro.transition;ro.transition=null;try{et=4,Xd(e,t,n,r)}finally{et=s,ro.transition=a}}function Xd(e,t,n,r){if(el){var s=Wu(e,t,n,r);if(s===null)Zc(e,t,r,tl,n),Af(e,r);else if(Vv(s,e,t,n,r))r.stopPropagation();else if(Af(e,r),t&4&&-1<Bv.indexOf(e)){for(;s!==null;){var a=Fa(s);if(a!==null&&Og(a),a=Wu(e,t,n,r),a===null&&Zc(e,t,r,tl,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else Zc(e,t,r,null,n)}}var tl=null;function Wu(e,t,n,r){if(tl=null,e=Kd(r),e=ls(e),e!==null)if(t=Es(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Eg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return tl=e,null}function Fg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rv()){case Jd:return 1;case Pg:return 4;case Xi:case Iv:return 16;case Rg:return 536870912;default:return 16}default:return 16}}var Or=null,Zd=null,Ii=null;function Bg(){if(Ii)return Ii;var e,t=Zd,n=t.length,r,s="value"in Or?Or.value:Or.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[a-r];r++);return Ii=s.slice(e,1<r?1-r:void 0)}function Ai(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ui(){return!0}function zf(){return!1}function Tn(e){function t(n,r,s,a,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ui:zf,this.isPropagationStopped=zf,this}return wt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ui)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ui)},persist:function(){},isPersistent:ui}),t}var wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ep=Tn(wo),Da=wt({},wo,{view:0,detail:0}),Uv=Tn(Da),Wc,qc,zo,Rl=wt({},Da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zo&&(zo&&e.type==="mousemove"?(Wc=e.screenX-zo.screenX,qc=e.screenY-zo.screenY):qc=Wc=0,zo=e),Wc)},movementY:function(e){return"movementY"in e?e.movementY:qc}}),Lf=Tn(Rl),Gv=wt({},Rl,{dataTransfer:0}),Kv=Tn(Gv),Jv=wt({},Da,{relatedTarget:0}),Uc=Tn(Jv),Yv=wt({},wo,{animationName:0,elapsedTime:0,pseudoElement:0}),Qv=Tn(Yv),Xv=wt({},wo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Zv=Tn(Xv),eb=wt({},wo,{data:0}),Mf=Tn(eb),tb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=rb[e])?!!t[e]:!1}function tp(){return sb}var ob=wt({},Da,{key:function(e){if(e.key){var t=tb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ai(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?nb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tp,charCode:function(e){return e.type==="keypress"?Ai(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ai(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ab=Tn(ob),ib=wt({},Rl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Df=Tn(ib),lb=wt({},Da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tp}),cb=Tn(lb),ub=wt({},wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),db=Tn(ub),pb=wt({},Rl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),fb=Tn(pb),mb=[9,13,27,32],np=jr&&"CompositionEvent"in window,sa=null;jr&&"documentMode"in document&&(sa=document.documentMode);var hb=jr&&"TextEvent"in window&&!sa,Vg=jr&&(!np||sa&&8<sa&&11>=sa),Ff=" ",Bf=!1;function Hg(e,t){switch(e){case"keyup":return mb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ws=!1;function gb(e,t){switch(e){case"compositionend":return Wg(t);case"keypress":return t.which!==32?null:(Bf=!0,Ff);case"textInput":return e=t.data,e===Ff&&Bf?null:e;default:return null}}function xb(e,t){if(Ws)return e==="compositionend"||!np&&Hg(e,t)?(e=Bg(),Ii=Zd=Or=null,Ws=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vg&&t.locale!=="ko"?null:t.data;default:return null}}var yb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!yb[e.type]:t==="textarea"}function qg(e,t,n,r){jg(r),t=nl(t,"onChange"),0<t.length&&(n=new ep("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var oa=null,wa=null;function vb(e){nx(e,0)}function Il(e){var t=Gs(e);if(hg(t))return e}function bb(e,t){if(e==="change")return t}var Ug=!1;if(jr){var Gc;if(jr){var Kc="oninput"in document;if(!Kc){var Hf=document.createElement("div");Hf.setAttribute("oninput","return;"),Kc=typeof Hf.oninput=="function"}Gc=Kc}else Gc=!1;Ug=Gc&&(!document.documentMode||9<document.documentMode)}function Wf(){oa&&(oa.detachEvent("onpropertychange",Gg),wa=oa=null)}function Gg(e){if(e.propertyName==="value"&&Il(wa)){var t=[];qg(t,wa,e,Kd(e)),kg(vb,t)}}function wb(e,t,n){e==="focusin"?(Wf(),oa=t,wa=n,oa.attachEvent("onpropertychange",Gg)):e==="focusout"&&Wf()}function jb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Il(wa)}function Sb(e,t){if(e==="click")return Il(t)}function Nb(e,t){if(e==="input"||e==="change")return Il(t)}function Cb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yn=typeof Object.is=="function"?Object.is:Cb;function ja(e,t){if(Yn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ku.call(t,s)||!Yn(e[s],t[s]))return!1}return!0}function qf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Uf(e,t){var n=qf(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qf(n)}}function Kg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Kg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Jg(){for(var e=window,t=Ji();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ji(e.document)}return t}function rp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function kb(e){var t=Jg(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Kg(n.ownerDocument.documentElement,n)){if(r!==null&&rp(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=Uf(n,a);var i=Uf(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Eb=jr&&"documentMode"in document&&11>=document.documentMode,qs=null,qu=null,aa=null,Uu=!1;function Gf(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Uu||qs==null||qs!==Ji(r)||(r=qs,"selectionStart"in r&&rp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),aa&&ja(aa,r)||(aa=r,r=nl(qu,"onSelect"),0<r.length&&(t=new ep("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=qs)))}function di(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Us={animationend:di("Animation","AnimationEnd"),animationiteration:di("Animation","AnimationIteration"),animationstart:di("Animation","AnimationStart"),transitionend:di("Transition","TransitionEnd")},Jc={},Yg={};jr&&(Yg=document.createElement("div").style,"AnimationEvent"in window||(delete Us.animationend.animation,delete Us.animationiteration.animation,delete Us.animationstart.animation),"TransitionEvent"in window||delete Us.transitionend.transition);function Al(e){if(Jc[e])return Jc[e];if(!Us[e])return e;var t=Us[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Yg)return Jc[e]=t[n];return e}var Qg=Al("animationend"),Xg=Al("animationiteration"),Zg=Al("animationstart"),ex=Al("transitionend"),tx=new Map,Kf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jr(e,t){tx.set(e,t),ks(t,[e])}for(var Yc=0;Yc<Kf.length;Yc++){var Qc=Kf[Yc],_b=Qc.toLowerCase(),Tb=Qc[0].toUpperCase()+Qc.slice(1);Jr(_b,"on"+Tb)}Jr(Qg,"onAnimationEnd");Jr(Xg,"onAnimationIteration");Jr(Zg,"onAnimationStart");Jr("dblclick","onDoubleClick");Jr("focusin","onFocus");Jr("focusout","onBlur");Jr(ex,"onTransitionEnd");lo("onMouseEnter",["mouseout","mouseover"]);lo("onMouseLeave",["mouseout","mouseover"]);lo("onPointerEnter",["pointerout","pointerover"]);lo("onPointerLeave",["pointerout","pointerover"]);ks("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ks("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ks("onBeforeInput",["compositionend","keypress","textInput","paste"]);ks("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ks("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ks("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$b=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yo));function Jf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,_v(r,t,void 0,e),e.currentTarget=null}function nx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;Jf(s,l,u),a=c}else for(i=0;i<r.length;i++){if(l=r[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;Jf(s,l,u),a=c}}}if(Qi)throw e=Bu,Qi=!1,Bu=null,e}function pt(e,t){var n=t[Qu];n===void 0&&(n=t[Qu]=new Set);var r=e+"__bubble";n.has(r)||(rx(t,e,2,!1),n.add(r))}function Xc(e,t,n){var r=0;t&&(r|=4),rx(n,e,r,t)}var pi="_reactListening"+Math.random().toString(36).slice(2);function Sa(e){if(!e[pi]){e[pi]=!0,ug.forEach(function(n){n!=="selectionchange"&&($b.has(n)||Xc(n,!1,e),Xc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[pi]||(t[pi]=!0,Xc("selectionchange",!1,t))}}function rx(e,t,n,r){switch(Fg(t)){case 1:var s=Wv;break;case 4:s=qv;break;default:s=Xd}n=s.bind(null,t,n,e),s=void 0,!Fu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Zc(e,t,n,r,s){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=ls(l),i===null)return;if(c=i.tag,c===5||c===6){r=a=i;continue e}l=l.parentNode}}r=r.return}kg(function(){var u=a,d=Kd(n),g=[];e:{var b=tx.get(e);if(b!==void 0){var N=ep,h=e;switch(e){case"keypress":if(Ai(n)===0)break e;case"keydown":case"keyup":N=ab;break;case"focusin":h="focus",N=Uc;break;case"focusout":h="blur",N=Uc;break;case"beforeblur":case"afterblur":N=Uc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=Lf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=Kv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=cb;break;case Qg:case Xg:case Zg:N=Qv;break;case ex:N=db;break;case"scroll":N=Uv;break;case"wheel":N=fb;break;case"copy":case"cut":case"paste":N=Zv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=Df}var y=(t&4)!==0,S=!y&&e==="scroll",v=y?b!==null?b+"Capture":null:b;y=[];for(var w=u,f;w!==null;){f=w;var x=f.stateNode;if(f.tag===5&&x!==null&&(f=x,v!==null&&(x=xa(w,v),x!=null&&y.push(Na(w,x,f)))),S)break;w=w.return}0<y.length&&(b=new N(b,h,null,n,d),g.push({event:b,listeners:y}))}}if(!(t&7)){e:{if(b=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",b&&n!==Mu&&(h=n.relatedTarget||n.fromElement)&&(ls(h)||h[Sr]))break e;if((N||b)&&(b=d.window===d?d:(b=d.ownerDocument)?b.defaultView||b.parentWindow:window,N?(h=n.relatedTarget||n.toElement,N=u,h=h?ls(h):null,h!==null&&(S=Es(h),h!==S||h.tag!==5&&h.tag!==6)&&(h=null)):(N=null,h=u),N!==h)){if(y=Lf,x="onMouseLeave",v="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(y=Df,x="onPointerLeave",v="onPointerEnter",w="pointer"),S=N==null?b:Gs(N),f=h==null?b:Gs(h),b=new y(x,w+"leave",N,n,d),b.target=S,b.relatedTarget=f,x=null,ls(d)===u&&(y=new y(v,w+"enter",h,n,d),y.target=f,y.relatedTarget=S,x=y),S=x,N&&h)t:{for(y=N,v=h,w=0,f=y;f;f=Rs(f))w++;for(f=0,x=v;x;x=Rs(x))f++;for(;0<w-f;)y=Rs(y),w--;for(;0<f-w;)v=Rs(v),f--;for(;w--;){if(y===v||v!==null&&y===v.alternate)break t;y=Rs(y),v=Rs(v)}y=null}else y=null;N!==null&&Yf(g,b,N,y,!1),h!==null&&S!==null&&Yf(g,S,h,y,!0)}}e:{if(b=u?Gs(u):window,N=b.nodeName&&b.nodeName.toLowerCase(),N==="select"||N==="input"&&b.type==="file")var _=bb;else if(Vf(b))if(Ug)_=Nb;else{_=jb;var k=wb}else(N=b.nodeName)&&N.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&(_=Sb);if(_&&(_=_(e,u))){qg(g,_,n,d);break e}k&&k(e,b,u),e==="focusout"&&(k=b._wrapperState)&&k.controlled&&b.type==="number"&&Iu(b,"number",b.value)}switch(k=u?Gs(u):window,e){case"focusin":(Vf(k)||k.contentEditable==="true")&&(qs=k,qu=u,aa=null);break;case"focusout":aa=qu=qs=null;break;case"mousedown":Uu=!0;break;case"contextmenu":case"mouseup":case"dragend":Uu=!1,Gf(g,n,d);break;case"selectionchange":if(Eb)break;case"keydown":case"keyup":Gf(g,n,d)}var P;if(np)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Ws?Hg(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(Vg&&n.locale!=="ko"&&(Ws||A!=="onCompositionStart"?A==="onCompositionEnd"&&Ws&&(P=Bg()):(Or=d,Zd="value"in Or?Or.value:Or.textContent,Ws=!0)),k=nl(u,A),0<k.length&&(A=new Mf(A,e,null,n,d),g.push({event:A,listeners:k}),P?A.data=P:(P=Wg(n),P!==null&&(A.data=P)))),(P=hb?gb(e,n):xb(e,n))&&(u=nl(u,"onBeforeInput"),0<u.length&&(d=new Mf("onBeforeInput","beforeinput",null,n,d),g.push({event:d,listeners:u}),d.data=P))}nx(g,t)})}function Na(e,t,n){return{instance:e,listener:t,currentTarget:n}}function nl(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=xa(e,n),a!=null&&r.unshift(Na(e,a,s)),a=xa(e,t),a!=null&&r.push(Na(e,a,s))),e=e.return}return r}function Rs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Yf(e,t,n,r,s){for(var a=t._reactName,i=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=xa(n,a),c!=null&&i.unshift(Na(n,c,l))):s||(c=xa(n,a),c!=null&&i.push(Na(n,c,l)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Pb=/\r\n?/g,Rb=/\u0000|\uFFFD/g;function Qf(e){return(typeof e=="string"?e:""+e).replace(Pb,`
`).replace(Rb,"")}function fi(e,t,n){if(t=Qf(t),Qf(e)!==t&&n)throw Error(ne(425))}function rl(){}var Gu=null,Ku=null;function Ju(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Yu=typeof setTimeout=="function"?setTimeout:void 0,Ib=typeof clearTimeout=="function"?clearTimeout:void 0,Xf=typeof Promise=="function"?Promise:void 0,Ab=typeof queueMicrotask=="function"?queueMicrotask:typeof Xf<"u"?function(e){return Xf.resolve(null).then(e).catch(Ob)}:Yu;function Ob(e){setTimeout(function(){throw e})}function eu(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ba(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ba(t)}function Fr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Zf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var jo=Math.random().toString(36).slice(2),lr="__reactFiber$"+jo,Ca="__reactProps$"+jo,Sr="__reactContainer$"+jo,Qu="__reactEvents$"+jo,zb="__reactListeners$"+jo,Lb="__reactHandles$"+jo;function ls(e){var t=e[lr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Sr]||n[lr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Zf(e);e!==null;){if(n=e[lr])return n;e=Zf(e)}return t}e=n,n=e.parentNode}return null}function Fa(e){return e=e[lr]||e[Sr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Gs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ne(33))}function Ol(e){return e[Ca]||null}var Xu=[],Ks=-1;function Yr(e){return{current:e}}function ft(e){0>Ks||(e.current=Xu[Ks],Xu[Ks]=null,Ks--)}function ut(e,t){Ks++,Xu[Ks]=e.current,e.current=t}var Gr={},nn=Yr(Gr),mn=Yr(!1),ys=Gr;function co(e,t){var n=e.type.contextTypes;if(!n)return Gr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function hn(e){return e=e.childContextTypes,e!=null}function sl(){ft(mn),ft(nn)}function em(e,t,n){if(nn.current!==Gr)throw Error(ne(168));ut(nn,t),ut(mn,n)}function sx(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(ne(108,wv(e)||"Unknown",s));return wt({},n,r)}function ol(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gr,ys=nn.current,ut(nn,e),ut(mn,mn.current),!0}function tm(e,t,n){var r=e.stateNode;if(!r)throw Error(ne(169));n?(e=sx(e,t,ys),r.__reactInternalMemoizedMergedChildContext=e,ft(mn),ft(nn),ut(nn,e)):ft(mn),ut(mn,n)}var yr=null,zl=!1,tu=!1;function ox(e){yr===null?yr=[e]:yr.push(e)}function Mb(e){zl=!0,ox(e)}function Qr(){if(!tu&&yr!==null){tu=!0;var e=0,t=et;try{var n=yr;for(et=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}yr=null,zl=!1}catch(s){throw yr!==null&&(yr=yr.slice(e+1)),$g(Jd,Qr),s}finally{et=t,tu=!1}}return null}var Js=[],Ys=0,al=null,il=0,Rn=[],In=0,vs=null,vr=1,br="";function ss(e,t){Js[Ys++]=il,Js[Ys++]=al,al=e,il=t}function ax(e,t,n){Rn[In++]=vr,Rn[In++]=br,Rn[In++]=vs,vs=e;var r=vr;e=br;var s=32-Kn(r)-1;r&=~(1<<s),n+=1;var a=32-Kn(t)+s;if(30<a){var i=s-s%5;a=(r&(1<<i)-1).toString(32),r>>=i,s-=i,vr=1<<32-Kn(t)+s|n<<s|r,br=a+e}else vr=1<<a|n<<s|r,br=e}function sp(e){e.return!==null&&(ss(e,1),ax(e,1,0))}function op(e){for(;e===al;)al=Js[--Ys],Js[Ys]=null,il=Js[--Ys],Js[Ys]=null;for(;e===vs;)vs=Rn[--In],Rn[In]=null,br=Rn[--In],Rn[In]=null,vr=Rn[--In],Rn[In]=null}var Cn=null,Sn=null,ht=!1,Gn=null;function ix(e,t){var n=zn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function nm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Cn=e,Sn=Fr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Cn=e,Sn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=vs!==null?{id:vr,overflow:br}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=zn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Cn=e,Sn=null,!0):!1;default:return!1}}function Zu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ed(e){if(ht){var t=Sn;if(t){var n=t;if(!nm(e,t)){if(Zu(e))throw Error(ne(418));t=Fr(n.nextSibling);var r=Cn;t&&nm(e,t)?ix(r,n):(e.flags=e.flags&-4097|2,ht=!1,Cn=e)}}else{if(Zu(e))throw Error(ne(418));e.flags=e.flags&-4097|2,ht=!1,Cn=e}}}function rm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Cn=e}function mi(e){if(e!==Cn)return!1;if(!ht)return rm(e),ht=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ju(e.type,e.memoizedProps)),t&&(t=Sn)){if(Zu(e))throw lx(),Error(ne(418));for(;t;)ix(e,t),t=Fr(t.nextSibling)}if(rm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ne(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Sn=Fr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Sn=null}}else Sn=Cn?Fr(e.stateNode.nextSibling):null;return!0}function lx(){for(var e=Sn;e;)e=Fr(e.nextSibling)}function uo(){Sn=Cn=null,ht=!1}function ap(e){Gn===null?Gn=[e]:Gn.push(e)}var Db=_r.ReactCurrentBatchConfig;function Lo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ne(309));var r=n.stateNode}if(!r)throw Error(ne(147,e));var s=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var l=s.refs;i===null?delete l[a]:l[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(ne(284));if(!n._owner)throw Error(ne(290,e))}return e}function hi(e,t){throw e=Object.prototype.toString.call(t),Error(ne(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function sm(e){var t=e._init;return t(e._payload)}function cx(e){function t(v,w){if(e){var f=v.deletions;f===null?(v.deletions=[w],v.flags|=16):f.push(w)}}function n(v,w){if(!e)return null;for(;w!==null;)t(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function s(v,w){return v=Wr(v,w),v.index=0,v.sibling=null,v}function a(v,w,f){return v.index=f,e?(f=v.alternate,f!==null?(f=f.index,f<w?(v.flags|=2,w):f):(v.flags|=2,w)):(v.flags|=1048576,w)}function i(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,w,f,x){return w===null||w.tag!==6?(w=lu(f,v.mode,x),w.return=v,w):(w=s(w,f),w.return=v,w)}function c(v,w,f,x){var _=f.type;return _===Hs?d(v,w,f.props.children,x,f.key):w!==null&&(w.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Pr&&sm(_)===w.type)?(x=s(w,f.props),x.ref=Lo(v,w,f),x.return=v,x):(x=Bi(f.type,f.key,f.props,null,v.mode,x),x.ref=Lo(v,w,f),x.return=v,x)}function u(v,w,f,x){return w===null||w.tag!==4||w.stateNode.containerInfo!==f.containerInfo||w.stateNode.implementation!==f.implementation?(w=cu(f,v.mode,x),w.return=v,w):(w=s(w,f.children||[]),w.return=v,w)}function d(v,w,f,x,_){return w===null||w.tag!==7?(w=hs(f,v.mode,x,_),w.return=v,w):(w=s(w,f),w.return=v,w)}function g(v,w,f){if(typeof w=="string"&&w!==""||typeof w=="number")return w=lu(""+w,v.mode,f),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case si:return f=Bi(w.type,w.key,w.props,null,v.mode,f),f.ref=Lo(v,null,w),f.return=v,f;case Vs:return w=cu(w,v.mode,f),w.return=v,w;case Pr:var x=w._init;return g(v,x(w._payload),f)}if(Ko(w)||Ro(w))return w=hs(w,v.mode,f,null),w.return=v,w;hi(v,w)}return null}function b(v,w,f,x){var _=w!==null?w.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return _!==null?null:l(v,w,""+f,x);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case si:return f.key===_?c(v,w,f,x):null;case Vs:return f.key===_?u(v,w,f,x):null;case Pr:return _=f._init,b(v,w,_(f._payload),x)}if(Ko(f)||Ro(f))return _!==null?null:d(v,w,f,x,null);hi(v,f)}return null}function N(v,w,f,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return v=v.get(f)||null,l(w,v,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case si:return v=v.get(x.key===null?f:x.key)||null,c(w,v,x,_);case Vs:return v=v.get(x.key===null?f:x.key)||null,u(w,v,x,_);case Pr:var k=x._init;return N(v,w,f,k(x._payload),_)}if(Ko(x)||Ro(x))return v=v.get(f)||null,d(w,v,x,_,null);hi(w,x)}return null}function h(v,w,f,x){for(var _=null,k=null,P=w,A=w=0,C=null;P!==null&&A<f.length;A++){P.index>A?(C=P,P=null):C=P.sibling;var R=b(v,P,f[A],x);if(R===null){P===null&&(P=C);break}e&&P&&R.alternate===null&&t(v,P),w=a(R,w,A),k===null?_=R:k.sibling=R,k=R,P=C}if(A===f.length)return n(v,P),ht&&ss(v,A),_;if(P===null){for(;A<f.length;A++)P=g(v,f[A],x),P!==null&&(w=a(P,w,A),k===null?_=P:k.sibling=P,k=P);return ht&&ss(v,A),_}for(P=r(v,P);A<f.length;A++)C=N(P,v,A,f[A],x),C!==null&&(e&&C.alternate!==null&&P.delete(C.key===null?A:C.key),w=a(C,w,A),k===null?_=C:k.sibling=C,k=C);return e&&P.forEach(function(L){return t(v,L)}),ht&&ss(v,A),_}function y(v,w,f,x){var _=Ro(f);if(typeof _!="function")throw Error(ne(150));if(f=_.call(f),f==null)throw Error(ne(151));for(var k=_=null,P=w,A=w=0,C=null,R=f.next();P!==null&&!R.done;A++,R=f.next()){P.index>A?(C=P,P=null):C=P.sibling;var L=b(v,P,R.value,x);if(L===null){P===null&&(P=C);break}e&&P&&L.alternate===null&&t(v,P),w=a(L,w,A),k===null?_=L:k.sibling=L,k=L,P=C}if(R.done)return n(v,P),ht&&ss(v,A),_;if(P===null){for(;!R.done;A++,R=f.next())R=g(v,R.value,x),R!==null&&(w=a(R,w,A),k===null?_=R:k.sibling=R,k=R);return ht&&ss(v,A),_}for(P=r(v,P);!R.done;A++,R=f.next())R=N(P,v,A,R.value,x),R!==null&&(e&&R.alternate!==null&&P.delete(R.key===null?A:R.key),w=a(R,w,A),k===null?_=R:k.sibling=R,k=R);return e&&P.forEach(function(j){return t(v,j)}),ht&&ss(v,A),_}function S(v,w,f,x){if(typeof f=="object"&&f!==null&&f.type===Hs&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case si:e:{for(var _=f.key,k=w;k!==null;){if(k.key===_){if(_=f.type,_===Hs){if(k.tag===7){n(v,k.sibling),w=s(k,f.props.children),w.return=v,v=w;break e}}else if(k.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Pr&&sm(_)===k.type){n(v,k.sibling),w=s(k,f.props),w.ref=Lo(v,k,f),w.return=v,v=w;break e}n(v,k);break}else t(v,k);k=k.sibling}f.type===Hs?(w=hs(f.props.children,v.mode,x,f.key),w.return=v,v=w):(x=Bi(f.type,f.key,f.props,null,v.mode,x),x.ref=Lo(v,w,f),x.return=v,v=x)}return i(v);case Vs:e:{for(k=f.key;w!==null;){if(w.key===k)if(w.tag===4&&w.stateNode.containerInfo===f.containerInfo&&w.stateNode.implementation===f.implementation){n(v,w.sibling),w=s(w,f.children||[]),w.return=v,v=w;break e}else{n(v,w);break}else t(v,w);w=w.sibling}w=cu(f,v.mode,x),w.return=v,v=w}return i(v);case Pr:return k=f._init,S(v,w,k(f._payload),x)}if(Ko(f))return h(v,w,f,x);if(Ro(f))return y(v,w,f,x);hi(v,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,w!==null&&w.tag===6?(n(v,w.sibling),w=s(w,f),w.return=v,v=w):(n(v,w),w=lu(f,v.mode,x),w.return=v,v=w),i(v)):n(v,w)}return S}var po=cx(!0),ux=cx(!1),ll=Yr(null),cl=null,Qs=null,ip=null;function lp(){ip=Qs=cl=null}function cp(e){var t=ll.current;ft(ll),e._currentValue=t}function td(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function so(e,t){cl=e,ip=Qs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(fn=!0),e.firstContext=null)}function Mn(e){var t=e._currentValue;if(ip!==e)if(e={context:e,memoizedValue:t,next:null},Qs===null){if(cl===null)throw Error(ne(308));Qs=e,cl.dependencies={lanes:0,firstContext:e}}else Qs=Qs.next=e;return t}var cs=null;function up(e){cs===null?cs=[e]:cs.push(e)}function dx(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,up(t)):(n.next=s.next,s.next=n),t.interleaved=n,Nr(e,r)}function Nr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Rr=!1;function dp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function px(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Br(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,qe&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Nr(e,n)}return s=r.interleaved,s===null?(t.next=t,up(r)):(t.next=s.next,s.next=t),r.interleaved=t,Nr(e,n)}function Oi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Yd(e,n)}}function om(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ul(e,t,n,r){var s=e.updateQueue;Rr=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var g=s.baseState;i=0,d=u=c=null,l=a;do{var b=l.lane,N=l.eventTime;if((r&b)===b){d!==null&&(d=d.next={eventTime:N,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var h=e,y=l;switch(b=t,N=n,y.tag){case 1:if(h=y.payload,typeof h=="function"){g=h.call(N,g,b);break e}g=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=y.payload,b=typeof h=="function"?h.call(N,g,b):h,b==null)break e;g=wt({},g,b);break e;case 2:Rr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,b=s.effects,b===null?s.effects=[l]:b.push(l))}else N={eventTime:N,lane:b,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=N,c=g):d=d.next=N,i|=b;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;b=l,l=b.next,b.next=null,s.lastBaseUpdate=b,s.shared.pending=null}}while(!0);if(d===null&&(c=g),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);ws|=i,e.lanes=i,e.memoizedState=g}}function am(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(ne(191,s));s.call(r)}}}var Ba={},pr=Yr(Ba),ka=Yr(Ba),Ea=Yr(Ba);function us(e){if(e===Ba)throw Error(ne(174));return e}function pp(e,t){switch(ut(Ea,t),ut(ka,e),ut(pr,Ba),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ou(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ou(t,e)}ft(pr),ut(pr,t)}function fo(){ft(pr),ft(ka),ft(Ea)}function fx(e){us(Ea.current);var t=us(pr.current),n=Ou(t,e.type);t!==n&&(ut(ka,e),ut(pr,n))}function fp(e){ka.current===e&&(ft(pr),ft(ka))}var yt=Yr(0);function dl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var nu=[];function mp(){for(var e=0;e<nu.length;e++)nu[e]._workInProgressVersionPrimary=null;nu.length=0}var zi=_r.ReactCurrentDispatcher,ru=_r.ReactCurrentBatchConfig,bs=0,vt=null,Lt=null,Dt=null,pl=!1,ia=!1,_a=0,Fb=0;function Yt(){throw Error(ne(321))}function hp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yn(e[n],t[n]))return!1;return!0}function gp(e,t,n,r,s,a){if(bs=a,vt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,zi.current=e===null||e.memoizedState===null?Wb:qb,e=n(r,s),ia){a=0;do{if(ia=!1,_a=0,25<=a)throw Error(ne(301));a+=1,Dt=Lt=null,t.updateQueue=null,zi.current=Ub,e=n(r,s)}while(ia)}if(zi.current=fl,t=Lt!==null&&Lt.next!==null,bs=0,Dt=Lt=vt=null,pl=!1,t)throw Error(ne(300));return e}function xp(){var e=_a!==0;return _a=0,e}function or(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?vt.memoizedState=Dt=e:Dt=Dt.next=e,Dt}function Dn(){if(Lt===null){var e=vt.alternate;e=e!==null?e.memoizedState:null}else e=Lt.next;var t=Dt===null?vt.memoizedState:Dt.next;if(t!==null)Dt=t,Lt=e;else{if(e===null)throw Error(ne(310));Lt=e,e={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Dt===null?vt.memoizedState=Dt=e:Dt=Dt.next=e}return Dt}function Ta(e,t){return typeof t=="function"?t(e):t}function su(e){var t=Dn(),n=t.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=e;var r=Lt,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var i=s.next;s.next=a.next,a.next=i}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var l=i=null,c=null,u=a;do{var d=u.lane;if((bs&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var g={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=g,i=r):c=c.next=g,vt.lanes|=d,ws|=d}u=u.next}while(u!==null&&u!==a);c===null?i=r:c.next=l,Yn(r,t.memoizedState)||(fn=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do a=s.lane,vt.lanes|=a,ws|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ou(e){var t=Dn(),n=t.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do a=e(a,i.action),i=i.next;while(i!==s);Yn(a,t.memoizedState)||(fn=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function mx(){}function hx(e,t){var n=vt,r=Dn(),s=t(),a=!Yn(r.memoizedState,s);if(a&&(r.memoizedState=s,fn=!0),r=r.queue,yp(yx.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Dt!==null&&Dt.memoizedState.tag&1){if(n.flags|=2048,$a(9,xx.bind(null,n,r,s,t),void 0,null),Ft===null)throw Error(ne(349));bs&30||gx(n,t,s)}return s}function gx(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=vt.updateQueue,t===null?(t={lastEffect:null,stores:null},vt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function xx(e,t,n,r){t.value=n,t.getSnapshot=r,vx(t)&&bx(e)}function yx(e,t,n){return n(function(){vx(t)&&bx(e)})}function vx(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yn(e,n)}catch{return!0}}function bx(e){var t=Nr(e,1);t!==null&&Jn(t,e,1,-1)}function im(e){var t=or();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:e},t.queue=e,e=e.dispatch=Hb.bind(null,vt,e),[t.memoizedState,e]}function $a(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=vt.updateQueue,t===null?(t={lastEffect:null,stores:null},vt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function wx(){return Dn().memoizedState}function Li(e,t,n,r){var s=or();vt.flags|=e,s.memoizedState=$a(1|t,n,void 0,r===void 0?null:r)}function Ll(e,t,n,r){var s=Dn();r=r===void 0?null:r;var a=void 0;if(Lt!==null){var i=Lt.memoizedState;if(a=i.destroy,r!==null&&hp(r,i.deps)){s.memoizedState=$a(t,n,a,r);return}}vt.flags|=e,s.memoizedState=$a(1|t,n,a,r)}function lm(e,t){return Li(8390656,8,e,t)}function yp(e,t){return Ll(2048,8,e,t)}function jx(e,t){return Ll(4,2,e,t)}function Sx(e,t){return Ll(4,4,e,t)}function Nx(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Cx(e,t,n){return n=n!=null?n.concat([e]):null,Ll(4,4,Nx.bind(null,t,e),n)}function vp(){}function kx(e,t){var n=Dn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&hp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ex(e,t){var n=Dn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&hp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function _x(e,t,n){return bs&21?(Yn(n,t)||(n=Ig(),vt.lanes|=n,ws|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,fn=!0),e.memoizedState=n)}function Bb(e,t){var n=et;et=n!==0&&4>n?n:4,e(!0);var r=ru.transition;ru.transition={};try{e(!1),t()}finally{et=n,ru.transition=r}}function Tx(){return Dn().memoizedState}function Vb(e,t,n){var r=Hr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$x(e))Px(t,n);else if(n=dx(e,t,n,r),n!==null){var s=on();Jn(n,e,r,s),Rx(n,t,r)}}function Hb(e,t,n){var r=Hr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($x(e))Px(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,l=a(i,n);if(s.hasEagerState=!0,s.eagerState=l,Yn(l,i)){var c=t.interleaved;c===null?(s.next=s,up(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=dx(e,t,s,r),n!==null&&(s=on(),Jn(n,e,r,s),Rx(n,t,r))}}function $x(e){var t=e.alternate;return e===vt||t!==null&&t===vt}function Px(e,t){ia=pl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Rx(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Yd(e,n)}}var fl={readContext:Mn,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},Wb={readContext:Mn,useCallback:function(e,t){return or().memoizedState=[e,t===void 0?null:t],e},useContext:Mn,useEffect:lm,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Li(4194308,4,Nx.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Li(4194308,4,e,t)},useInsertionEffect:function(e,t){return Li(4,2,e,t)},useMemo:function(e,t){var n=or();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=or();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Vb.bind(null,vt,e),[r.memoizedState,e]},useRef:function(e){var t=or();return e={current:e},t.memoizedState=e},useState:im,useDebugValue:vp,useDeferredValue:function(e){return or().memoizedState=e},useTransition:function(){var e=im(!1),t=e[0];return e=Bb.bind(null,e[1]),or().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vt,s=or();if(ht){if(n===void 0)throw Error(ne(407));n=n()}else{if(n=t(),Ft===null)throw Error(ne(349));bs&30||gx(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,lm(yx.bind(null,r,a,e),[e]),r.flags|=2048,$a(9,xx.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=or(),t=Ft.identifierPrefix;if(ht){var n=br,r=vr;n=(r&~(1<<32-Kn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=_a++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Fb++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},qb={readContext:Mn,useCallback:kx,useContext:Mn,useEffect:yp,useImperativeHandle:Cx,useInsertionEffect:jx,useLayoutEffect:Sx,useMemo:Ex,useReducer:su,useRef:wx,useState:function(){return su(Ta)},useDebugValue:vp,useDeferredValue:function(e){var t=Dn();return _x(t,Lt.memoizedState,e)},useTransition:function(){var e=su(Ta)[0],t=Dn().memoizedState;return[e,t]},useMutableSource:mx,useSyncExternalStore:hx,useId:Tx,unstable_isNewReconciler:!1},Ub={readContext:Mn,useCallback:kx,useContext:Mn,useEffect:yp,useImperativeHandle:Cx,useInsertionEffect:jx,useLayoutEffect:Sx,useMemo:Ex,useReducer:ou,useRef:wx,useState:function(){return ou(Ta)},useDebugValue:vp,useDeferredValue:function(e){var t=Dn();return Lt===null?t.memoizedState=e:_x(t,Lt.memoizedState,e)},useTransition:function(){var e=ou(Ta)[0],t=Dn().memoizedState;return[e,t]},useMutableSource:mx,useSyncExternalStore:hx,useId:Tx,unstable_isNewReconciler:!1};function qn(e,t){if(e&&e.defaultProps){t=wt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function nd(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:wt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ml={isMounted:function(e){return(e=e._reactInternals)?Es(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=on(),s=Hr(e),a=wr(r,s);a.payload=t,n!=null&&(a.callback=n),t=Br(e,a,s),t!==null&&(Jn(t,e,s,r),Oi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=on(),s=Hr(e),a=wr(r,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Br(e,a,s),t!==null&&(Jn(t,e,s,r),Oi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=on(),r=Hr(e),s=wr(n,r);s.tag=2,t!=null&&(s.callback=t),t=Br(e,s,r),t!==null&&(Jn(t,e,r,n),Oi(t,e,r))}};function cm(e,t,n,r,s,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,i):t.prototype&&t.prototype.isPureReactComponent?!ja(n,r)||!ja(s,a):!0}function Ix(e,t,n){var r=!1,s=Gr,a=t.contextType;return typeof a=="object"&&a!==null?a=Mn(a):(s=hn(t)?ys:nn.current,r=t.contextTypes,a=(r=r!=null)?co(e,s):Gr),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ml,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function um(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ml.enqueueReplaceState(t,t.state,null)}function rd(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},dp(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=Mn(a):(a=hn(t)?ys:nn.current,s.context=co(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(nd(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ml.enqueueReplaceState(s,s.state,null),ul(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function mo(e,t){try{var n="",r=t;do n+=bv(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function au(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function sd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Gb=typeof WeakMap=="function"?WeakMap:Map;function Ax(e,t,n){n=wr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){hl||(hl=!0,md=r),sd(e,t)},n}function Ox(e,t,n){n=wr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){sd(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){sd(e,t),typeof r!="function"&&(Vr===null?Vr=new Set([this]):Vr.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function dm(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Gb;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=iw.bind(null,e,t,n),t.then(e,e))}function pm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fm(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=wr(-1,1),t.tag=2,Br(n,t,1))),n.lanes|=1),e)}var Kb=_r.ReactCurrentOwner,fn=!1;function sn(e,t,n,r){t.child=e===null?ux(t,null,n,r):po(t,e.child,n,r)}function mm(e,t,n,r,s){n=n.render;var a=t.ref;return so(t,s),r=gp(e,t,n,r,a,s),n=xp(),e!==null&&!fn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Cr(e,t,s)):(ht&&n&&sp(t),t.flags|=1,sn(e,t,r,s),t.child)}function hm(e,t,n,r,s){if(e===null){var a=n.type;return typeof a=="function"&&!Ep(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,zx(e,t,a,r,s)):(e=Bi(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:ja,n(i,r)&&e.ref===t.ref)return Cr(e,t,s)}return t.flags|=1,e=Wr(a,r),e.ref=t.ref,e.return=t,t.child=e}function zx(e,t,n,r,s){if(e!==null){var a=e.memoizedProps;if(ja(a,r)&&e.ref===t.ref)if(fn=!1,t.pendingProps=r=a,(e.lanes&s)!==0)e.flags&131072&&(fn=!0);else return t.lanes=e.lanes,Cr(e,t,s)}return od(e,t,n,r,s)}function Lx(e,t,n){var r=t.pendingProps,s=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ut(Zs,bn),bn|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ut(Zs,bn),bn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,ut(Zs,bn),bn|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,ut(Zs,bn),bn|=r;return sn(e,t,s,n),t.child}function Mx(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function od(e,t,n,r,s){var a=hn(n)?ys:nn.current;return a=co(t,a),so(t,s),n=gp(e,t,n,r,a,s),r=xp(),e!==null&&!fn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Cr(e,t,s)):(ht&&r&&sp(t),t.flags|=1,sn(e,t,n,s),t.child)}function gm(e,t,n,r,s){if(hn(n)){var a=!0;ol(t)}else a=!1;if(so(t,s),t.stateNode===null)Mi(e,t),Ix(t,n,r),rd(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=Mn(u):(u=hn(n)?ys:nn.current,u=co(t,u));var d=n.getDerivedStateFromProps,g=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";g||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||c!==u)&&um(t,i,r,u),Rr=!1;var b=t.memoizedState;i.state=b,ul(t,r,i,s),c=t.memoizedState,l!==r||b!==c||mn.current||Rr?(typeof d=="function"&&(nd(t,n,d,r),c=t.memoizedState),(l=Rr||cm(t,n,l,r,b,c,u))?(g||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,px(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:qn(t.type,l),i.props=u,g=t.pendingProps,b=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=Mn(c):(c=hn(n)?ys:nn.current,c=co(t,c));var N=n.getDerivedStateFromProps;(d=typeof N=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==g||b!==c)&&um(t,i,r,c),Rr=!1,b=t.memoizedState,i.state=b,ul(t,r,i,s);var h=t.memoizedState;l!==g||b!==h||mn.current||Rr?(typeof N=="function"&&(nd(t,n,N,r),h=t.memoizedState),(u=Rr||cm(t,n,u,r,b,h,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,h,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,h,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),i.props=r,i.state=h,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),r=!1)}return ad(e,t,n,r,a,s)}function ad(e,t,n,r,s,a){Mx(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&tm(t,n,!1),Cr(e,t,a);r=t.stateNode,Kb.current=t;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=po(t,e.child,null,a),t.child=po(t,null,l,a)):sn(e,t,l,a),t.memoizedState=r.state,s&&tm(t,n,!0),t.child}function Dx(e){var t=e.stateNode;t.pendingContext?em(e,t.pendingContext,t.pendingContext!==t.context):t.context&&em(e,t.context,!1),pp(e,t.containerInfo)}function xm(e,t,n,r,s){return uo(),ap(s),t.flags|=256,sn(e,t,n,r),t.child}var id={dehydrated:null,treeContext:null,retryLane:0};function ld(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fx(e,t,n){var r=t.pendingProps,s=yt.current,a=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ut(yt,s&1),e===null)return ed(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,a?(r=t.mode,a=t.child,i={mode:"hidden",children:i},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=Bl(i,r,0,null),e=hs(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=ld(n),t.memoizedState=id,e):bp(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Jb(e,t,i,r,l,s,n);if(a){a=r.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Wr(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Wr(l,a):(a=hs(a,i,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,i=e.child.memoizedState,i=i===null?ld(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=id,r}return a=e.child,e=a.sibling,r=Wr(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function bp(e,t){return t=Bl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function gi(e,t,n,r){return r!==null&&ap(r),po(t,e.child,null,n),e=bp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Jb(e,t,n,r,s,a,i){if(n)return t.flags&256?(t.flags&=-257,r=au(Error(ne(422))),gi(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=Bl({mode:"visible",children:r.children},s,0,null),a=hs(a,s,i,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&po(t,e.child,null,i),t.child.memoizedState=ld(i),t.memoizedState=id,a);if(!(t.mode&1))return gi(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(ne(419)),r=au(a,r,void 0),gi(e,t,i,r)}if(l=(i&e.childLanes)!==0,fn||l){if(r=Ft,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Nr(e,s),Jn(r,e,s,-1))}return kp(),r=au(Error(ne(421))),gi(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=lw.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Sn=Fr(s.nextSibling),Cn=t,ht=!0,Gn=null,e!==null&&(Rn[In++]=vr,Rn[In++]=br,Rn[In++]=vs,vr=e.id,br=e.overflow,vs=t),t=bp(t,r.children),t.flags|=4096,t)}function ym(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),td(e.return,t,n)}function iu(e,t,n,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function Bx(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(sn(e,t,r.children,n),r=yt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ym(e,n,t);else if(e.tag===19)ym(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ut(yt,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&dl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),iu(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&dl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}iu(t,!0,n,null,a);break;case"together":iu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Mi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Cr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ws|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ne(153));if(t.child!==null){for(e=t.child,n=Wr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Wr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Yb(e,t,n){switch(t.tag){case 3:Dx(t),uo();break;case 5:fx(t);break;case 1:hn(t.type)&&ol(t);break;case 4:pp(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ut(ll,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ut(yt,yt.current&1),t.flags|=128,null):n&t.child.childLanes?Fx(e,t,n):(ut(yt,yt.current&1),e=Cr(e,t,n),e!==null?e.sibling:null);ut(yt,yt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Bx(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ut(yt,yt.current),r)break;return null;case 22:case 23:return t.lanes=0,Lx(e,t,n)}return Cr(e,t,n)}var Vx,cd,Hx,Wx;Vx=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cd=function(){};Hx=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,us(pr.current);var a=null;switch(n){case"input":s=Pu(e,s),r=Pu(e,r),a=[];break;case"select":s=wt({},s,{value:void 0}),r=wt({},r,{value:void 0}),a=[];break;case"textarea":s=Au(e,s),r=Au(e,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=rl)}zu(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ha.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ha.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&pt("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};Wx=function(e,t,n,r){n!==r&&(t.flags|=4)};function Mo(e,t){if(!ht)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Qt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qb(e,t,n){var r=t.pendingProps;switch(op(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(t),null;case 1:return hn(t.type)&&sl(),Qt(t),null;case 3:return r=t.stateNode,fo(),ft(mn),ft(nn),mp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(mi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Gn!==null&&(xd(Gn),Gn=null))),cd(e,t),Qt(t),null;case 5:fp(t);var s=us(Ea.current);if(n=t.type,e!==null&&t.stateNode!=null)Hx(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ne(166));return Qt(t),null}if(e=us(pr.current),mi(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[lr]=t,r[Ca]=a,e=(t.mode&1)!==0,n){case"dialog":pt("cancel",r),pt("close",r);break;case"iframe":case"object":case"embed":pt("load",r);break;case"video":case"audio":for(s=0;s<Yo.length;s++)pt(Yo[s],r);break;case"source":pt("error",r);break;case"img":case"image":case"link":pt("error",r),pt("load",r);break;case"details":pt("toggle",r);break;case"input":Ef(r,a),pt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},pt("invalid",r);break;case"textarea":Tf(r,a),pt("invalid",r)}zu(n,a),s=null;for(var i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&fi(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&fi(r.textContent,l,e),s=["children",""+l]):ha.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&pt("scroll",r)}switch(n){case"input":oi(r),_f(r,a,!0);break;case"textarea":oi(r),$f(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=rl)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=yg(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[lr]=t,e[Ca]=r,Vx(e,t,!1,!1),t.stateNode=e;e:{switch(i=Lu(n,r),n){case"dialog":pt("cancel",e),pt("close",e),s=r;break;case"iframe":case"object":case"embed":pt("load",e),s=r;break;case"video":case"audio":for(s=0;s<Yo.length;s++)pt(Yo[s],e);s=r;break;case"source":pt("error",e),s=r;break;case"img":case"image":case"link":pt("error",e),pt("load",e),s=r;break;case"details":pt("toggle",e),s=r;break;case"input":Ef(e,r),s=Pu(e,r),pt("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=wt({},r,{value:void 0}),pt("invalid",e);break;case"textarea":Tf(e,r),s=Au(e,r),pt("invalid",e);break;default:s=r}zu(n,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?wg(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&vg(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ga(e,c):typeof c=="number"&&ga(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ha.hasOwnProperty(a)?c!=null&&a==="onScroll"&&pt("scroll",e):c!=null&&Wd(e,a,c,i))}switch(n){case"input":oi(e),_f(e,r,!1);break;case"textarea":oi(e),$f(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ur(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?eo(e,!!r.multiple,a,!1):r.defaultValue!=null&&eo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=rl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Qt(t),null;case 6:if(e&&t.stateNode!=null)Wx(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ne(166));if(n=us(Ea.current),us(pr.current),mi(t)){if(r=t.stateNode,n=t.memoizedProps,r[lr]=t,(a=r.nodeValue!==n)&&(e=Cn,e!==null))switch(e.tag){case 3:fi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fi(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[lr]=t,t.stateNode=r}return Qt(t),null;case 13:if(ft(yt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ht&&Sn!==null&&t.mode&1&&!(t.flags&128))lx(),uo(),t.flags|=98560,a=!1;else if(a=mi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(ne(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ne(317));a[lr]=t}else uo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Qt(t),a=!1}else Gn!==null&&(xd(Gn),Gn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||yt.current&1?Mt===0&&(Mt=3):kp())),t.updateQueue!==null&&(t.flags|=4),Qt(t),null);case 4:return fo(),cd(e,t),e===null&&Sa(t.stateNode.containerInfo),Qt(t),null;case 10:return cp(t.type._context),Qt(t),null;case 17:return hn(t.type)&&sl(),Qt(t),null;case 19:if(ft(yt),a=t.memoizedState,a===null)return Qt(t),null;if(r=(t.flags&128)!==0,i=a.rendering,i===null)if(r)Mo(a,!1);else{if(Mt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=dl(e),i!==null){for(t.flags|=128,Mo(a,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ut(yt,yt.current&1|2),t.child}e=e.sibling}a.tail!==null&&$t()>ho&&(t.flags|=128,r=!0,Mo(a,!1),t.lanes=4194304)}else{if(!r)if(e=dl(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Mo(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!ht)return Qt(t),null}else 2*$t()-a.renderingStartTime>ho&&n!==1073741824&&(t.flags|=128,r=!0,Mo(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=$t(),t.sibling=null,n=yt.current,ut(yt,r?n&1|2:n&1),t):(Qt(t),null);case 22:case 23:return Cp(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?bn&1073741824&&(Qt(t),t.subtreeFlags&6&&(t.flags|=8192)):Qt(t),null;case 24:return null;case 25:return null}throw Error(ne(156,t.tag))}function Xb(e,t){switch(op(t),t.tag){case 1:return hn(t.type)&&sl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fo(),ft(mn),ft(nn),mp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return fp(t),null;case 13:if(ft(yt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ne(340));uo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ft(yt),null;case 4:return fo(),null;case 10:return cp(t.type._context),null;case 22:case 23:return Cp(),null;case 24:return null;default:return null}}var xi=!1,Zt=!1,Zb=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Xs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){kt(e,t,r)}else n.current=null}function ud(e,t,n){try{n()}catch(r){kt(e,t,r)}}var vm=!1;function ew(e,t){if(Gu=el,e=Jg(),rp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,l=-1,c=-1,u=0,d=0,g=e,b=null;t:for(;;){for(var N;g!==n||s!==0&&g.nodeType!==3||(l=i+s),g!==a||r!==0&&g.nodeType!==3||(c=i+r),g.nodeType===3&&(i+=g.nodeValue.length),(N=g.firstChild)!==null;)b=g,g=N;for(;;){if(g===e)break t;if(b===n&&++u===s&&(l=i),b===a&&++d===r&&(c=i),(N=g.nextSibling)!==null)break;g=b,b=g.parentNode}g=N}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ku={focusedElem:e,selectionRange:n},el=!1,fe=t;fe!==null;)if(t=fe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,fe=e;else for(;fe!==null;){t=fe;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var y=h.memoizedProps,S=h.memoizedState,v=t.stateNode,w=v.getSnapshotBeforeUpdate(t.elementType===t.type?y:qn(t.type,y),S);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(x){kt(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,fe=e;break}fe=t.return}return h=vm,vm=!1,h}function la(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&ud(t,n,a)}s=s.next}while(s!==r)}}function Dl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function dd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function qx(e){var t=e.alternate;t!==null&&(e.alternate=null,qx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[lr],delete t[Ca],delete t[Qu],delete t[zb],delete t[Lb])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ux(e){return e.tag===5||e.tag===3||e.tag===4}function bm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ux(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=rl));else if(r!==4&&(e=e.child,e!==null))for(pd(e,t,n),e=e.sibling;e!==null;)pd(e,t,n),e=e.sibling}function fd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(fd(e,t,n),e=e.sibling;e!==null;)fd(e,t,n),e=e.sibling}var Wt=null,Un=!1;function $r(e,t,n){for(n=n.child;n!==null;)Gx(e,t,n),n=n.sibling}function Gx(e,t,n){if(dr&&typeof dr.onCommitFiberUnmount=="function")try{dr.onCommitFiberUnmount(Pl,n)}catch{}switch(n.tag){case 5:Zt||Xs(n,t);case 6:var r=Wt,s=Un;Wt=null,$r(e,t,n),Wt=r,Un=s,Wt!==null&&(Un?(e=Wt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Wt.removeChild(n.stateNode));break;case 18:Wt!==null&&(Un?(e=Wt,n=n.stateNode,e.nodeType===8?eu(e.parentNode,n):e.nodeType===1&&eu(e,n),ba(e)):eu(Wt,n.stateNode));break;case 4:r=Wt,s=Un,Wt=n.stateNode.containerInfo,Un=!0,$r(e,t,n),Wt=r,Un=s;break;case 0:case 11:case 14:case 15:if(!Zt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&ud(n,t,i),s=s.next}while(s!==r)}$r(e,t,n);break;case 1:if(!Zt&&(Xs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){kt(n,t,l)}$r(e,t,n);break;case 21:$r(e,t,n);break;case 22:n.mode&1?(Zt=(r=Zt)||n.memoizedState!==null,$r(e,t,n),Zt=r):$r(e,t,n);break;default:$r(e,t,n)}}function wm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Zb),t.forEach(function(r){var s=cw.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Hn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Wt=l.stateNode,Un=!1;break e;case 3:Wt=l.stateNode.containerInfo,Un=!0;break e;case 4:Wt=l.stateNode.containerInfo,Un=!0;break e}l=l.return}if(Wt===null)throw Error(ne(160));Gx(a,i,s),Wt=null,Un=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){kt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Kx(t,e),t=t.sibling}function Kx(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Hn(t,e),tr(e),r&4){try{la(3,e,e.return),Dl(3,e)}catch(y){kt(e,e.return,y)}try{la(5,e,e.return)}catch(y){kt(e,e.return,y)}}break;case 1:Hn(t,e),tr(e),r&512&&n!==null&&Xs(n,n.return);break;case 5:if(Hn(t,e),tr(e),r&512&&n!==null&&Xs(n,n.return),e.flags&32){var s=e.stateNode;try{ga(s,"")}catch(y){kt(e,e.return,y)}}if(r&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&gg(s,a),Lu(l,i);var u=Lu(l,a);for(i=0;i<c.length;i+=2){var d=c[i],g=c[i+1];d==="style"?wg(s,g):d==="dangerouslySetInnerHTML"?vg(s,g):d==="children"?ga(s,g):Wd(s,d,g,u)}switch(l){case"input":Ru(s,a);break;case"textarea":xg(s,a);break;case"select":var b=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var N=a.value;N!=null?eo(s,!!a.multiple,N,!1):b!==!!a.multiple&&(a.defaultValue!=null?eo(s,!!a.multiple,a.defaultValue,!0):eo(s,!!a.multiple,a.multiple?[]:"",!1))}s[Ca]=a}catch(y){kt(e,e.return,y)}}break;case 6:if(Hn(t,e),tr(e),r&4){if(e.stateNode===null)throw Error(ne(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(y){kt(e,e.return,y)}}break;case 3:if(Hn(t,e),tr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ba(t.containerInfo)}catch(y){kt(e,e.return,y)}break;case 4:Hn(t,e),tr(e);break;case 13:Hn(t,e),tr(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Sp=$t())),r&4&&wm(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Zt=(u=Zt)||d,Hn(t,e),Zt=u):Hn(t,e),tr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(fe=e,d=e.child;d!==null;){for(g=fe=d;fe!==null;){switch(b=fe,N=b.child,b.tag){case 0:case 11:case 14:case 15:la(4,b,b.return);break;case 1:Xs(b,b.return);var h=b.stateNode;if(typeof h.componentWillUnmount=="function"){r=b,n=b.return;try{t=r,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(y){kt(r,n,y)}}break;case 5:Xs(b,b.return);break;case 22:if(b.memoizedState!==null){Sm(g);continue}}N!==null?(N.return=b,fe=N):Sm(g)}d=d.sibling}e:for(d=null,g=e;;){if(g.tag===5){if(d===null){d=g;try{s=g.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=g.stateNode,c=g.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=bg("display",i))}catch(y){kt(e,e.return,y)}}}else if(g.tag===6){if(d===null)try{g.stateNode.nodeValue=u?"":g.memoizedProps}catch(y){kt(e,e.return,y)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;d===g&&(d=null),g=g.return}d===g&&(d=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Hn(t,e),tr(e),r&4&&wm(e);break;case 21:break;default:Hn(t,e),tr(e)}}function tr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ux(n)){var r=n;break e}n=n.return}throw Error(ne(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ga(s,""),r.flags&=-33);var a=bm(e);fd(e,a,s);break;case 3:case 4:var i=r.stateNode.containerInfo,l=bm(e);pd(e,l,i);break;default:throw Error(ne(161))}}catch(c){kt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function tw(e,t,n){fe=e,Jx(e)}function Jx(e,t,n){for(var r=(e.mode&1)!==0;fe!==null;){var s=fe,a=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||xi;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Zt;l=xi;var u=Zt;if(xi=i,(Zt=c)&&!u)for(fe=s;fe!==null;)i=fe,c=i.child,i.tag===22&&i.memoizedState!==null?Nm(s):c!==null?(c.return=i,fe=c):Nm(s);for(;a!==null;)fe=a,Jx(a),a=a.sibling;fe=s,xi=l,Zt=u}jm(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,fe=a):jm(e)}}function jm(e){for(;fe!==null;){var t=fe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Zt||Dl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Zt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:qn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&am(t,a,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}am(t,i,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var g=d.dehydrated;g!==null&&ba(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}Zt||t.flags&512&&dd(t)}catch(b){kt(t,t.return,b)}}if(t===e){fe=null;break}if(n=t.sibling,n!==null){n.return=t.return,fe=n;break}fe=t.return}}function Sm(e){for(;fe!==null;){var t=fe;if(t===e){fe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,fe=n;break}fe=t.return}}function Nm(e){for(;fe!==null;){var t=fe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Dl(4,t)}catch(c){kt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){kt(t,s,c)}}var a=t.return;try{dd(t)}catch(c){kt(t,a,c)}break;case 5:var i=t.return;try{dd(t)}catch(c){kt(t,i,c)}}}catch(c){kt(t,t.return,c)}if(t===e){fe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,fe=l;break}fe=t.return}}var nw=Math.ceil,ml=_r.ReactCurrentDispatcher,wp=_r.ReactCurrentOwner,Ln=_r.ReactCurrentBatchConfig,qe=0,Ft=null,At=null,Ut=0,bn=0,Zs=Yr(0),Mt=0,Pa=null,ws=0,Fl=0,jp=0,ca=null,pn=null,Sp=0,ho=1/0,xr=null,hl=!1,md=null,Vr=null,yi=!1,zr=null,gl=0,ua=0,hd=null,Di=-1,Fi=0;function on(){return qe&6?$t():Di!==-1?Di:Di=$t()}function Hr(e){return e.mode&1?qe&2&&Ut!==0?Ut&-Ut:Db.transition!==null?(Fi===0&&(Fi=Ig()),Fi):(e=et,e!==0||(e=window.event,e=e===void 0?16:Fg(e.type)),e):1}function Jn(e,t,n,r){if(50<ua)throw ua=0,hd=null,Error(ne(185));Ma(e,n,r),(!(qe&2)||e!==Ft)&&(e===Ft&&(!(qe&2)&&(Fl|=n),Mt===4&&Ar(e,Ut)),gn(e,r),n===1&&qe===0&&!(t.mode&1)&&(ho=$t()+500,zl&&Qr()))}function gn(e,t){var n=e.callbackNode;Dv(e,t);var r=Zi(e,e===Ft?Ut:0);if(r===0)n!==null&&If(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&If(n),t===1)e.tag===0?Mb(Cm.bind(null,e)):ox(Cm.bind(null,e)),Ab(function(){!(qe&6)&&Qr()}),n=null;else{switch(Ag(r)){case 1:n=Jd;break;case 4:n=Pg;break;case 16:n=Xi;break;case 536870912:n=Rg;break;default:n=Xi}n=r0(n,Yx.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Yx(e,t){if(Di=-1,Fi=0,qe&6)throw Error(ne(327));var n=e.callbackNode;if(oo()&&e.callbackNode!==n)return null;var r=Zi(e,e===Ft?Ut:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=xl(e,r);else{t=r;var s=qe;qe|=2;var a=Xx();(Ft!==e||Ut!==t)&&(xr=null,ho=$t()+500,ms(e,t));do try{ow();break}catch(l){Qx(e,l)}while(!0);lp(),ml.current=a,qe=s,At!==null?t=0:(Ft=null,Ut=0,t=Mt)}if(t!==0){if(t===2&&(s=Vu(e),s!==0&&(r=s,t=gd(e,s))),t===1)throw n=Pa,ms(e,0),Ar(e,r),gn(e,$t()),n;if(t===6)Ar(e,r);else{if(s=e.current.alternate,!(r&30)&&!rw(s)&&(t=xl(e,r),t===2&&(a=Vu(e),a!==0&&(r=a,t=gd(e,a))),t===1))throw n=Pa,ms(e,0),Ar(e,r),gn(e,$t()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(ne(345));case 2:os(e,pn,xr);break;case 3:if(Ar(e,r),(r&130023424)===r&&(t=Sp+500-$t(),10<t)){if(Zi(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){on(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Yu(os.bind(null,e,pn,xr),t);break}os(e,pn,xr);break;case 4:if(Ar(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-Kn(r);a=1<<i,i=t[i],i>s&&(s=i),r&=~a}if(r=s,r=$t()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*nw(r/1960))-r,10<r){e.timeoutHandle=Yu(os.bind(null,e,pn,xr),r);break}os(e,pn,xr);break;case 5:os(e,pn,xr);break;default:throw Error(ne(329))}}}return gn(e,$t()),e.callbackNode===n?Yx.bind(null,e):null}function gd(e,t){var n=ca;return e.current.memoizedState.isDehydrated&&(ms(e,t).flags|=256),e=xl(e,t),e!==2&&(t=pn,pn=n,t!==null&&xd(t)),e}function xd(e){pn===null?pn=e:pn.push.apply(pn,e)}function rw(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!Yn(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ar(e,t){for(t&=~jp,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Kn(t),r=1<<n;e[n]=-1,t&=~r}}function Cm(e){if(qe&6)throw Error(ne(327));oo();var t=Zi(e,0);if(!(t&1))return gn(e,$t()),null;var n=xl(e,t);if(e.tag!==0&&n===2){var r=Vu(e);r!==0&&(t=r,n=gd(e,r))}if(n===1)throw n=Pa,ms(e,0),Ar(e,t),gn(e,$t()),n;if(n===6)throw Error(ne(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,os(e,pn,xr),gn(e,$t()),null}function Np(e,t){var n=qe;qe|=1;try{return e(t)}finally{qe=n,qe===0&&(ho=$t()+500,zl&&Qr())}}function js(e){zr!==null&&zr.tag===0&&!(qe&6)&&oo();var t=qe;qe|=1;var n=Ln.transition,r=et;try{if(Ln.transition=null,et=1,e)return e()}finally{et=r,Ln.transition=n,qe=t,!(qe&6)&&Qr()}}function Cp(){bn=Zs.current,ft(Zs)}function ms(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Ib(n)),At!==null)for(n=At.return;n!==null;){var r=n;switch(op(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&sl();break;case 3:fo(),ft(mn),ft(nn),mp();break;case 5:fp(r);break;case 4:fo();break;case 13:ft(yt);break;case 19:ft(yt);break;case 10:cp(r.type._context);break;case 22:case 23:Cp()}n=n.return}if(Ft=e,At=e=Wr(e.current,null),Ut=bn=t,Mt=0,Pa=null,jp=Fl=ws=0,pn=ca=null,cs!==null){for(t=0;t<cs.length;t++)if(n=cs[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var i=a.next;a.next=s,r.next=i}n.pending=r}cs=null}return e}function Qx(e,t){do{var n=At;try{if(lp(),zi.current=fl,pl){for(var r=vt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}pl=!1}if(bs=0,Dt=Lt=vt=null,ia=!1,_a=0,wp.current=null,n===null||n.return===null){Mt=1,Pa=t,At=null;break}e:{var a=e,i=n.return,l=n,c=t;if(t=Ut,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,g=d.tag;if(!(d.mode&1)&&(g===0||g===11||g===15)){var b=d.alternate;b?(d.updateQueue=b.updateQueue,d.memoizedState=b.memoizedState,d.lanes=b.lanes):(d.updateQueue=null,d.memoizedState=null)}var N=pm(i);if(N!==null){N.flags&=-257,fm(N,i,l,a,t),N.mode&1&&dm(a,u,t),t=N,c=u;var h=t.updateQueue;if(h===null){var y=new Set;y.add(c),t.updateQueue=y}else h.add(c);break e}else{if(!(t&1)){dm(a,u,t),kp();break e}c=Error(ne(426))}}else if(ht&&l.mode&1){var S=pm(i);if(S!==null){!(S.flags&65536)&&(S.flags|=256),fm(S,i,l,a,t),ap(mo(c,l));break e}}a=c=mo(c,l),Mt!==4&&(Mt=2),ca===null?ca=[a]:ca.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var v=Ax(a,c,t);om(a,v);break e;case 1:l=c;var w=a.type,f=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Vr===null||!Vr.has(f)))){a.flags|=65536,t&=-t,a.lanes|=t;var x=Ox(a,l,t);om(a,x);break e}}a=a.return}while(a!==null)}e0(n)}catch(_){t=_,At===n&&n!==null&&(At=n=n.return);continue}break}while(!0)}function Xx(){var e=ml.current;return ml.current=fl,e===null?fl:e}function kp(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),Ft===null||!(ws&268435455)&&!(Fl&268435455)||Ar(Ft,Ut)}function xl(e,t){var n=qe;qe|=2;var r=Xx();(Ft!==e||Ut!==t)&&(xr=null,ms(e,t));do try{sw();break}catch(s){Qx(e,s)}while(!0);if(lp(),qe=n,ml.current=r,At!==null)throw Error(ne(261));return Ft=null,Ut=0,Mt}function sw(){for(;At!==null;)Zx(At)}function ow(){for(;At!==null&&!$v();)Zx(At)}function Zx(e){var t=n0(e.alternate,e,bn);e.memoizedProps=e.pendingProps,t===null?e0(e):At=t,wp.current=null}function e0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Xb(n,t),n!==null){n.flags&=32767,At=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Mt=6,At=null;return}}else if(n=Qb(n,t,bn),n!==null){At=n;return}if(t=t.sibling,t!==null){At=t;return}At=t=e}while(t!==null);Mt===0&&(Mt=5)}function os(e,t,n){var r=et,s=Ln.transition;try{Ln.transition=null,et=1,aw(e,t,n,r)}finally{Ln.transition=s,et=r}return null}function aw(e,t,n,r){do oo();while(zr!==null);if(qe&6)throw Error(ne(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ne(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(Fv(e,a),e===Ft&&(At=Ft=null,Ut=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||yi||(yi=!0,r0(Xi,function(){return oo(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Ln.transition,Ln.transition=null;var i=et;et=1;var l=qe;qe|=4,wp.current=null,ew(e,n),Kx(n,e),kb(Ku),el=!!Gu,Ku=Gu=null,e.current=n,tw(n),Pv(),qe=l,et=i,Ln.transition=a}else e.current=n;if(yi&&(yi=!1,zr=e,gl=s),a=e.pendingLanes,a===0&&(Vr=null),Av(n.stateNode),gn(e,$t()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(hl)throw hl=!1,e=md,md=null,e;return gl&1&&e.tag!==0&&oo(),a=e.pendingLanes,a&1?e===hd?ua++:(ua=0,hd=e):ua=0,Qr(),null}function oo(){if(zr!==null){var e=Ag(gl),t=Ln.transition,n=et;try{if(Ln.transition=null,et=16>e?16:e,zr===null)var r=!1;else{if(e=zr,zr=null,gl=0,qe&6)throw Error(ne(331));var s=qe;for(qe|=4,fe=e.current;fe!==null;){var a=fe,i=a.child;if(fe.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(fe=u;fe!==null;){var d=fe;switch(d.tag){case 0:case 11:case 15:la(8,d,a)}var g=d.child;if(g!==null)g.return=d,fe=g;else for(;fe!==null;){d=fe;var b=d.sibling,N=d.return;if(qx(d),d===u){fe=null;break}if(b!==null){b.return=N,fe=b;break}fe=N}}}var h=a.alternate;if(h!==null){var y=h.child;if(y!==null){h.child=null;do{var S=y.sibling;y.sibling=null,y=S}while(y!==null)}}fe=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,fe=i;else e:for(;fe!==null;){if(a=fe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:la(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,fe=v;break e}fe=a.return}}var w=e.current;for(fe=w;fe!==null;){i=fe;var f=i.child;if(i.subtreeFlags&2064&&f!==null)f.return=i,fe=f;else e:for(i=w;fe!==null;){if(l=fe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Dl(9,l)}}catch(_){kt(l,l.return,_)}if(l===i){fe=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,fe=x;break e}fe=l.return}}if(qe=s,Qr(),dr&&typeof dr.onPostCommitFiberRoot=="function")try{dr.onPostCommitFiberRoot(Pl,e)}catch{}r=!0}return r}finally{et=n,Ln.transition=t}}return!1}function km(e,t,n){t=mo(n,t),t=Ax(e,t,1),e=Br(e,t,1),t=on(),e!==null&&(Ma(e,1,t),gn(e,t))}function kt(e,t,n){if(e.tag===3)km(e,e,n);else for(;t!==null;){if(t.tag===3){km(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vr===null||!Vr.has(r))){e=mo(n,e),e=Ox(t,e,1),t=Br(t,e,1),e=on(),t!==null&&(Ma(t,1,e),gn(t,e));break}}t=t.return}}function iw(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=on(),e.pingedLanes|=e.suspendedLanes&n,Ft===e&&(Ut&n)===n&&(Mt===4||Mt===3&&(Ut&130023424)===Ut&&500>$t()-Sp?ms(e,0):jp|=n),gn(e,t)}function t0(e,t){t===0&&(e.mode&1?(t=li,li<<=1,!(li&130023424)&&(li=4194304)):t=1);var n=on();e=Nr(e,t),e!==null&&(Ma(e,t,n),gn(e,n))}function lw(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),t0(e,n)}function cw(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ne(314))}r!==null&&r.delete(t),t0(e,n)}var n0;n0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||mn.current)fn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return fn=!1,Yb(e,t,n);fn=!!(e.flags&131072)}else fn=!1,ht&&t.flags&1048576&&ax(t,il,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Mi(e,t),e=t.pendingProps;var s=co(t,nn.current);so(t,n),s=gp(null,t,r,e,s,n);var a=xp();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,hn(r)?(a=!0,ol(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,dp(t),s.updater=Ml,t.stateNode=s,s._reactInternals=t,rd(t,r,e,n),t=ad(null,t,r,!0,a,n)):(t.tag=0,ht&&a&&sp(t),sn(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Mi(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=dw(r),e=qn(r,e),s){case 0:t=od(null,t,r,e,n);break e;case 1:t=gm(null,t,r,e,n);break e;case 11:t=mm(null,t,r,e,n);break e;case 14:t=hm(null,t,r,qn(r.type,e),n);break e}throw Error(ne(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:qn(r,s),od(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:qn(r,s),gm(e,t,r,s,n);case 3:e:{if(Dx(t),e===null)throw Error(ne(387));r=t.pendingProps,a=t.memoizedState,s=a.element,px(e,t),ul(t,r,null,n);var i=t.memoizedState;if(r=i.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=mo(Error(ne(423)),t),t=xm(e,t,r,n,s);break e}else if(r!==s){s=mo(Error(ne(424)),t),t=xm(e,t,r,n,s);break e}else for(Sn=Fr(t.stateNode.containerInfo.firstChild),Cn=t,ht=!0,Gn=null,n=ux(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(uo(),r===s){t=Cr(e,t,n);break e}sn(e,t,r,n)}t=t.child}return t;case 5:return fx(t),e===null&&ed(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,Ju(r,s)?i=null:a!==null&&Ju(r,a)&&(t.flags|=32),Mx(e,t),sn(e,t,i,n),t.child;case 6:return e===null&&ed(t),null;case 13:return Fx(e,t,n);case 4:return pp(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=po(t,null,r,n):sn(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:qn(r,s),mm(e,t,r,s,n);case 7:return sn(e,t,t.pendingProps,n),t.child;case 8:return sn(e,t,t.pendingProps.children,n),t.child;case 12:return sn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,i=s.value,ut(ll,r._currentValue),r._currentValue=i,a!==null)if(Yn(a.value,i)){if(a.children===s.children&&!mn.current){t=Cr(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){i=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=wr(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),td(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(ne(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),td(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}sn(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,so(t,n),s=Mn(s),r=r(s),t.flags|=1,sn(e,t,r,n),t.child;case 14:return r=t.type,s=qn(r,t.pendingProps),s=qn(r.type,s),hm(e,t,r,s,n);case 15:return zx(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:qn(r,s),Mi(e,t),t.tag=1,hn(r)?(e=!0,ol(t)):e=!1,so(t,n),Ix(t,r,s),rd(t,r,s,n),ad(null,t,r,!0,e,n);case 19:return Bx(e,t,n);case 22:return Lx(e,t,n)}throw Error(ne(156,t.tag))};function r0(e,t){return $g(e,t)}function uw(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(e,t,n,r){return new uw(e,t,n,r)}function Ep(e){return e=e.prototype,!(!e||!e.isReactComponent)}function dw(e){if(typeof e=="function")return Ep(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ud)return 11;if(e===Gd)return 14}return 2}function Wr(e,t){var n=e.alternate;return n===null?(n=zn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Bi(e,t,n,r,s,a){var i=2;if(r=e,typeof e=="function")Ep(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Hs:return hs(n.children,s,a,t);case qd:i=8,s|=8;break;case Eu:return e=zn(12,n,t,s|2),e.elementType=Eu,e.lanes=a,e;case _u:return e=zn(13,n,t,s),e.elementType=_u,e.lanes=a,e;case Tu:return e=zn(19,n,t,s),e.elementType=Tu,e.lanes=a,e;case fg:return Bl(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dg:i=10;break e;case pg:i=9;break e;case Ud:i=11;break e;case Gd:i=14;break e;case Pr:i=16,r=null;break e}throw Error(ne(130,e==null?e:typeof e,""))}return t=zn(i,n,t,s),t.elementType=e,t.type=r,t.lanes=a,t}function hs(e,t,n,r){return e=zn(7,e,r,t),e.lanes=n,e}function Bl(e,t,n,r){return e=zn(22,e,r,t),e.elementType=fg,e.lanes=n,e.stateNode={isHidden:!1},e}function lu(e,t,n){return e=zn(6,e,null,t),e.lanes=n,e}function cu(e,t,n){return t=zn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function pw(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hc(0),this.expirationTimes=Hc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hc(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function _p(e,t,n,r,s,a,i,l,c){return e=new pw(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=zn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},dp(a),e}function fw(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vs,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function s0(e){if(!e)return Gr;e=e._reactInternals;e:{if(Es(e)!==e||e.tag!==1)throw Error(ne(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(hn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ne(171))}if(e.tag===1){var n=e.type;if(hn(n))return sx(e,n,t)}return t}function o0(e,t,n,r,s,a,i,l,c){return e=_p(n,r,!0,e,s,a,i,l,c),e.context=s0(null),n=e.current,r=on(),s=Hr(n),a=wr(r,s),a.callback=t??null,Br(n,a,s),e.current.lanes=s,Ma(e,s,r),gn(e,r),e}function Vl(e,t,n,r){var s=t.current,a=on(),i=Hr(s);return n=s0(n),t.context===null?t.context=n:t.pendingContext=n,t=wr(a,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Br(s,t,i),e!==null&&(Jn(e,s,i,a),Oi(e,s,i)),i}function yl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Em(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Tp(e,t){Em(e,t),(e=e.alternate)&&Em(e,t)}function mw(){return null}var a0=typeof reportError=="function"?reportError:function(e){console.error(e)};function $p(e){this._internalRoot=e}Hl.prototype.render=$p.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ne(409));Vl(e,t,null,null)};Hl.prototype.unmount=$p.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;js(function(){Vl(null,e,null,null)}),t[Sr]=null}};function Hl(e){this._internalRoot=e}Hl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Lg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ir.length&&t!==0&&t<Ir[n].priority;n++);Ir.splice(n,0,e),n===0&&Dg(e)}};function Pp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Wl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function _m(){}function hw(e,t,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var u=yl(i);a.call(u)}}var i=o0(t,r,e,0,null,!1,!1,"",_m);return e._reactRootContainer=i,e[Sr]=i.current,Sa(e.nodeType===8?e.parentNode:e),js(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=yl(c);l.call(u)}}var c=_p(e,0,!1,null,null,!1,!1,"",_m);return e._reactRootContainer=c,e[Sr]=c.current,Sa(e.nodeType===8?e.parentNode:e),js(function(){Vl(t,c,n,r)}),c}function ql(e,t,n,r,s){var a=n._reactRootContainer;if(a){var i=a;if(typeof s=="function"){var l=s;s=function(){var c=yl(i);l.call(c)}}Vl(t,i,e,s)}else i=hw(n,t,e,s,r);return yl(i)}Og=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Jo(t.pendingLanes);n!==0&&(Yd(t,n|1),gn(t,$t()),!(qe&6)&&(ho=$t()+500,Qr()))}break;case 13:js(function(){var r=Nr(e,1);if(r!==null){var s=on();Jn(r,e,1,s)}}),Tp(e,1)}};Qd=function(e){if(e.tag===13){var t=Nr(e,134217728);if(t!==null){var n=on();Jn(t,e,134217728,n)}Tp(e,134217728)}};zg=function(e){if(e.tag===13){var t=Hr(e),n=Nr(e,t);if(n!==null){var r=on();Jn(n,e,t,r)}Tp(e,t)}};Lg=function(){return et};Mg=function(e,t){var n=et;try{return et=e,t()}finally{et=n}};Du=function(e,t,n){switch(t){case"input":if(Ru(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Ol(r);if(!s)throw Error(ne(90));hg(r),Ru(r,s)}}}break;case"textarea":xg(e,n);break;case"select":t=n.value,t!=null&&eo(e,!!n.multiple,t,!1)}};Ng=Np;Cg=js;var gw={usingClientEntryPoint:!1,Events:[Fa,Gs,Ol,jg,Sg,Np]},Do={findFiberByHostInstance:ls,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xw={bundleType:Do.bundleType,version:Do.version,rendererPackageName:Do.rendererPackageName,rendererConfig:Do.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_r.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=_g(e),e===null?null:e.stateNode},findFiberByHostInstance:Do.findFiberByHostInstance||mw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vi.isDisabled&&vi.supportsFiber)try{Pl=vi.inject(xw),dr=vi}catch{}}_n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gw;_n.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pp(t))throw Error(ne(200));return fw(e,t,null,n)};_n.createRoot=function(e,t){if(!Pp(e))throw Error(ne(299));var n=!1,r="",s=a0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=_p(e,1,!1,null,null,n,!1,r,s),e[Sr]=t.current,Sa(e.nodeType===8?e.parentNode:e),new $p(t)};_n.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ne(188)):(e=Object.keys(e).join(","),Error(ne(268,e)));return e=_g(t),e=e===null?null:e.stateNode,e};_n.flushSync=function(e){return js(e)};_n.hydrate=function(e,t,n){if(!Wl(t))throw Error(ne(200));return ql(null,e,t,!0,n)};_n.hydrateRoot=function(e,t,n){if(!Pp(e))throw Error(ne(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",i=a0;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=o0(t,null,e,1,n??null,s,!1,a,i),e[Sr]=t.current,Sa(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Hl(t)};_n.render=function(e,t,n){if(!Wl(t))throw Error(ne(200));return ql(null,e,t,!1,n)};_n.unmountComponentAtNode=function(e){if(!Wl(e))throw Error(ne(40));return e._reactRootContainer?(js(function(){ql(null,null,e,!1,function(){e._reactRootContainer=null,e[Sr]=null})}),!0):!1};_n.unstable_batchedUpdates=Np;_n.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Wl(n))throw Error(ne(200));if(e==null||e._reactInternals===void 0)throw Error(ne(38));return ql(e,t,n,!1,r)};_n.version="18.3.1-next-f1338f8080-20240426";function i0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i0)}catch(e){console.error(e)}}i0(),ig.exports=_n;var Rp=ig.exports;const bi=Jh(Rp);var Tm=Rp;Cu.createRoot=Tm.createRoot,Cu.hydrateRoot=Tm.hydrateRoot;const Ra={black:"#000",white:"#fff"},Is={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},As={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Os={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},zs={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Ls={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Fo={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},yw={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function kr(e,...t){const n=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${e}; visit ${n} for the full message.`}const Ul="$$material";function vl(){return vl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vl.apply(null,arguments)}function vw(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function bw(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var ww=function(){function e(n){var r=this;this._insertTag=function(s){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,a),r.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(bw(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var a=vw(s);try{a.insertRule(r,a.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},e}(),Xt="-ms-",bl="-moz-",Ge="-webkit-",l0="comm",Ip="rule",Ap="decl",jw="@import",c0="@keyframes",Sw="@layer",Nw=Math.abs,Gl=String.fromCharCode,Cw=Object.assign;function kw(e,t){return qt(e,0)^45?(((t<<2^qt(e,0))<<2^qt(e,1))<<2^qt(e,2))<<2^qt(e,3):0}function u0(e){return e.trim()}function Ew(e,t){return(e=t.exec(e))?e[0]:e}function Ke(e,t,n){return e.replace(t,n)}function yd(e,t){return e.indexOf(t)}function qt(e,t){return e.charCodeAt(t)|0}function Ia(e,t,n){return e.slice(t,n)}function ar(e){return e.length}function Op(e){return e.length}function wi(e,t){return t.push(e),e}function _w(e,t){return e.map(t).join("")}var Kl=1,go=1,d0=0,vn=0,It=0,So="";function Jl(e,t,n,r,s,a,i){return{value:e,root:t,parent:n,type:r,props:s,children:a,line:Kl,column:go,length:i,return:""}}function Bo(e,t){return Cw(Jl("",null,null,"",null,null,0),e,{length:-e.length},t)}function Tw(){return It}function $w(){return It=vn>0?qt(So,--vn):0,go--,It===10&&(go=1,Kl--),It}function kn(){return It=vn<d0?qt(So,vn++):0,go++,It===10&&(go=1,Kl++),It}function fr(){return qt(So,vn)}function Vi(){return vn}function Va(e,t){return Ia(So,e,t)}function Aa(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function p0(e){return Kl=go=1,d0=ar(So=e),vn=0,[]}function f0(e){return So="",e}function Hi(e){return u0(Va(vn-1,vd(e===91?e+2:e===40?e+1:e)))}function Pw(e){for(;(It=fr())&&It<33;)kn();return Aa(e)>2||Aa(It)>3?"":" "}function Rw(e,t){for(;--t&&kn()&&!(It<48||It>102||It>57&&It<65||It>70&&It<97););return Va(e,Vi()+(t<6&&fr()==32&&kn()==32))}function vd(e){for(;kn();)switch(It){case e:return vn;case 34:case 39:e!==34&&e!==39&&vd(It);break;case 40:e===41&&vd(e);break;case 92:kn();break}return vn}function Iw(e,t){for(;kn()&&e+It!==57;)if(e+It===84&&fr()===47)break;return"/*"+Va(t,vn-1)+"*"+Gl(e===47?e:kn())}function Aw(e){for(;!Aa(fr());)kn();return Va(e,vn)}function Ow(e){return f0(Wi("",null,null,null,[""],e=p0(e),0,[0],e))}function Wi(e,t,n,r,s,a,i,l,c){for(var u=0,d=0,g=i,b=0,N=0,h=0,y=1,S=1,v=1,w=0,f="",x=s,_=a,k=r,P=f;S;)switch(h=w,w=kn()){case 40:if(h!=108&&qt(P,g-1)==58){yd(P+=Ke(Hi(w),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:P+=Hi(w);break;case 9:case 10:case 13:case 32:P+=Pw(h);break;case 92:P+=Rw(Vi()-1,7);continue;case 47:switch(fr()){case 42:case 47:wi(zw(Iw(kn(),Vi()),t,n),c);break;default:P+="/"}break;case 123*y:l[u++]=ar(P)*v;case 125*y:case 59:case 0:switch(w){case 0:case 125:S=0;case 59+d:v==-1&&(P=Ke(P,/\f/g,"")),N>0&&ar(P)-g&&wi(N>32?Pm(P+";",r,n,g-1):Pm(Ke(P," ","")+";",r,n,g-2),c);break;case 59:P+=";";default:if(wi(k=$m(P,t,n,u,d,s,l,f,x=[],_=[],g),a),w===123)if(d===0)Wi(P,t,k,k,x,a,g,l,_);else switch(b===99&&qt(P,3)===110?100:b){case 100:case 108:case 109:case 115:Wi(e,k,k,r&&wi($m(e,k,k,0,0,s,l,f,s,x=[],g),_),s,_,g,l,r?x:_);break;default:Wi(P,k,k,k,[""],_,0,l,_)}}u=d=N=0,y=v=1,f=P="",g=i;break;case 58:g=1+ar(P),N=h;default:if(y<1){if(w==123)--y;else if(w==125&&y++==0&&$w()==125)continue}switch(P+=Gl(w),w*y){case 38:v=d>0?1:(P+="\f",-1);break;case 44:l[u++]=(ar(P)-1)*v,v=1;break;case 64:fr()===45&&(P+=Hi(kn())),b=fr(),d=g=ar(f=P+=Aw(Vi())),w++;break;case 45:h===45&&ar(P)==2&&(y=0)}}return a}function $m(e,t,n,r,s,a,i,l,c,u,d){for(var g=s-1,b=s===0?a:[""],N=Op(b),h=0,y=0,S=0;h<r;++h)for(var v=0,w=Ia(e,g+1,g=Nw(y=i[h])),f=e;v<N;++v)(f=u0(y>0?b[v]+" "+w:Ke(w,/&\f/g,b[v])))&&(c[S++]=f);return Jl(e,t,n,s===0?Ip:l,c,u,d)}function zw(e,t,n){return Jl(e,t,n,l0,Gl(Tw()),Ia(e,2,-2),0)}function Pm(e,t,n,r){return Jl(e,t,n,Ap,Ia(e,0,r),Ia(e,r+1,-1),r)}function ao(e,t){for(var n="",r=Op(e),s=0;s<r;s++)n+=t(e[s],s,e,t)||"";return n}function Lw(e,t,n,r){switch(e.type){case Sw:if(e.children.length)break;case jw:case Ap:return e.return=e.return||e.value;case l0:return"";case c0:return e.return=e.value+"{"+ao(e.children,r)+"}";case Ip:e.value=e.props.join(",")}return ar(n=ao(e.children,r))?e.return=e.value+"{"+n+"}":""}function Mw(e){var t=Op(e);return function(n,r,s,a){for(var i="",l=0;l<t;l++)i+=e[l](n,r,s,a)||"";return i}}function Dw(e){return function(t){t.root||(t=t.return)&&e(t)}}function m0(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var Fw=function(t,n,r){for(var s=0,a=0;s=a,a=fr(),s===38&&a===12&&(n[r]=1),!Aa(a);)kn();return Va(t,vn)},Bw=function(t,n){var r=-1,s=44;do switch(Aa(s)){case 0:s===38&&fr()===12&&(n[r]=1),t[r]+=Fw(vn-1,n,r);break;case 2:t[r]+=Hi(s);break;case 4:if(s===44){t[++r]=fr()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=Gl(s)}while(s=kn());return t},Vw=function(t,n){return f0(Bw(p0(t),n))},Rm=new WeakMap,Hw=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,s=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!Rm.get(r))&&!s){Rm.set(t,!0);for(var a=[],i=Vw(n,a),l=r.props,c=0,u=0;c<i.length;c++)for(var d=0;d<l.length;d++,u++)t.props[u]=a[c]?i[c].replace(/&\f/g,l[d]):l[d]+" "+i[c]}}},Ww=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function h0(e,t){switch(kw(e,t)){case 5103:return Ge+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ge+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Ge+e+bl+e+Xt+e+e;case 6828:case 4268:return Ge+e+Xt+e+e;case 6165:return Ge+e+Xt+"flex-"+e+e;case 5187:return Ge+e+Ke(e,/(\w+).+(:[^]+)/,Ge+"box-$1$2"+Xt+"flex-$1$2")+e;case 5443:return Ge+e+Xt+"flex-item-"+Ke(e,/flex-|-self/,"")+e;case 4675:return Ge+e+Xt+"flex-line-pack"+Ke(e,/align-content|flex-|-self/,"")+e;case 5548:return Ge+e+Xt+Ke(e,"shrink","negative")+e;case 5292:return Ge+e+Xt+Ke(e,"basis","preferred-size")+e;case 6060:return Ge+"box-"+Ke(e,"-grow","")+Ge+e+Xt+Ke(e,"grow","positive")+e;case 4554:return Ge+Ke(e,/([^-])(transform)/g,"$1"+Ge+"$2")+e;case 6187:return Ke(Ke(Ke(e,/(zoom-|grab)/,Ge+"$1"),/(image-set)/,Ge+"$1"),e,"")+e;case 5495:case 3959:return Ke(e,/(image-set\([^]*)/,Ge+"$1$`$1");case 4968:return Ke(Ke(e,/(.+:)(flex-)?(.*)/,Ge+"box-pack:$3"+Xt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ge+e+e;case 4095:case 3583:case 4068:case 2532:return Ke(e,/(.+)-inline(.+)/,Ge+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ar(e)-1-t>6)switch(qt(e,t+1)){case 109:if(qt(e,t+4)!==45)break;case 102:return Ke(e,/(.+:)(.+)-([^]+)/,"$1"+Ge+"$2-$3$1"+bl+(qt(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~yd(e,"stretch")?h0(Ke(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(qt(e,t+1)!==115)break;case 6444:switch(qt(e,ar(e)-3-(~yd(e,"!important")&&10))){case 107:return Ke(e,":",":"+Ge)+e;case 101:return Ke(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ge+(qt(e,14)===45?"inline-":"")+"box$3$1"+Ge+"$2$3$1"+Xt+"$2box$3")+e}break;case 5936:switch(qt(e,t+11)){case 114:return Ge+e+Xt+Ke(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Ge+e+Xt+Ke(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Ge+e+Xt+Ke(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Ge+e+Xt+e+e}return e}var qw=function(t,n,r,s){if(t.length>-1&&!t.return)switch(t.type){case Ap:t.return=h0(t.value,t.length);break;case c0:return ao([Bo(t,{value:Ke(t.value,"@","@"+Ge)})],s);case Ip:if(t.length)return _w(t.props,function(a){switch(Ew(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ao([Bo(t,{props:[Ke(a,/:(read-\w+)/,":"+bl+"$1")]})],s);case"::placeholder":return ao([Bo(t,{props:[Ke(a,/:(plac\w+)/,":"+Ge+"input-$1")]}),Bo(t,{props:[Ke(a,/:(plac\w+)/,":"+bl+"$1")]}),Bo(t,{props:[Ke(a,/:(plac\w+)/,Xt+"input-$1")]})],s)}return""})}},Uw=[qw],Gw=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var S=y.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var s=t.stylisPlugins||Uw,a={},i,l=[];i=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var S=y.getAttribute("data-emotion").split(" "),v=1;v<S.length;v++)a[S[v]]=!0;l.push(y)});var c,u=[Hw,Ww];{var d,g=[Lw,Dw(function(y){d.insert(y)})],b=Mw(u.concat(s,g)),N=function(S){return ao(Ow(S),b)};c=function(S,v,w,f){d=w,N(S?S+"{"+v.styles+"}":v.styles),f&&(h.inserted[v.name]=!0)}}var h={key:n,sheet:new ww({key:n,container:i,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:c};return h.sheet.hydrate(l),h},g0={exports:{}},tt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bt=typeof Symbol=="function"&&Symbol.for,zp=Bt?Symbol.for("react.element"):60103,Lp=Bt?Symbol.for("react.portal"):60106,Yl=Bt?Symbol.for("react.fragment"):60107,Ql=Bt?Symbol.for("react.strict_mode"):60108,Xl=Bt?Symbol.for("react.profiler"):60114,Zl=Bt?Symbol.for("react.provider"):60109,ec=Bt?Symbol.for("react.context"):60110,Mp=Bt?Symbol.for("react.async_mode"):60111,tc=Bt?Symbol.for("react.concurrent_mode"):60111,nc=Bt?Symbol.for("react.forward_ref"):60112,rc=Bt?Symbol.for("react.suspense"):60113,Kw=Bt?Symbol.for("react.suspense_list"):60120,sc=Bt?Symbol.for("react.memo"):60115,oc=Bt?Symbol.for("react.lazy"):60116,Jw=Bt?Symbol.for("react.block"):60121,Yw=Bt?Symbol.for("react.fundamental"):60117,Qw=Bt?Symbol.for("react.responder"):60118,Xw=Bt?Symbol.for("react.scope"):60119;function $n(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case zp:switch(e=e.type,e){case Mp:case tc:case Yl:case Xl:case Ql:case rc:return e;default:switch(e=e&&e.$$typeof,e){case ec:case nc:case oc:case sc:case Zl:return e;default:return t}}case Lp:return t}}}function x0(e){return $n(e)===tc}tt.AsyncMode=Mp;tt.ConcurrentMode=tc;tt.ContextConsumer=ec;tt.ContextProvider=Zl;tt.Element=zp;tt.ForwardRef=nc;tt.Fragment=Yl;tt.Lazy=oc;tt.Memo=sc;tt.Portal=Lp;tt.Profiler=Xl;tt.StrictMode=Ql;tt.Suspense=rc;tt.isAsyncMode=function(e){return x0(e)||$n(e)===Mp};tt.isConcurrentMode=x0;tt.isContextConsumer=function(e){return $n(e)===ec};tt.isContextProvider=function(e){return $n(e)===Zl};tt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===zp};tt.isForwardRef=function(e){return $n(e)===nc};tt.isFragment=function(e){return $n(e)===Yl};tt.isLazy=function(e){return $n(e)===oc};tt.isMemo=function(e){return $n(e)===sc};tt.isPortal=function(e){return $n(e)===Lp};tt.isProfiler=function(e){return $n(e)===Xl};tt.isStrictMode=function(e){return $n(e)===Ql};tt.isSuspense=function(e){return $n(e)===rc};tt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Yl||e===tc||e===Xl||e===Ql||e===rc||e===Kw||typeof e=="object"&&e!==null&&(e.$$typeof===oc||e.$$typeof===sc||e.$$typeof===Zl||e.$$typeof===ec||e.$$typeof===nc||e.$$typeof===Yw||e.$$typeof===Qw||e.$$typeof===Xw||e.$$typeof===Jw)};tt.typeOf=$n;g0.exports=tt;var Zw=g0.exports,y0=Zw,e1={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},t1={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},v0={};v0[y0.ForwardRef]=e1;v0[y0.Memo]=t1;var n1=!0;function b0(e,t,n){var r="";return n.split(" ").forEach(function(s){e[s]!==void 0?t.push(e[s]+";"):s&&(r+=s+" ")}),r}var Dp=function(t,n,r){var s=t.key+"-"+n.name;(r===!1||n1===!1)&&t.registered[s]===void 0&&(t.registered[s]=n.styles)},Fp=function(t,n,r){Dp(t,n,r);var s=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var a=n;do t.insert(n===a?"."+s:"",a,t.sheet,!0),a=a.next;while(a!==void 0)}};function r1(e){for(var t=0,n,r=0,s=e.length;s>=4;++r,s-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(s){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var s1={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},o1=/[A-Z]|^ms/g,a1=/_EMO_([^_]+?)_([^]*?)_EMO_/g,w0=function(t){return t.charCodeAt(1)===45},Im=function(t){return t!=null&&typeof t!="boolean"},uu=m0(function(e){return w0(e)?e:e.replace(o1,"-$&").toLowerCase()}),Am=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(a1,function(r,s,a){return ir={name:s,styles:a,next:ir},s})}return s1[t]!==1&&!w0(t)&&typeof n=="number"&&n!==0?n+"px":n};function Oa(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var s=n;if(s.anim===1)return ir={name:s.name,styles:s.styles,next:ir},s.name;var a=n;if(a.styles!==void 0){var i=a.next;if(i!==void 0)for(;i!==void 0;)ir={name:i.name,styles:i.styles,next:ir},i=i.next;var l=a.styles+";";return l}return i1(e,t,n)}case"function":{if(e!==void 0){var c=ir,u=n(e);return ir=c,Oa(e,t,u)}break}}var d=n;if(t==null)return d;var g=t[d];return g!==void 0?g:d}function i1(e,t,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=Oa(e,t,n[s])+";";else for(var a in n){var i=n[a];if(typeof i!="object"){var l=i;t!=null&&t[l]!==void 0?r+=a+"{"+t[l]+"}":Im(l)&&(r+=uu(a)+":"+Am(a,l)+";")}else if(Array.isArray(i)&&typeof i[0]=="string"&&(t==null||t[i[0]]===void 0))for(var c=0;c<i.length;c++)Im(i[c])&&(r+=uu(a)+":"+Am(a,i[c])+";");else{var u=Oa(e,t,i);switch(a){case"animation":case"animationName":{r+=uu(a)+":"+u+";";break}default:r+=a+"{"+u+"}"}}}return r}var Om=/label:\s*([^\s;{]+)\s*(;|$)/g,ir;function Ha(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,s="";ir=void 0;var a=e[0];if(a==null||a.raw===void 0)r=!1,s+=Oa(n,t,a);else{var i=a;s+=i[0]}for(var l=1;l<e.length;l++)if(s+=Oa(n,t,e[l]),r){var c=a;s+=c[l]}Om.lastIndex=0;for(var u="",d;(d=Om.exec(s))!==null;)u+="-"+d[1];var g=r1(s)+u;return{name:g,styles:s,next:ir}}var l1=function(t){return t()},j0=Nu.useInsertionEffect?Nu.useInsertionEffect:!1,S0=j0||l1,zm=j0||m.useLayoutEffect,N0=m.createContext(typeof HTMLElement<"u"?Gw({key:"css"}):null);N0.Provider;var Bp=function(t){return m.forwardRef(function(n,r){var s=m.useContext(N0);return t(n,s,r)})},ac=m.createContext({}),Vp={}.hasOwnProperty,bd="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",c1=function(t,n){var r={};for(var s in n)Vp.call(n,s)&&(r[s]=n[s]);return r[bd]=t,r},u1=function(t){var n=t.cache,r=t.serialized,s=t.isStringTag;return Dp(n,r,s),S0(function(){return Fp(n,r,s)}),null},d1=Bp(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var s=e[bd],a=[r],i="";typeof e.className=="string"?i=b0(t.registered,a,e.className):e.className!=null&&(i=e.className+" ");var l=Ha(a,void 0,m.useContext(ac));i+=t.key+"-"+l.name;var c={};for(var u in e)Vp.call(e,u)&&u!=="css"&&u!==bd&&(c[u]=e[u]);return c.className=i,n&&(c.ref=n),m.createElement(m.Fragment,null,m.createElement(u1,{cache:t,serialized:l,isStringTag:typeof s=="string"}),m.createElement(s,c))}),p1=d1,Lm=function(t,n){var r=arguments;if(n==null||!Vp.call(n,"css"))return m.createElement.apply(void 0,r);var s=r.length,a=new Array(s);a[0]=p1,a[1]=c1(t,n);for(var i=2;i<s;i++)a[i]=r[i];return m.createElement.apply(null,a)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(Lm||(Lm={}));var f1=Bp(function(e,t){var n=e.styles,r=Ha([n],void 0,m.useContext(ac)),s=m.useRef();return zm(function(){var a=t.key+"-global",i=new t.sheet.constructor({key:a,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),l=!1,c=document.querySelector('style[data-emotion="'+a+" "+r.name+'"]');return t.sheet.tags.length&&(i.before=t.sheet.tags[0]),c!==null&&(l=!0,c.setAttribute("data-emotion",a),i.hydrate([c])),s.current=[i,l],function(){i.flush()}},[t]),zm(function(){var a=s.current,i=a[0],l=a[1];if(l){a[1]=!1;return}if(r.next!==void 0&&Fp(t,r.next,!0),i.tags.length){var c=i.tags[i.tags.length-1].nextElementSibling;i.before=c,i.flush()}t.insert("",r,i,!1)},[t,r.name]),null});function Hp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ha(t)}function Wa(){var e=Hp.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var m1=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,h1=m0(function(e){return m1.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),g1=h1,x1=function(t){return t!=="theme"},Mm=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?g1:x1},Dm=function(t,n,r){var s;if(n){var a=n.shouldForwardProp;s=t.__emotion_forwardProp&&a?function(i){return t.__emotion_forwardProp(i)&&a(i)}:a}return typeof s!="function"&&r&&(s=t.__emotion_forwardProp),s},y1=function(t){var n=t.cache,r=t.serialized,s=t.isStringTag;return Dp(n,r,s),S0(function(){return Fp(n,r,s)}),null},v1=function e(t,n){var r=t.__emotion_real===t,s=r&&t.__emotion_base||t,a,i;n!==void 0&&(a=n.label,i=n.target);var l=Dm(t,n,r),c=l||Mm(s),u=!c("as");return function(){var d=arguments,g=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(a!==void 0&&g.push("label:"+a+";"),d[0]==null||d[0].raw===void 0)g.push.apply(g,d);else{var b=d[0];g.push(b[0]);for(var N=d.length,h=1;h<N;h++)g.push(d[h],b[h])}var y=Bp(function(S,v,w){var f=u&&S.as||s,x="",_=[],k=S;if(S.theme==null){k={};for(var P in S)k[P]=S[P];k.theme=m.useContext(ac)}typeof S.className=="string"?x=b0(v.registered,_,S.className):S.className!=null&&(x=S.className+" ");var A=Ha(g.concat(_),v.registered,k);x+=v.key+"-"+A.name,i!==void 0&&(x+=" "+i);var C=u&&l===void 0?Mm(f):c,R={};for(var L in S)u&&L==="as"||C(L)&&(R[L]=S[L]);return R.className=x,w&&(R.ref=w),m.createElement(m.Fragment,null,m.createElement(y1,{cache:v,serialized:A,isStringTag:typeof f=="string"}),m.createElement(f,R))});return y.displayName=a!==void 0?a:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",y.defaultProps=t.defaultProps,y.__emotion_real=y,y.__emotion_base=s,y.__emotion_styles=g,y.__emotion_forwardProp=l,Object.defineProperty(y,"toString",{value:function(){return"."+i}}),y.withComponent=function(S,v){var w=e(S,vl({},n,v,{shouldForwardProp:Dm(y,v,!0)}));return w.apply(void 0,g)},y}},b1=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],wd=v1.bind(null);b1.forEach(function(e){wd[e]=wd(e)});function w1(e){return e==null||Object.keys(e).length===0}function j1(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?s=>t(w1(s)?n:s):t;return o.jsx(f1,{styles:r})}function C0(e,t){return wd(e,t)}function S1(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}const Fm=[];function qr(e){return Fm[0]=e,Ha(Fm)}var k0={exports:{}},it={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp=Symbol.for("react.transitional.element"),qp=Symbol.for("react.portal"),ic=Symbol.for("react.fragment"),lc=Symbol.for("react.strict_mode"),cc=Symbol.for("react.profiler"),uc=Symbol.for("react.consumer"),dc=Symbol.for("react.context"),pc=Symbol.for("react.forward_ref"),fc=Symbol.for("react.suspense"),mc=Symbol.for("react.suspense_list"),hc=Symbol.for("react.memo"),gc=Symbol.for("react.lazy"),N1=Symbol.for("react.view_transition"),C1=Symbol.for("react.client.reference");function Fn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Wp:switch(e=e.type,e){case ic:case cc:case lc:case fc:case mc:case N1:return e;default:switch(e=e&&e.$$typeof,e){case dc:case pc:case gc:case hc:return e;case uc:return e;default:return t}}case qp:return t}}}it.ContextConsumer=uc;it.ContextProvider=dc;it.Element=Wp;it.ForwardRef=pc;it.Fragment=ic;it.Lazy=gc;it.Memo=hc;it.Portal=qp;it.Profiler=cc;it.StrictMode=lc;it.Suspense=fc;it.SuspenseList=mc;it.isContextConsumer=function(e){return Fn(e)===uc};it.isContextProvider=function(e){return Fn(e)===dc};it.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Wp};it.isForwardRef=function(e){return Fn(e)===pc};it.isFragment=function(e){return Fn(e)===ic};it.isLazy=function(e){return Fn(e)===gc};it.isMemo=function(e){return Fn(e)===hc};it.isPortal=function(e){return Fn(e)===qp};it.isProfiler=function(e){return Fn(e)===cc};it.isStrictMode=function(e){return Fn(e)===lc};it.isSuspense=function(e){return Fn(e)===fc};it.isSuspenseList=function(e){return Fn(e)===mc};it.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ic||e===cc||e===lc||e===fc||e===mc||typeof e=="object"&&e!==null&&(e.$$typeof===gc||e.$$typeof===hc||e.$$typeof===dc||e.$$typeof===uc||e.$$typeof===pc||e.$$typeof===C1||e.getModuleId!==void 0)};it.typeOf=Fn;k0.exports=it;var E0=k0.exports;function cr(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function _0(e){if(m.isValidElement(e)||E0.isValidElementType(e)||!cr(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=_0(e[n])}),t}function tn(e,t,n={clone:!0}){const r=n.clone?{...e}:e;return cr(e)&&cr(t)&&Object.keys(t).forEach(s=>{m.isValidElement(t[s])||E0.isValidElementType(t[s])?r[s]=t[s]:cr(t[s])&&Object.prototype.hasOwnProperty.call(e,s)&&cr(e[s])?r[s]=tn(e[s],t[s],n):n.clone?r[s]=cr(t[s])?_0(t[s]):t[s]:r[s]=t[s]}),r}const k1=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function E1(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...s}=e,a=k1(t),i=Object.keys(a);function l(b){return`@media (min-width:${typeof t[b]=="number"?t[b]:b}${n})`}function c(b){return`@media (max-width:${(typeof t[b]=="number"?t[b]:b)-r/100}${n})`}function u(b,N){const h=i.indexOf(N);return`@media (min-width:${typeof t[b]=="number"?t[b]:b}${n}) and (max-width:${(h!==-1&&typeof t[i[h]]=="number"?t[i[h]]:N)-r/100}${n})`}function d(b){return i.indexOf(b)+1<i.length?u(b,i[i.indexOf(b)+1]):l(b)}function g(b){const N=i.indexOf(b);return N===0?l(i[1]):N===i.length-1?c(i[N]):u(b,i[i.indexOf(b)+1]).replace("@media","@media not all and")}return{keys:i,values:a,up:l,down:c,between:u,only:d,not:g,unit:n,...s}}function Bm(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter(r=>r.startsWith("@container")).sort((r,s)=>{var i,l;const a=/min-width:\s*([0-9.]+)/;return+(((i=r.match(a))==null?void 0:i[1])||0)-+(((l=s.match(a))==null?void 0:l[1])||0)});return n.length?n.reduce((r,s)=>{const a=t[s];return delete r[s],r[s]=a,r},{...t}):t}function _1(e,t){return t==="@"||t.startsWith("@")&&(e.some(n=>t.startsWith(`@${n}`))||!!t.match(/^@\d/))}function T1(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,s]=n,a=Number.isNaN(+r)?r||0:+r;return e.containerQueries(s).up(a)}function $1(e){const t=(a,i)=>a.replace("@media",i?`@container ${i}`:"@container");function n(a,i){a.up=(...l)=>t(e.breakpoints.up(...l),i),a.down=(...l)=>t(e.breakpoints.down(...l),i),a.between=(...l)=>t(e.breakpoints.between(...l),i),a.only=(...l)=>t(e.breakpoints.only(...l),i),a.not=(...l)=>{const c=t(e.breakpoints.not(...l),i);return c.includes("not all and")?c.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):c}}const r={},s=a=>(n(r,a),r);return n(s),{...e,containerQueries:s}}const P1={borderRadius:4};function da(e,t){return t?tn(e,t,{clone:!1}):e}const xc={xs:0,sm:600,md:900,lg:1200,xl:1536},Vm={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${xc[e]}px)`},R1={containerQueries:e=>({up:t=>{let n=typeof t=="number"?t:xc[t]||t;return typeof n=="number"&&(n=`${n}px`),e?`@container ${e} (min-width:${n})`:`@container (min-width:${n})`}})};function Er(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const a=r.breakpoints||Vm;return t.reduce((i,l,c)=>(i[a.up(a.keys[c])]=n(t[c]),i),{})}if(typeof t=="object"){const a=r.breakpoints||Vm;return Object.keys(t).reduce((i,l)=>{if(_1(a.keys,l)){const c=T1(r.containerQueries?r:R1,l);c&&(i[c]=n(t[l],l))}else if(Object.keys(a.values||xc).includes(l)){const c=a.up(l);i[c]=n(t[l],l)}else{const c=l;i[c]=t[c]}return i},{})}return n(t)}function I1(e={}){var n;return((n=e.keys)==null?void 0:n.reduce((r,s)=>{const a=e.up(s);return r[a]={},r},{}))||{}}function Hm(e,t){return e.reduce((n,r)=>{const s=n[r];return(!s||Object.keys(s).length===0)&&delete n[r],n},t)}function ie(e){if(typeof e!="string")throw new Error(kr(7));return e.charAt(0).toUpperCase()+e.slice(1)}function yc(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((s,a)=>s&&s[a]?s[a]:null,e);if(r!=null)return r}return t.split(".").reduce((r,s)=>r&&r[s]!=null?r[s]:null,e)}function wl(e,t,n,r=n){let s;return typeof e=="function"?s=e(n):Array.isArray(e)?s=e[n]||r:s=yc(e,n)||r,t&&(s=t(s,r,e)),s}function Pt(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:s}=e,a=i=>{if(i[t]==null)return null;const l=i[t],c=i.theme,u=yc(c,r)||{};return Er(i,l,g=>{let b=wl(u,s,g);return g===b&&typeof g=="string"&&(b=wl(u,s,`${t}${g==="default"?"":ie(g)}`,g)),n===!1?b:{[n]:b}})};return a.propTypes={},a.filterProps=[t],a}function A1(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const O1={m:"margin",p:"padding"},z1={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Wm={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},L1=A1(e=>{if(e.length>2)if(Wm[e])e=Wm[e];else return[e];const[t,n]=e.split(""),r=O1[t],s=z1[n]||"";return Array.isArray(s)?s.map(a=>r+a):[r+s]}),Up=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Gp=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Up,...Gp];function qa(e,t,n,r){const s=yc(e,t,!0)??n;return typeof s=="number"||typeof s=="string"?a=>typeof a=="string"?a:typeof s=="string"?s.startsWith("var(")&&a===0?0:s.startsWith("var(")&&a===1?s:`calc(${a} * ${s})`:s*a:Array.isArray(s)?a=>{if(typeof a=="string")return a;const i=Math.abs(a),l=s[i];return a>=0?l:typeof l=="number"?-l:typeof l=="string"&&l.startsWith("var(")?`calc(-1 * ${l})`:`-${l}`}:typeof s=="function"?s:()=>{}}function Kp(e){return qa(e,"spacing",8)}function Ua(e,t){return typeof t=="string"||t==null?t:e(t)}function M1(e,t){return n=>e.reduce((r,s)=>(r[s]=Ua(t,n),r),{})}function D1(e,t,n,r){if(!t.includes(n))return null;const s=L1(n),a=M1(s,r),i=e[n];return Er(e,i,a)}function T0(e,t){const n=Kp(e.theme);return Object.keys(e).map(r=>D1(e,t,r,n)).reduce(da,{})}function Nt(e){return T0(e,Up)}Nt.propTypes={};Nt.filterProps=Up;function Ct(e){return T0(e,Gp)}Ct.propTypes={};Ct.filterProps=Gp;function $0(e=8,t=Kp({spacing:e})){if(e.mui)return e;const n=(...r)=>(r.length===0?[1]:r).map(a=>{const i=t(a);return typeof i=="number"?`${i}px`:i}).join(" ");return n.mui=!0,n}function vc(...e){const t=e.reduce((r,s)=>(s.filterProps.forEach(a=>{r[a]=s}),r),{}),n=r=>Object.keys(r).reduce((s,a)=>t[a]?da(s,t[a](r)):s,{});return n.propTypes={},n.filterProps=e.reduce((r,s)=>r.concat(s.filterProps),[]),n}function An(e){return typeof e!="number"?e:`${e}px solid`}function Bn(e,t){return Pt({prop:e,themeKey:"borders",transform:t})}const F1=Bn("border",An),B1=Bn("borderTop",An),V1=Bn("borderRight",An),H1=Bn("borderBottom",An),W1=Bn("borderLeft",An),q1=Bn("borderColor"),U1=Bn("borderTopColor"),G1=Bn("borderRightColor"),K1=Bn("borderBottomColor"),J1=Bn("borderLeftColor"),Y1=Bn("outline",An),Q1=Bn("outlineColor"),bc=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=qa(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:Ua(t,r)});return Er(e,e.borderRadius,n)}return null};bc.propTypes={};bc.filterProps=["borderRadius"];vc(F1,B1,V1,H1,W1,q1,U1,G1,K1,J1,bc,Y1,Q1);const wc=e=>{if(e.gap!==void 0&&e.gap!==null){const t=qa(e.theme,"spacing",8),n=r=>({gap:Ua(t,r)});return Er(e,e.gap,n)}return null};wc.propTypes={};wc.filterProps=["gap"];const jc=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=qa(e.theme,"spacing",8),n=r=>({columnGap:Ua(t,r)});return Er(e,e.columnGap,n)}return null};jc.propTypes={};jc.filterProps=["columnGap"];const Sc=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=qa(e.theme,"spacing",8),n=r=>({rowGap:Ua(t,r)});return Er(e,e.rowGap,n)}return null};Sc.propTypes={};Sc.filterProps=["rowGap"];const X1=Pt({prop:"gridColumn"}),Z1=Pt({prop:"gridRow"}),ej=Pt({prop:"gridAutoFlow"}),tj=Pt({prop:"gridAutoColumns"}),nj=Pt({prop:"gridAutoRows"}),rj=Pt({prop:"gridTemplateColumns"}),sj=Pt({prop:"gridTemplateRows"}),oj=Pt({prop:"gridTemplateAreas"}),aj=Pt({prop:"gridArea"});vc(wc,jc,Sc,X1,Z1,ej,tj,nj,rj,sj,oj,aj);function io(e,t){return t==="grey"?t:e}const ij=Pt({prop:"color",themeKey:"palette",transform:io}),lj=Pt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:io}),cj=Pt({prop:"backgroundColor",themeKey:"palette",transform:io});vc(ij,lj,cj);function wn(e){return e<=1&&e!==0?`${e*100}%`:e}const uj=Pt({prop:"width",transform:wn}),Jp=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var s,a,i,l,c;const r=((i=(a=(s=e.theme)==null?void 0:s.breakpoints)==null?void 0:a.values)==null?void 0:i[n])||xc[n];return r?((c=(l=e.theme)==null?void 0:l.breakpoints)==null?void 0:c.unit)!=="px"?{maxWidth:`${r}${e.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:wn(n)}};return Er(e,e.maxWidth,t)}return null};Jp.filterProps=["maxWidth"];const dj=Pt({prop:"minWidth",transform:wn}),pj=Pt({prop:"height",transform:wn}),fj=Pt({prop:"maxHeight",transform:wn}),mj=Pt({prop:"minHeight",transform:wn});Pt({prop:"size",cssProperty:"width",transform:wn});Pt({prop:"size",cssProperty:"height",transform:wn});const hj=Pt({prop:"boxSizing"});vc(uj,Jp,dj,pj,fj,mj,hj);const Ga={border:{themeKey:"borders",transform:An},borderTop:{themeKey:"borders",transform:An},borderRight:{themeKey:"borders",transform:An},borderBottom:{themeKey:"borders",transform:An},borderLeft:{themeKey:"borders",transform:An},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:An},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:bc},color:{themeKey:"palette",transform:io},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:io},backgroundColor:{themeKey:"palette",transform:io},p:{style:Ct},pt:{style:Ct},pr:{style:Ct},pb:{style:Ct},pl:{style:Ct},px:{style:Ct},py:{style:Ct},padding:{style:Ct},paddingTop:{style:Ct},paddingRight:{style:Ct},paddingBottom:{style:Ct},paddingLeft:{style:Ct},paddingX:{style:Ct},paddingY:{style:Ct},paddingInline:{style:Ct},paddingInlineStart:{style:Ct},paddingInlineEnd:{style:Ct},paddingBlock:{style:Ct},paddingBlockStart:{style:Ct},paddingBlockEnd:{style:Ct},m:{style:Nt},mt:{style:Nt},mr:{style:Nt},mb:{style:Nt},ml:{style:Nt},mx:{style:Nt},my:{style:Nt},margin:{style:Nt},marginTop:{style:Nt},marginRight:{style:Nt},marginBottom:{style:Nt},marginLeft:{style:Nt},marginX:{style:Nt},marginY:{style:Nt},marginInline:{style:Nt},marginInlineStart:{style:Nt},marginInlineEnd:{style:Nt},marginBlock:{style:Nt},marginBlockStart:{style:Nt},marginBlockEnd:{style:Nt},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:wc},rowGap:{style:Sc},columnGap:{style:jc},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:wn},maxWidth:{style:Jp},minWidth:{transform:wn},height:{transform:wn},maxHeight:{transform:wn},minHeight:{transform:wn},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function gj(...e){const t=e.reduce((r,s)=>r.concat(Object.keys(s)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function xj(e,t){return typeof e=="function"?e(t):e}function yj(){function e(n,r,s,a){const i={[n]:r,theme:s},l=a[n];if(!l)return{[n]:r};const{cssProperty:c=n,themeKey:u,transform:d,style:g}=l;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const b=yc(s,u)||{};return g?g(i):Er(i,r,h=>{let y=wl(b,d,h);return h===y&&typeof h=="string"&&(y=wl(b,d,`${n}${h==="default"?"":ie(h)}`,h)),c===!1?y:{[c]:y}})}function t(n){const{sx:r,theme:s={},nested:a}=n||{};if(!r)return null;const i=s.unstable_sxConfig??Ga;function l(c){let u=c;if(typeof c=="function")u=c(s);else if(typeof c!="object")return c;if(!u)return null;const d=I1(s.breakpoints),g=Object.keys(d);let b=d;return Object.keys(u).forEach(N=>{const h=xj(u[N],s);if(h!=null)if(typeof h=="object")if(i[N])b=da(b,e(N,h,s,i));else{const y=Er({theme:s},h,S=>({[N]:S}));gj(y,h)?b[N]=t({sx:h,theme:s,nested:!0}):b=da(b,y)}else b=da(b,e(N,h,s,i))}),!a&&s.modularCssLayers?{"@layer sx":Bm(s,Hm(g,b))}:Bm(s,Hm(g,b))}return Array.isArray(r)?r.map(l):l(r)}return t}const Ss=yj();Ss.filterProps=["sx"];function vj(e,t){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[e])||typeof n.getColorSchemeSelector!="function")return{};let s=n.getColorSchemeSelector(e);return s==="&"?t:((s.includes("data-")||s.includes("."))&&(s=`*:where(${s.replace(/\s*&$/,"")}) &`),{[s]:t})}return n.palette.mode===e?t:{}}function Yp(e={},...t){const{breakpoints:n={},palette:r={},spacing:s,shape:a={},...i}=e,l=E1(n),c=$0(s);let u=tn({breakpoints:l,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:c,shape:{...P1,...a}},i);return u=$1(u),u.applyStyles=vj,u=t.reduce((d,g)=>tn(d,g),u),u.unstable_sxConfig={...Ga,...i==null?void 0:i.unstable_sxConfig},u.unstable_sx=function(g){return Ss({sx:g,theme:this})},u}function bj(e){return Object.keys(e).length===0}function wj(e=null){const t=m.useContext(ac);return!t||bj(t)?e:t}const jj=Yp();function Qp(e=jj){return wj(e)}function du(e){const t=qr(e);return e!==t&&t.styles?(t.styles.match(/^@layer\s+[^{]*$/)||(t.styles=`@layer global{${t.styles}}`),t):e}function Sj({styles:e,themeId:t,defaultTheme:n={}}){const r=Qp(n),s=t&&r[t]||r;let a=typeof e=="function"?e(s):e;return s.modularCssLayers&&(Array.isArray(a)?a=a.map(i=>du(typeof i=="function"?i(s):i)):a=du(a)),o.jsx(j1,{styles:a})}const Nj=e=>{var r;const t={systemProps:{},otherProps:{}},n=((r=e==null?void 0:e.theme)==null?void 0:r.unstable_sxConfig)??Ga;return Object.keys(e).forEach(s=>{n[s]?t.systemProps[s]=e[s]:t.otherProps[s]=e[s]}),t};function P0(e){const{sx:t,...n}=e,{systemProps:r,otherProps:s}=Nj(n);let a;return Array.isArray(t)?a=[r,...t]:typeof t=="function"?a=(...i)=>{const l=t(...i);return cr(l)?{...r,...l}:r}:a={...r,...t},{...s,sx:a}}const qm=e=>e,Cj=()=>{let e=qm;return{configure(t){e=t},generate(t){return e(t)},reset(){e=qm}}},R0=Cj();function I0(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=I0(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function _e(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=I0(e))&&(r&&(r+=" "),r+=t);return r}function kj(e={}){const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:s}=e,a=C0("div",{shouldForwardProp:l=>l!=="theme"&&l!=="sx"&&l!=="as"})(Ss);return m.forwardRef(function(c,u){const d=Qp(n),{className:g,component:b="div",...N}=P0(c);return o.jsx(a,{as:b,ref:u,className:_e(g,s?s(r):r),theme:t&&d[t]||d,...N})})}const Ej={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function rt(e,t,n="Mui"){const r=Ej[t];return r?`${n}-${r}`:`${R0.generate(e)}-${t}`}function nt(e,t,n="Mui"){const r={};return t.forEach(s=>{r[s]=rt(e,s,n)}),r}function A0(e){const{variants:t,...n}=e,r={variants:t,style:qr(n),isProcessed:!0};return r.style===n||t&&t.forEach(s=>{typeof s.style!="function"&&(s.style=qr(s.style))}),r}const _j=Yp();function pu(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function ds(e,t){return t&&e&&typeof e=="object"&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}function Tj(e){return e?(t,n)=>n[e]:null}function $j(e,t,n){e.theme=Ij(e.theme)?n:e.theme[t]||e.theme}function qi(e,t,n){const r=typeof t=="function"?t(e):t;if(Array.isArray(r))return r.flatMap(s=>qi(e,s,n));if(Array.isArray(r==null?void 0:r.variants)){let s;if(r.isProcessed)s=n?ds(r.style,n):r.style;else{const{variants:a,...i}=r;s=n?ds(qr(i),n):i}return O0(e,r.variants,[s],n)}return r!=null&&r.isProcessed?n?ds(qr(r.style),n):r.style:n?ds(qr(r),n):r}function O0(e,t,n=[],r=void 0){var a;let s;e:for(let i=0;i<t.length;i+=1){const l=t[i];if(typeof l.props=="function"){if(s??(s={...e,...e.ownerState,ownerState:e.ownerState}),!l.props(s))continue}else for(const c in l.props)if(e[c]!==l.props[c]&&((a=e.ownerState)==null?void 0:a[c])!==l.props[c])continue e;typeof l.style=="function"?(s??(s={...e,...e.ownerState,ownerState:e.ownerState}),n.push(r?ds(qr(l.style(s)),r):l.style(s))):n.push(r?ds(qr(l.style),r):l.style)}return n}function Pj(e={}){const{themeId:t,defaultTheme:n=_j,rootShouldForwardProp:r=pu,slotShouldForwardProp:s=pu}=e;function a(l){$j(l,t,n)}return(l,c={})=>{S1(l,k=>k.filter(P=>P!==Ss));const{name:u,slot:d,skipVariantsResolver:g,skipSx:b,overridesResolver:N=Tj(Oj(d)),...h}=c,y=u&&u.startsWith("Mui")||d?"components":"custom",S=g!==void 0?g:d&&d!=="Root"&&d!=="root"||!1,v=b||!1;let w=pu;d==="Root"||d==="root"?w=r:d?w=s:Aj(l)&&(w=void 0);const f=C0(l,{shouldForwardProp:w,label:Rj(),...h}),x=k=>{if(k.__emotion_real===k)return k;if(typeof k=="function")return function(A){return qi(A,k,A.theme.modularCssLayers?y:void 0)};if(cr(k)){const P=A0(k);return function(C){return P.variants?qi(C,P,C.theme.modularCssLayers?y:void 0):C.theme.modularCssLayers?ds(P.style,y):P.style}}return k},_=(...k)=>{const P=[],A=k.map(x),C=[];if(P.push(a),u&&N&&C.push(function(T){var H,M;const I=(M=(H=T.theme.components)==null?void 0:H[u])==null?void 0:M.styleOverrides;if(!I)return null;const z={};for(const D in I)z[D]=qi(T,I[D],T.theme.modularCssLayers?"theme":void 0);return N(T,z)}),u&&!S&&C.push(function(T){var z,H;const E=T.theme,I=(H=(z=E==null?void 0:E.components)==null?void 0:z[u])==null?void 0:H.variants;return I?O0(T,I,[],T.theme.modularCssLayers?"theme":void 0):null}),v||C.push(Ss),Array.isArray(A[0])){const j=A.shift(),T=new Array(P.length).fill(""),E=new Array(C.length).fill("");let I;I=[...T,...j,...E],I.raw=[...T,...j.raw,...E],P.unshift(I)}const R=[...P,...A,...C],L=f(...R);return l.muiName&&(L.muiName=l.muiName),L};return f.withConfig&&(_.withConfig=f.withConfig),_}}function Rj(e,t){return void 0}function Ij(e){for(const t in e)return!1;return!0}function Aj(e){return typeof e=="string"&&e.charCodeAt(0)>96}function Oj(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}function jl(e,t,n=!1){const r={...t};for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)){const a=s;if(a==="components"||a==="slots")r[a]={...e[a],...r[a]};else if(a==="componentsProps"||a==="slotProps"){const i=e[a],l=t[a];if(!l)r[a]=i||{};else if(!i)r[a]=l;else{r[a]={...l};for(const c in i)if(Object.prototype.hasOwnProperty.call(i,c)){const u=c;r[a][u]=jl(i[u],l[u],n)}}}else a==="className"&&n&&t.className?r.className=_e(e==null?void 0:e.className,t==null?void 0:t.className):a==="style"&&n&&t.style?r.style={...e==null?void 0:e.style,...t==null?void 0:t.style}:r[a]===void 0&&(r[a]=e[a])}return r}const Ns=typeof window<"u"?m.useLayoutEffect:m.useEffect;function zj(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}function Xp(e,t=0,n=1){return zj(e,t,n)}function Lj(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,s)=>s<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Kr(e){if(e.type)return e;if(e.charAt(0)==="#")return Kr(Lj(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(kr(9,e));let r=e.substring(t+1,e.length-1),s;if(n==="color"){if(r=r.split(" "),s=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(s))throw new Error(kr(10,s))}else r=r.split(",");return r=r.map(a=>parseFloat(a)),{type:n,values:r,colorSpace:s}}const Mj=e=>{const t=Kr(e);return t.values.slice(0,3).map((n,r)=>t.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},Qo=(e,t)=>{try{return Mj(e)}catch{return e}};function Nc(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map((s,a)=>a<3?parseInt(s,10):s):t.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function z0(e){e=Kr(e);const{values:t}=e,n=t[0],r=t[1]/100,s=t[2]/100,a=r*Math.min(s,1-s),i=(u,d=(u+n/30)%12)=>s-a*Math.max(Math.min(d-3,9-d,1),-1);let l="rgb";const c=[Math.round(i(0)*255),Math.round(i(8)*255),Math.round(i(4)*255)];return e.type==="hsla"&&(l+="a",c.push(t[3])),Nc({type:l,values:c})}function jd(e){e=Kr(e);let t=e.type==="hsl"||e.type==="hsla"?Kr(z0(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Dj(e,t){const n=jd(e),r=jd(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Sl(e,t){return e=Kr(e),t=Xp(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,Nc(e)}function es(e,t,n){try{return Sl(e,t)}catch{return e}}function Cc(e,t){if(e=Kr(e),t=Xp(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Nc(e)}function Xe(e,t,n){try{return Cc(e,t)}catch{return e}}function kc(e,t){if(e=Kr(e),t=Xp(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Nc(e)}function Ze(e,t,n){try{return kc(e,t)}catch{return e}}function Fj(e,t=.15){return jd(e)>.5?Cc(e,t):kc(e,t)}function ji(e,t,n){try{return Fj(e,t)}catch{return e}}const Bj=m.createContext(),L0=()=>m.useContext(Bj)??!1,Vj=m.createContext(void 0);function Hj(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const s=t.components[n];return s.defaultProps?jl(s.defaultProps,r,t.components.mergeClassNameAndStyle):!s.styleOverrides&&!s.variants?jl(s,r,t.components.mergeClassNameAndStyle):r}function Wj({props:e,name:t}){const n=m.useContext(Vj);return Hj({props:e,name:t,theme:{components:n}})}let Um=0;function qj(e){const[t,n]=m.useState(e),r=e||t;return m.useEffect(()=>{t==null&&(Um+=1,n(`mui-${Um}`))},[t]),r}const Uj={...Nu},Gm=Uj.useId;function Ec(e){if(Gm!==void 0){const t=Gm();return e??t}return qj(e)}const Km={theme:void 0};function Gj(e){let t,n;return function(s){let a=t;return(a===void 0||s.theme!==n)&&(Km.theme=s.theme,a=A0(e(Km)),t=a,n=s.theme),a}}function Kj(e=""){function t(...r){if(!r.length)return"";const s=r[0];return typeof s=="string"&&!s.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${s}${t(...r.slice(1))})`:`, ${s}`}return(r,...s)=>`var(--${e?`${e}-`:""}${r}${t(...s)})`}const Jm=(e,t,n,r=[])=>{let s=e;t.forEach((a,i)=>{i===t.length-1?Array.isArray(s)?s[Number(a)]=n:s&&typeof s=="object"&&(s[a]=n):s&&typeof s=="object"&&(s[a]||(s[a]=r.includes(a)?[]:{}),s=s[a])})},Jj=(e,t,n)=>{function r(s,a=[],i=[]){Object.entries(s).forEach(([l,c])=>{(!n||n&&!n([...a,l]))&&c!=null&&(typeof c=="object"&&Object.keys(c).length>0?r(c,[...a,l],Array.isArray(c)?[...i,l]:i):t([...a,l],c,i))})}r(e)},Yj=(e,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>e.includes(r))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function fu(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},s={},a={},i={};return Jj(e,(l,c,u)=>{if((typeof c=="string"||typeof c=="number")&&(!r||!r(l,c))){const d=`--${n?`${n}-`:""}${l.join("-")}`,g=Yj(l,c);Object.assign(s,{[d]:g}),Jm(a,l,`var(${d})`,u),Jm(i,l,`var(${d}, ${g})`,u)}},l=>l[0]==="vars"),{css:s,vars:a,varsWithDefaults:i}}function Qj(e,t={}){const{getSelector:n=v,disableCssColorScheme:r,colorSchemeSelector:s,enableContrastVars:a}=t,{colorSchemes:i={},components:l,defaultColorScheme:c="light",...u}=e,{vars:d,css:g,varsWithDefaults:b}=fu(u,t);let N=b;const h={},{[c]:y,...S}=i;if(Object.entries(S||{}).forEach(([x,_])=>{const{vars:k,css:P,varsWithDefaults:A}=fu(_,t);N=tn(N,A),h[x]={css:P,vars:k}}),y){const{css:x,vars:_,varsWithDefaults:k}=fu(y,t);N=tn(N,k),h[c]={css:x,vars:_}}function v(x,_){var P,A;let k=s;if(s==="class"&&(k=".%s"),s==="data"&&(k="[data-%s]"),s!=null&&s.startsWith("data-")&&!s.includes("%s")&&(k=`[${s}="%s"]`),x){if(k==="media")return e.defaultColorScheme===x?":root":{[`@media (prefers-color-scheme: ${((A=(P=i[x])==null?void 0:P.palette)==null?void 0:A.mode)||x})`]:{":root":_}};if(k)return e.defaultColorScheme===x?`:root, ${k.replace("%s",String(x))}`:k.replace("%s",String(x))}return":root"}return{vars:N,generateThemeVars:()=>{let x={...d};return Object.entries(h).forEach(([,{vars:_}])=>{x=tn(x,_)}),x},generateStyleSheets:()=>{var C,R;const x=[],_=e.defaultColorScheme||"light";function k(L,j){Object.keys(j).length&&x.push(typeof L=="string"?{[L]:{...j}}:L)}k(n(void 0,{...g}),g);const{[_]:P,...A}=h;if(P){const{css:L}=P,j=(R=(C=i[_])==null?void 0:C.palette)==null?void 0:R.mode,T=!r&&j?{colorScheme:j,...L}:{...L};k(n(_,{...T}),T)}return Object.entries(A).forEach(([L,{css:j}])=>{var I,z;const T=(z=(I=i[L])==null?void 0:I.palette)==null?void 0:z.mode,E=!r&&T?{colorScheme:T,...j}:{...j};k(n(L,{...E}),E)}),a&&x.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),x}}}function Xj(e){return function(n){return e==="media"?`@media (prefers-color-scheme: ${n})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${n}"] &`:e==="class"?`.${n} &`:e==="data"?`[data-${n}] &`:`${e.replace("%s",n)} &`:"&"}}function st(e,t,n=void 0){const r={};for(const s in e){const a=e[s];let i="",l=!0;for(let c=0;c<a.length;c+=1){const u=a[c];u&&(i+=(l===!0?"":" ")+t(u),l=!1,n&&n[u]&&(i+=" "+n[u]))}r[s]=i}return r}function mu(e,t){var n,r,s;return m.isValidElement(e)&&t.indexOf(e.type.muiName??((s=(r=(n=e.type)==null?void 0:n._payload)==null?void 0:r.value)==null?void 0:s.muiName))!==-1}function M0(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Ra.white,default:Ra.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const D0=M0();function F0(){return{text:{primary:Ra.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Ra.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const Sd=F0();function Ym(e,t,n,r){const s=r.light||r,a=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=kc(e.main,s):t==="dark"&&(e.dark=Cc(e.main,a)))}function Qm(e,t,n,r,s){const a=s.light||s,i=s.dark||s*1.5;t[n]||(t.hasOwnProperty(r)?t[n]=t[r]:n==="light"?t.light=`color-mix(in ${e}, ${t.main}, #fff ${(a*100).toFixed(0)}%)`:n==="dark"&&(t.dark=`color-mix(in ${e}, ${t.main}, #000 ${(i*100).toFixed(0)}%)`))}function Zj(e="light"){return e==="dark"?{main:Os[200],light:Os[50],dark:Os[400]}:{main:Os[700],light:Os[400],dark:Os[800]}}function eS(e="light"){return e==="dark"?{main:As[200],light:As[50],dark:As[400]}:{main:As[500],light:As[300],dark:As[700]}}function tS(e="light"){return e==="dark"?{main:Is[500],light:Is[300],dark:Is[700]}:{main:Is[700],light:Is[400],dark:Is[800]}}function nS(e="light"){return e==="dark"?{main:zs[400],light:zs[300],dark:zs[700]}:{main:zs[700],light:zs[500],dark:zs[900]}}function rS(e="light"){return e==="dark"?{main:Ls[400],light:Ls[300],dark:Ls[700]}:{main:Ls[800],light:Ls[500],dark:Ls[900]}}function sS(e="light"){return e==="dark"?{main:Fo[400],light:Fo[300],dark:Fo[700]}:{main:"#ed6c02",light:Fo[500],dark:Fo[900]}}function oS(e){return`oklch(from ${e} var(--__l) 0 h / var(--__a))`}function Zp(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2,colorSpace:s,...a}=e,i=e.primary||Zj(t),l=e.secondary||eS(t),c=e.error||tS(t),u=e.info||nS(t),d=e.success||rS(t),g=e.warning||sS(t);function b(S){return s?oS(S):Dj(S,Sd.text.primary)>=n?Sd.text.primary:D0.text.primary}const N=({color:S,name:v,mainShade:w=500,lightShade:f=300,darkShade:x=700})=>{if(S={...S},!S.main&&S[w]&&(S.main=S[w]),!S.hasOwnProperty("main"))throw new Error(kr(11,v?` (${v})`:"",w));if(typeof S.main!="string")throw new Error(kr(12,v?` (${v})`:"",JSON.stringify(S.main)));return s?(Qm(s,S,"light",f,r),Qm(s,S,"dark",x,r)):(Ym(S,"light",f,r),Ym(S,"dark",x,r)),S.contrastText||(S.contrastText=b(S.main)),S};let h;return t==="light"?h=M0():t==="dark"&&(h=F0()),tn({common:{...Ra},mode:t,primary:N({color:i,name:"primary"}),secondary:N({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:N({color:c,name:"error"}),warning:N({color:g,name:"warning"}),info:N({color:u,name:"info"}),success:N({color:d,name:"success"}),grey:yw,contrastThreshold:n,getContrastText:b,augmentColor:N,tonalOffset:r,...h},a)}function aS(e){const t={};return Object.entries(e).forEach(r=>{const[s,a]=r;typeof a=="object"&&(t[s]=`${a.fontStyle?`${a.fontStyle} `:""}${a.fontVariant?`${a.fontVariant} `:""}${a.fontWeight?`${a.fontWeight} `:""}${a.fontStretch?`${a.fontStretch} `:""}${a.fontSize||""}${a.lineHeight?`/${a.lineHeight} `:""}${a.fontFamily||""}`)}),t}function iS(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}function lS(e){return Math.round(e*1e5)/1e5}const Xm={textTransform:"uppercase"},Zm='"Roboto", "Helvetica", "Arial", sans-serif';function cS(e,t){const{fontFamily:n=Zm,fontSize:r=14,fontWeightLight:s=300,fontWeightRegular:a=400,fontWeightMedium:i=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:d,...g}=typeof t=="function"?t(e):t,b=r/14,N=d||(S=>`${S/c*b}rem`),h=(S,v,w,f,x)=>({fontFamily:n,fontWeight:S,fontSize:N(v),lineHeight:w,...n===Zm?{letterSpacing:`${lS(f/v)}em`}:{},...x,...u}),y={h1:h(s,96,1.167,-1.5),h2:h(s,60,1.2,-.5),h3:h(a,48,1.167,0),h4:h(a,34,1.235,.25),h5:h(a,24,1.334,0),h6:h(i,20,1.6,.15),subtitle1:h(a,16,1.75,.15),subtitle2:h(i,14,1.57,.1),body1:h(a,16,1.5,.15),body2:h(a,14,1.43,.15),button:h(i,14,1.75,.4,Xm),caption:h(a,12,1.66,.4),overline:h(a,12,2.66,1,Xm),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return tn({htmlFontSize:c,pxToRem:N,fontFamily:n,fontSize:r,fontWeightLight:s,fontWeightRegular:a,fontWeightMedium:i,fontWeightBold:l,...y},g,{clone:!1})}const uS=.2,dS=.14,pS=.12;function mt(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${uS})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${dS})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${pS})`].join(",")}const fS=["none",mt(0,2,1,-1,0,1,1,0,0,1,3,0),mt(0,3,1,-2,0,2,2,0,0,1,5,0),mt(0,3,3,-2,0,3,4,0,0,1,8,0),mt(0,2,4,-1,0,4,5,0,0,1,10,0),mt(0,3,5,-1,0,5,8,0,0,1,14,0),mt(0,3,5,-1,0,6,10,0,0,1,18,0),mt(0,4,5,-2,0,7,10,1,0,2,16,1),mt(0,5,5,-3,0,8,10,1,0,3,14,2),mt(0,5,6,-3,0,9,12,1,0,3,16,2),mt(0,6,6,-3,0,10,14,1,0,4,18,3),mt(0,6,7,-4,0,11,15,1,0,4,20,3),mt(0,7,8,-4,0,12,17,2,0,5,22,4),mt(0,7,8,-4,0,13,19,2,0,5,24,4),mt(0,7,9,-4,0,14,21,2,0,5,26,4),mt(0,8,9,-5,0,15,22,2,0,6,28,5),mt(0,8,10,-5,0,16,24,2,0,6,30,5),mt(0,8,11,-5,0,17,26,2,0,6,32,5),mt(0,9,11,-5,0,18,28,2,0,7,34,6),mt(0,9,12,-6,0,19,29,2,0,7,36,6),mt(0,10,13,-6,0,20,31,3,0,8,38,7),mt(0,10,13,-6,0,21,33,3,0,8,40,7),mt(0,10,14,-6,0,22,35,3,0,8,42,7),mt(0,11,14,-7,0,23,36,3,0,9,44,8),mt(0,11,15,-7,0,24,38,3,0,9,46,8)],mS={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},hS={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function eh(e){return`${Math.round(e)}ms`}function gS(e){if(!e)return 0;const t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function xS(e){const t={...mS,...e.easing},n={...hS,...e.duration};return{getAutoHeightDuration:gS,create:(s=["all"],a={})=>{const{duration:i=n.standard,easing:l=t.easeInOut,delay:c=0,...u}=a;return(Array.isArray(s)?s:[s]).map(d=>`${d} ${typeof i=="string"?i:eh(i)} ${l} ${typeof c=="string"?c:eh(c)}`).join(",")},...e,easing:t,duration:n}}const yS={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function vS(e){return cr(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function B0(e={}){const t={...e};function n(r){const s=Object.entries(r);for(let a=0;a<s.length;a++){const[i,l]=s[a];!vS(l)||i.startsWith("unstable_")?delete r[i]:cr(l)&&(r[i]={...l},n(r[i]))}}return n(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function th(e){return typeof e=="number"?`${(e*100).toFixed(0)}%`:`calc((${e}) * 100%)`}const bS=e=>{if(!Number.isNaN(+e))return+e;const t=e.match(/\d*\.?\d+/g);if(!t)return 0;let n=0;for(let r=0;r<t.length;r+=1)n+=+t[r];return n};function wS(e){Object.assign(e,{alpha(t,n){const r=this||e;return r.colorSpace?`oklch(from ${t} l c h / ${typeof n=="string"?`calc(${n})`:n})`:r.vars?`rgba(${t.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof n=="string"?`calc(${n})`:n})`:Sl(t,bS(n))},lighten(t,n){const r=this||e;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${t}, #fff ${th(n)})`:kc(t,n)},darken(t,n){const r=this||e;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${t}, #000 ${th(n)})`:Cc(t,n)}})}function Nd(e={},...t){const{breakpoints:n,mixins:r={},spacing:s,palette:a={},transitions:i={},typography:l={},shape:c,colorSpace:u,...d}=e;if(e.vars&&e.generateThemeVars===void 0)throw new Error(kr(20));const g=Zp({...a,colorSpace:u}),b=Yp(e);let N=tn(b,{mixins:iS(b.breakpoints,r),palette:g,shadows:fS.slice(),typography:cS(g,l),transitions:xS(i),zIndex:{...yS}});return N=tn(N,d),N=t.reduce((h,y)=>tn(h,y),N),N.unstable_sxConfig={...Ga,...d==null?void 0:d.unstable_sxConfig},N.unstable_sx=function(y){return Ss({sx:y,theme:this})},N.toRuntimeSource=B0,wS(N),N}function Cd(e){let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,Math.round(t*10)/1e3}const jS=[...Array(25)].map((e,t)=>{if(t===0)return"none";const n=Cd(t);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function V0(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function H0(e){return e==="dark"?jS:[]}function SS(e){const{palette:t={mode:"light"},opacity:n,overlays:r,colorSpace:s,...a}=e,i=Zp({...t,colorSpace:s});return{palette:i,opacity:{...V0(i.mode),...n},overlays:r||H0(i.mode),...a}}function NS(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!((t=e[1])!=null&&t.match(/(mode|contrastThreshold|tonalOffset)/))}const CS=e=>[...[...Array(25)].map((t,n)=>`--${e?`${e}-`:""}overlays-${n}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],kS=e=>(t,n)=>{const r=e.rootSelector||":root",s=e.colorSchemeSelector;let a=s;if(s==="class"&&(a=".%s"),s==="data"&&(a="[data-%s]"),s!=null&&s.startsWith("data-")&&!s.includes("%s")&&(a=`[${s}="%s"]`),e.defaultColorScheme===t){if(t==="dark"){const i={};return CS(e.cssVarPrefix).forEach(l=>{i[l]=n[l],delete n[l]}),a==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:i}}:a?{[a.replace("%s",t)]:i,[`${r}, ${a.replace("%s",t)}`]:n}:{[r]:{...n,...i}}}if(a&&a!=="media")return`${r}, ${a.replace("%s",String(t))}`}else if(t){if(a==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[r]:n}};if(a)return a.replace("%s",String(t))}return r};function ES(e,t){t.forEach(n=>{e[n]||(e[n]={})})}function q(e,t,n){!e[t]&&n&&(e[t]=n)}function Xo(e){return typeof e!="string"||!e.startsWith("hsl")?e:z0(e)}function mr(e,t){`${t}Channel`in e||(e[`${t}Channel`]=Qo(Xo(e[t])))}function _S(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const nr=e=>{try{return e()}catch{}},TS=(e="mui")=>Kj(e);function hu(e,t,n,r,s){if(!n)return;n=n===!0?{}:n;const a=s==="dark"?"dark":"light";if(!r){t[s]=SS({...n,palette:{mode:a,...n==null?void 0:n.palette},colorSpace:e});return}const{palette:i,...l}=Nd({...r,palette:{mode:a,...n==null?void 0:n.palette},colorSpace:e});return t[s]={...n,palette:i,opacity:{...V0(a),...n==null?void 0:n.opacity},overlays:(n==null?void 0:n.overlays)||H0(a)},l}function $S(e={},...t){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:s=!1,cssVarPrefix:a="mui",nativeColor:i=!1,shouldSkipGeneratingVar:l=NS,colorSchemeSelector:c=n.light&&n.dark?"media":void 0,rootSelector:u=":root",...d}=e,g=Object.keys(n)[0],b=r||(n.light&&g!=="light"?"light":g),N=TS(a),{[b]:h,light:y,dark:S,...v}=n,w={...v};let f=h;if((b==="dark"&&!("dark"in n)||b==="light"&&!("light"in n))&&(f=!0),!f)throw new Error(kr(21,b));let x;i&&(x="oklch");const _=hu(x,w,f,d,b);y&&!w.light&&hu(x,w,y,void 0,"light"),S&&!w.dark&&hu(x,w,S,void 0,"dark");let k={defaultColorScheme:b,..._,cssVarPrefix:a,colorSchemeSelector:c,rootSelector:u,getCssVar:N,colorSchemes:w,font:{...aS(_.typography),..._.font},spacing:_S(d.spacing)};Object.keys(k.colorSchemes).forEach(L=>{const j=k.colorSchemes[L].palette,T=I=>{const z=I.split("-"),H=z[1],M=z[2];return N(I,j[H][M])};j.mode==="light"&&(q(j.common,"background","#fff"),q(j.common,"onBackground","#000")),j.mode==="dark"&&(q(j.common,"background","#000"),q(j.common,"onBackground","#fff"));function E(I,z,H){if(x){let M;return I===es&&(M=`transparent ${((1-H)*100).toFixed(0)}%`),I===Xe&&(M=`#000 ${(H*100).toFixed(0)}%`),I===Ze&&(M=`#fff ${(H*100).toFixed(0)}%`),`color-mix(in ${x}, ${z}, ${M})`}return I(z,H)}if(ES(j,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),j.mode==="light"){q(j.Alert,"errorColor",E(Xe,j.error.light,.6)),q(j.Alert,"infoColor",E(Xe,j.info.light,.6)),q(j.Alert,"successColor",E(Xe,j.success.light,.6)),q(j.Alert,"warningColor",E(Xe,j.warning.light,.6)),q(j.Alert,"errorFilledBg",T("palette-error-main")),q(j.Alert,"infoFilledBg",T("palette-info-main")),q(j.Alert,"successFilledBg",T("palette-success-main")),q(j.Alert,"warningFilledBg",T("palette-warning-main")),q(j.Alert,"errorFilledColor",nr(()=>j.getContrastText(j.error.main))),q(j.Alert,"infoFilledColor",nr(()=>j.getContrastText(j.info.main))),q(j.Alert,"successFilledColor",nr(()=>j.getContrastText(j.success.main))),q(j.Alert,"warningFilledColor",nr(()=>j.getContrastText(j.warning.main))),q(j.Alert,"errorStandardBg",E(Ze,j.error.light,.9)),q(j.Alert,"infoStandardBg",E(Ze,j.info.light,.9)),q(j.Alert,"successStandardBg",E(Ze,j.success.light,.9)),q(j.Alert,"warningStandardBg",E(Ze,j.warning.light,.9)),q(j.Alert,"errorIconColor",T("palette-error-main")),q(j.Alert,"infoIconColor",T("palette-info-main")),q(j.Alert,"successIconColor",T("palette-success-main")),q(j.Alert,"warningIconColor",T("palette-warning-main")),q(j.AppBar,"defaultBg",T("palette-grey-100")),q(j.Avatar,"defaultBg",T("palette-grey-400")),q(j.Button,"inheritContainedBg",T("palette-grey-300")),q(j.Button,"inheritContainedHoverBg",T("palette-grey-A100")),q(j.Chip,"defaultBorder",T("palette-grey-400")),q(j.Chip,"defaultAvatarColor",T("palette-grey-700")),q(j.Chip,"defaultIconColor",T("palette-grey-700")),q(j.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),q(j.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),q(j.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),q(j.LinearProgress,"primaryBg",E(Ze,j.primary.main,.62)),q(j.LinearProgress,"secondaryBg",E(Ze,j.secondary.main,.62)),q(j.LinearProgress,"errorBg",E(Ze,j.error.main,.62)),q(j.LinearProgress,"infoBg",E(Ze,j.info.main,.62)),q(j.LinearProgress,"successBg",E(Ze,j.success.main,.62)),q(j.LinearProgress,"warningBg",E(Ze,j.warning.main,.62)),q(j.Skeleton,"bg",x?E(es,j.text.primary,.11):`rgba(${T("palette-text-primaryChannel")} / 0.11)`),q(j.Slider,"primaryTrack",E(Ze,j.primary.main,.62)),q(j.Slider,"secondaryTrack",E(Ze,j.secondary.main,.62)),q(j.Slider,"errorTrack",E(Ze,j.error.main,.62)),q(j.Slider,"infoTrack",E(Ze,j.info.main,.62)),q(j.Slider,"successTrack",E(Ze,j.success.main,.62)),q(j.Slider,"warningTrack",E(Ze,j.warning.main,.62));const I=x?E(Xe,j.background.default,.6825):ji(j.background.default,.8);q(j.SnackbarContent,"bg",I),q(j.SnackbarContent,"color",nr(()=>x?Sd.text.primary:j.getContrastText(I))),q(j.SpeedDialAction,"fabHoverBg",ji(j.background.paper,.15)),q(j.StepConnector,"border",T("palette-grey-400")),q(j.StepContent,"border",T("palette-grey-400")),q(j.Switch,"defaultColor",T("palette-common-white")),q(j.Switch,"defaultDisabledColor",T("palette-grey-100")),q(j.Switch,"primaryDisabledColor",E(Ze,j.primary.main,.62)),q(j.Switch,"secondaryDisabledColor",E(Ze,j.secondary.main,.62)),q(j.Switch,"errorDisabledColor",E(Ze,j.error.main,.62)),q(j.Switch,"infoDisabledColor",E(Ze,j.info.main,.62)),q(j.Switch,"successDisabledColor",E(Ze,j.success.main,.62)),q(j.Switch,"warningDisabledColor",E(Ze,j.warning.main,.62)),q(j.TableCell,"border",E(Ze,E(es,j.divider,1),.88)),q(j.Tooltip,"bg",E(es,j.grey[700],.92))}if(j.mode==="dark"){q(j.Alert,"errorColor",E(Ze,j.error.light,.6)),q(j.Alert,"infoColor",E(Ze,j.info.light,.6)),q(j.Alert,"successColor",E(Ze,j.success.light,.6)),q(j.Alert,"warningColor",E(Ze,j.warning.light,.6)),q(j.Alert,"errorFilledBg",T("palette-error-dark")),q(j.Alert,"infoFilledBg",T("palette-info-dark")),q(j.Alert,"successFilledBg",T("palette-success-dark")),q(j.Alert,"warningFilledBg",T("palette-warning-dark")),q(j.Alert,"errorFilledColor",nr(()=>j.getContrastText(j.error.dark))),q(j.Alert,"infoFilledColor",nr(()=>j.getContrastText(j.info.dark))),q(j.Alert,"successFilledColor",nr(()=>j.getContrastText(j.success.dark))),q(j.Alert,"warningFilledColor",nr(()=>j.getContrastText(j.warning.dark))),q(j.Alert,"errorStandardBg",E(Xe,j.error.light,.9)),q(j.Alert,"infoStandardBg",E(Xe,j.info.light,.9)),q(j.Alert,"successStandardBg",E(Xe,j.success.light,.9)),q(j.Alert,"warningStandardBg",E(Xe,j.warning.light,.9)),q(j.Alert,"errorIconColor",T("palette-error-main")),q(j.Alert,"infoIconColor",T("palette-info-main")),q(j.Alert,"successIconColor",T("palette-success-main")),q(j.Alert,"warningIconColor",T("palette-warning-main")),q(j.AppBar,"defaultBg",T("palette-grey-900")),q(j.AppBar,"darkBg",T("palette-background-paper")),q(j.AppBar,"darkColor",T("palette-text-primary")),q(j.Avatar,"defaultBg",T("palette-grey-600")),q(j.Button,"inheritContainedBg",T("palette-grey-800")),q(j.Button,"inheritContainedHoverBg",T("palette-grey-700")),q(j.Chip,"defaultBorder",T("palette-grey-700")),q(j.Chip,"defaultAvatarColor",T("palette-grey-300")),q(j.Chip,"defaultIconColor",T("palette-grey-300")),q(j.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),q(j.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),q(j.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),q(j.LinearProgress,"primaryBg",E(Xe,j.primary.main,.5)),q(j.LinearProgress,"secondaryBg",E(Xe,j.secondary.main,.5)),q(j.LinearProgress,"errorBg",E(Xe,j.error.main,.5)),q(j.LinearProgress,"infoBg",E(Xe,j.info.main,.5)),q(j.LinearProgress,"successBg",E(Xe,j.success.main,.5)),q(j.LinearProgress,"warningBg",E(Xe,j.warning.main,.5)),q(j.Skeleton,"bg",x?E(es,j.text.primary,.13):`rgba(${T("palette-text-primaryChannel")} / 0.13)`),q(j.Slider,"primaryTrack",E(Xe,j.primary.main,.5)),q(j.Slider,"secondaryTrack",E(Xe,j.secondary.main,.5)),q(j.Slider,"errorTrack",E(Xe,j.error.main,.5)),q(j.Slider,"infoTrack",E(Xe,j.info.main,.5)),q(j.Slider,"successTrack",E(Xe,j.success.main,.5)),q(j.Slider,"warningTrack",E(Xe,j.warning.main,.5));const I=x?E(Ze,j.background.default,.985):ji(j.background.default,.98);q(j.SnackbarContent,"bg",I),q(j.SnackbarContent,"color",nr(()=>x?D0.text.primary:j.getContrastText(I))),q(j.SpeedDialAction,"fabHoverBg",ji(j.background.paper,.15)),q(j.StepConnector,"border",T("palette-grey-600")),q(j.StepContent,"border",T("palette-grey-600")),q(j.Switch,"defaultColor",T("palette-grey-300")),q(j.Switch,"defaultDisabledColor",T("palette-grey-600")),q(j.Switch,"primaryDisabledColor",E(Xe,j.primary.main,.55)),q(j.Switch,"secondaryDisabledColor",E(Xe,j.secondary.main,.55)),q(j.Switch,"errorDisabledColor",E(Xe,j.error.main,.55)),q(j.Switch,"infoDisabledColor",E(Xe,j.info.main,.55)),q(j.Switch,"successDisabledColor",E(Xe,j.success.main,.55)),q(j.Switch,"warningDisabledColor",E(Xe,j.warning.main,.55)),q(j.TableCell,"border",E(Xe,E(es,j.divider,1),.68)),q(j.Tooltip,"bg",E(es,j.grey[700],.92))}mr(j.background,"default"),mr(j.background,"paper"),mr(j.common,"background"),mr(j.common,"onBackground"),mr(j,"divider"),Object.keys(j).forEach(I=>{const z=j[I];I!=="tonalOffset"&&z&&typeof z=="object"&&(z.main&&q(j[I],"mainChannel",Qo(Xo(z.main))),z.light&&q(j[I],"lightChannel",Qo(Xo(z.light))),z.dark&&q(j[I],"darkChannel",Qo(Xo(z.dark))),z.contrastText&&q(j[I],"contrastTextChannel",Qo(Xo(z.contrastText))),I==="text"&&(mr(j[I],"primary"),mr(j[I],"secondary")),I==="action"&&(z.active&&mr(j[I],"active"),z.selected&&mr(j[I],"selected")))})}),k=t.reduce((L,j)=>tn(L,j),k);const P={prefix:a,disableCssColorScheme:s,shouldSkipGeneratingVar:l,getSelector:kS(k),enableContrastVars:i},{vars:A,generateThemeVars:C,generateStyleSheets:R}=Qj(k,P);return k.vars=A,Object.entries(k.colorSchemes[k.defaultColorScheme]).forEach(([L,j])=>{k[L]=j}),k.generateThemeVars=C,k.generateStyleSheets=R,k.generateSpacing=function(){return $0(d.spacing,Kp(this))},k.getColorSchemeSelector=Xj(c),k.spacing=k.generateSpacing(),k.shouldSkipGeneratingVar=l,k.unstable_sxConfig={...Ga,...d==null?void 0:d.unstable_sxConfig},k.unstable_sx=function(j){return Ss({sx:j,theme:this})},k.toRuntimeSource=B0,k}function nh(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]={...n!==!0&&n,palette:Zp({...n===!0?{}:n.palette,mode:t})})}function W0(e={},...t){const{palette:n,cssVariables:r=!1,colorSchemes:s=n?void 0:{light:!0},defaultColorScheme:a=n==null?void 0:n.mode,...i}=e,l=a||"light",c=s==null?void 0:s[l],u={...s,...n?{[l]:{...typeof c!="boolean"&&c,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in e))return Nd(e,...t);let d=n;"palette"in e||u[l]&&(u[l]!==!0?d=u[l].palette:l==="dark"&&(d={mode:"dark"}));const g=Nd({...e,palette:d},...t);return g.defaultColorScheme=l,g.colorSchemes=u,g.palette.mode==="light"&&(g.colorSchemes.light={...u.light!==!0&&u.light,palette:g.palette},nh(g,"dark",u.dark)),g.palette.mode==="dark"&&(g.colorSchemes.dark={...u.dark!==!0&&u.dark,palette:g.palette},nh(g,"light",u.light)),g}return!n&&!("light"in u)&&l==="light"&&(u.light=!0),$S({...i,colorSchemes:u,defaultColorScheme:l,...typeof r!="boolean"&&r},...t)}const ef=W0();function Ka(){const e=Qp(ef);return e[Ul]||e}function q0(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Vn=e=>q0(e)&&e!=="classes",ge=Pj({themeId:Ul,defaultTheme:ef,rootShouldForwardProp:Vn});function rh(...e){return e.reduce((t,n)=>n==null?t:function(...s){t.apply(this,s),n.apply(this,s)},()=>{})}function PS(e){return o.jsx(Sj,{...e,defaultTheme:ef,themeId:Ul})}function RS(e){return function(n){return o.jsx(PS,{styles:typeof e=="function"?r=>e({theme:r,...n}):e})}}function IS(){return P0}const dt=Gj;function lt(e){return Wj(e)}function AS(e){return rt("MuiSvgIcon",e)}nt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const OS=e=>{const{color:t,fontSize:n,classes:r}=e,s={root:["root",t!=="inherit"&&`color${ie(t)}`,`fontSize${ie(n)}`]};return st(s,AS,r)},zS=ge("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${ie(n.color)}`],t[`fontSize${ie(n.fontSize)}`]]}})(dt(({theme:e})=>{var t,n,r,s,a,i,l,c,u,d,g,b,N,h;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(s=(t=e.transitions)==null?void 0:t.create)==null?void 0:s.call(t,"fill",{duration:(r=(n=(e.vars??e).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:y=>!y.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((i=(a=e.typography)==null?void 0:a.pxToRem)==null?void 0:i.call(a,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((c=(l=e.typography)==null?void 0:l.pxToRem)==null?void 0:c.call(l,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((d=(u=e.typography)==null?void 0:u.pxToRem)==null?void 0:d.call(u,35))||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,y])=>y&&y.main).map(([y])=>{var S,v;return{props:{color:y},style:{color:(v=(S=(e.vars??e).palette)==null?void 0:S[y])==null?void 0:v.main}}}),{props:{color:"action"},style:{color:(b=(g=(e.vars??e).palette)==null?void 0:g.action)==null?void 0:b.active}},{props:{color:"disabled"},style:{color:(h=(N=(e.vars??e).palette)==null?void 0:N.action)==null?void 0:h.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),kd=m.forwardRef(function(t,n){const r=lt({props:t,name:"MuiSvgIcon"}),{children:s,className:a,color:i="inherit",component:l="svg",fontSize:c="medium",htmlColor:u,inheritViewBox:d=!1,titleAccess:g,viewBox:b="0 0 24 24",...N}=r,h=m.isValidElement(s)&&s.type==="svg",y={...r,color:i,component:l,fontSize:c,instanceFontSize:t.fontSize,inheritViewBox:d,viewBox:b,hasSvgAsChild:h},S={};d||(S.viewBox=b);const v=OS(y);return o.jsxs(zS,{as:l,className:_e(v.root,a),focusable:"false",color:u,"aria-hidden":g?void 0:!0,role:g?"img":void 0,ref:n,...S,...N,...h&&s.props,ownerState:y,children:[h?s.props.children:s,g?o.jsx("title",{children:g}):null]})});kd.muiName="SvgIcon";function _s(e,t){function n(r,s){return o.jsx(kd,{"data-testid":void 0,ref:s,...r,children:e})}return n.muiName=kd.muiName,m.memo(m.forwardRef(n))}function tf(e,t=166){let n;function r(...s){const a=()=>{e.apply(this,s)};clearTimeout(n),n=setTimeout(a,t)}return r.clear=()=>{clearTimeout(n)},r}function Qn(e){return e&&e.ownerDocument||document}function Xn(e){return Qn(e).defaultView||window}function sh(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function oh(e){const{controlled:t,default:n,name:r,state:s="value"}=e,{current:a}=m.useRef(t!==void 0),[i,l]=m.useState(n),c=a?t:i,u=m.useCallback(d=>{a||l(d)},[]);return[c,u]}function gs(e){const t=m.useRef(e);return Ns(()=>{t.current=e}),m.useRef((...n)=>(0,t.current)(...n)).current}function rn(...e){const t=m.useRef(void 0),n=m.useCallback(r=>{const s=e.map(a=>{if(a==null)return null;if(typeof a=="function"){const i=a,l=i(r);return typeof l=="function"?l:()=>{i(null)}}return a.current=r,()=>{a.current=null}});return()=>{s.forEach(a=>a==null?void 0:a())}},e);return m.useMemo(()=>e.every(r=>r==null)?null:r=>{t.current&&(t.current(),t.current=void 0),r!=null&&(t.current=n(r))},e)}function LS(e,t){const n=e.charCodeAt(2);return e[0]==="o"&&e[1]==="n"&&n>=65&&n<=90&&typeof t=="function"}function U0(e,t){if(!e)return t;function n(i,l){const c={};return Object.keys(l).forEach(u=>{LS(u,l[u])&&typeof i[u]=="function"&&(c[u]=(...d)=>{i[u](...d),l[u](...d)})}),c}if(typeof e=="function"||typeof t=="function")return i=>{const l=typeof t=="function"?t(i):t,c=typeof e=="function"?e({...i,...l}):e,u=_e(i==null?void 0:i.className,l==null?void 0:l.className,c==null?void 0:c.className),d=n(c,l);return{...l,...c,...d,...!!u&&{className:u},...(l==null?void 0:l.style)&&(c==null?void 0:c.style)&&{style:{...l.style,...c.style}},...(l==null?void 0:l.sx)&&(c==null?void 0:c.sx)&&{sx:[...Array.isArray(l.sx)?l.sx:[l.sx],...Array.isArray(c.sx)?c.sx:[c.sx]]}}};const r=t,s=n(e,r),a=_e(r==null?void 0:r.className,e==null?void 0:e.className);return{...t,...e,...s,...!!a&&{className:a},...(r==null?void 0:r.style)&&(e==null?void 0:e.style)&&{style:{...r.style,...e.style}},...(r==null?void 0:r.sx)&&(e==null?void 0:e.sx)&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(e.sx)?e.sx:[e.sx]]}}}function G0(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ed(e,t){return Ed=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Ed(e,t)}function K0(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ed(e,t)}const ah={disabled:!1},Nl=jn.createContext(null);var MS=function(t){return t.scrollTop},Zo="unmounted",as="exited",is="entering",Bs="entered",_d="exiting",Zn=function(e){K0(t,e);function t(r,s){var a;a=e.call(this,r,s)||this;var i=s,l=i&&!i.isMounting?r.enter:r.appear,c;return a.appearStatus=null,r.in?l?(c=as,a.appearStatus=is):c=Bs:r.unmountOnExit||r.mountOnEnter?c=Zo:c=as,a.state={status:c},a.nextCallback=null,a}t.getDerivedStateFromProps=function(s,a){var i=s.in;return i&&a.status===Zo?{status:as}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var a=null;if(s!==this.props){var i=this.state.status;this.props.in?i!==is&&i!==Bs&&(a=is):(i===is||i===Bs)&&(a=_d)}this.updateStatus(!1,a)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,a,i,l;return a=i=l=s,s!=null&&typeof s!="number"&&(a=s.exit,i=s.enter,l=s.appear!==void 0?s.appear:i),{exit:a,enter:i,appear:l}},n.updateStatus=function(s,a){if(s===void 0&&(s=!1),a!==null)if(this.cancelNextCallback(),a===is){if(this.props.unmountOnExit||this.props.mountOnEnter){var i=this.props.nodeRef?this.props.nodeRef.current:bi.findDOMNode(this);i&&MS(i)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===as&&this.setState({status:Zo})},n.performEnter=function(s){var a=this,i=this.props.enter,l=this.context?this.context.isMounting:s,c=this.props.nodeRef?[l]:[bi.findDOMNode(this),l],u=c[0],d=c[1],g=this.getTimeouts(),b=l?g.appear:g.enter;if(!s&&!i||ah.disabled){this.safeSetState({status:Bs},function(){a.props.onEntered(u)});return}this.props.onEnter(u,d),this.safeSetState({status:is},function(){a.props.onEntering(u,d),a.onTransitionEnd(b,function(){a.safeSetState({status:Bs},function(){a.props.onEntered(u,d)})})})},n.performExit=function(){var s=this,a=this.props.exit,i=this.getTimeouts(),l=this.props.nodeRef?void 0:bi.findDOMNode(this);if(!a||ah.disabled){this.safeSetState({status:as},function(){s.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:_d},function(){s.props.onExiting(l),s.onTransitionEnd(i.exit,function(){s.safeSetState({status:as},function(){s.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,a){a=this.setNextCallback(a),this.setState(s,a)},n.setNextCallback=function(s){var a=this,i=!0;return this.nextCallback=function(l){i&&(i=!1,a.nextCallback=null,s(l))},this.nextCallback.cancel=function(){i=!1},this.nextCallback},n.onTransitionEnd=function(s,a){this.setNextCallback(a);var i=this.props.nodeRef?this.props.nodeRef.current:bi.findDOMNode(this),l=s==null&&!this.props.addEndListener;if(!i||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[i,this.nextCallback],u=c[0],d=c[1];this.props.addEndListener(u,d)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===Zo)return null;var a=this.props,i=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var l=G0(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return jn.createElement(Nl.Provider,{value:null},typeof i=="function"?i(s,l):jn.cloneElement(jn.Children.only(i),l))},t}(jn.Component);Zn.contextType=Nl;Zn.propTypes={};function Ms(){}Zn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ms,onEntering:Ms,onEntered:Ms,onExit:Ms,onExiting:Ms,onExited:Ms};Zn.UNMOUNTED=Zo;Zn.EXITED=as;Zn.ENTERING=is;Zn.ENTERED=Bs;Zn.EXITING=_d;function DS(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nf(e,t){var n=function(a){return t&&m.isValidElement(a)?t(a):a},r=Object.create(null);return e&&m.Children.map(e,function(s){return s}).forEach(function(s){r[s.key]=n(s)}),r}function FS(e,t){e=e||{},t=t||{};function n(d){return d in t?t[d]:e[d]}var r=Object.create(null),s=[];for(var a in e)a in t?s.length&&(r[a]=s,s=[]):s.push(a);var i,l={};for(var c in t){if(r[c])for(i=0;i<r[c].length;i++){var u=r[c][i];l[r[c][i]]=n(u)}l[c]=n(c)}for(i=0;i<s.length;i++)l[s[i]]=n(s[i]);return l}function ps(e,t,n){return n[t]!=null?n[t]:e.props[t]}function BS(e,t){return nf(e.children,function(n){return m.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:ps(n,"appear",e),enter:ps(n,"enter",e),exit:ps(n,"exit",e)})})}function VS(e,t,n){var r=nf(e.children),s=FS(t,r);return Object.keys(s).forEach(function(a){var i=s[a];if(m.isValidElement(i)){var l=a in t,c=a in r,u=t[a],d=m.isValidElement(u)&&!u.props.in;c&&(!l||d)?s[a]=m.cloneElement(i,{onExited:n.bind(null,i),in:!0,exit:ps(i,"exit",e),enter:ps(i,"enter",e)}):!c&&l&&!d?s[a]=m.cloneElement(i,{in:!1}):c&&l&&m.isValidElement(u)&&(s[a]=m.cloneElement(i,{onExited:n.bind(null,i),in:u.props.in,exit:ps(i,"exit",e),enter:ps(i,"enter",e)}))}}),s}var HS=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},WS={component:"div",childFactory:function(t){return t}},rf=function(e){K0(t,e);function t(r,s){var a;a=e.call(this,r,s)||this;var i=a.handleExited.bind(DS(a));return a.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},a}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(s,a){var i=a.children,l=a.handleExited,c=a.firstRender;return{children:c?BS(s,l):VS(s,i,l),firstRender:!1}},n.handleExited=function(s,a){var i=nf(this.props.children);s.key in i||(s.props.onExited&&s.props.onExited(a),this.mounted&&this.setState(function(l){var c=vl({},l.children);return delete c[s.key],{children:c}}))},n.render=function(){var s=this.props,a=s.component,i=s.childFactory,l=G0(s,["component","childFactory"]),c=this.state.contextValue,u=HS(this.state.children).map(i);return delete l.appear,delete l.enter,delete l.exit,a===null?jn.createElement(Nl.Provider,{value:c},u):jn.createElement(Nl.Provider,{value:c},jn.createElement(a,l,u))},t}(jn.Component);rf.propTypes={};rf.defaultProps=WS;const ih={};function J0(e,t){const n=m.useRef(ih);return n.current===ih&&(n.current=e(t)),n}const qS=[];function US(e){m.useEffect(e,qS)}class sf{constructor(){Po(this,"currentId",null);Po(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});Po(this,"disposeEffect",()=>this.clear)}static create(){return new sf}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}}function Y0(){const e=J0(sf.create).current;return US(e.disposeEffect),e}const of=e=>e.scrollTop;function xo(e,t){const{timeout:n,easing:r,style:s={}}=e;return{duration:s.transitionDuration??(typeof n=="number"?n:n[t.mode]||0),easing:s.transitionTimingFunction??(typeof r=="object"?r[t.mode]:r),delay:s.transitionDelay}}function Cl(e){return typeof e=="string"}function Q0(e,t,n){return e===void 0||Cl(e)?t:{...t,ownerState:{...t.ownerState,...n}}}function X0(e,t,n){return typeof e=="function"?e(t,n):e}function Z0(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function lh(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function ey(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:s,className:a}=e;if(!t){const N=_e(n==null?void 0:n.className,a,s==null?void 0:s.className,r==null?void 0:r.className),h={...n==null?void 0:n.style,...s==null?void 0:s.style,...r==null?void 0:r.style},y={...n,...s,...r};return N.length>0&&(y.className=N),Object.keys(h).length>0&&(y.style=h),{props:y,internalRef:void 0}}const i=Z0({...s,...r}),l=lh(r),c=lh(s),u=t(i),d=_e(u==null?void 0:u.className,n==null?void 0:n.className,a,s==null?void 0:s.className,r==null?void 0:r.className),g={...u==null?void 0:u.style,...n==null?void 0:n.style,...s==null?void 0:s.style,...r==null?void 0:r.style},b={...u,...n,...c,...l};return d.length>0&&(b.className=d),Object.keys(g).length>0&&(b.style=g),{props:b,internalRef:u.ref}}function Et(e,t){const{className:n,elementType:r,ownerState:s,externalForwardedProps:a,internalForwardedProps:i,shouldForwardComponentProp:l=!1,...c}=t,{component:u,slots:d={[e]:void 0},slotProps:g={[e]:void 0},...b}=a,N=d[e]||r,h=X0(g[e],s),{props:{component:y,...S},internalRef:v}=ey({className:n,...c,externalForwardedProps:e==="root"?b:void 0,externalSlotProps:h}),w=rn(v,h==null?void 0:h.ref,t.ref),f=e==="root"?y||u:y,x=Q0(N,{...e==="root"&&!u&&!d[e]&&i,...e!=="root"&&!d[e]&&i,...S,...f&&!l&&{as:f},...f&&l&&{component:f},ref:w},s);return[N,x]}function GS(e){return rt("MuiPaper",e)}nt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const KS=e=>{const{square:t,elevation:n,variant:r,classes:s}=e,a={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${n}`]};return st(a,GS,s)},JS=ge("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(dt(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),af=m.forwardRef(function(t,n){var N;const r=lt({props:t,name:"MuiPaper"}),s=Ka(),{className:a,component:i="div",elevation:l=1,square:c=!1,variant:u="elevation",...d}=r,g={...r,component:i,elevation:l,square:c,variant:u},b=KS(g);return o.jsx(JS,{as:i,ownerState:g,className:_e(b.root,a),ref:n,...d,style:{...u==="elevation"&&{"--Paper-shadow":(s.vars||s).shadows[l],...s.vars&&{"--Paper-overlay":(N=s.vars.overlays)==null?void 0:N[l]},...!s.vars&&s.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Sl("#fff",Cd(l))}, ${Sl("#fff",Cd(l))})`}},...d.style}})});function ch(e){try{return e.matches(":focus-visible")}catch{}return!1}class kl{constructor(){Po(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new kl}static use(){const t=J0(kl.create).current,[n,r]=m.useState(!1);return t.shouldMount=n,t.setShouldMount=r,m.useEffect(t.mountEffect,[n]),t}mount(){return this.mounted||(this.mounted=QS(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...t)})}stop(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...t)})}pulsate(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...t)})}}function YS(){return kl.use()}function QS(){let e,t;const n=new Promise((r,s)=>{e=r,t=s});return n.resolve=e,n.reject=t,n}function XS(e){const{className:t,classes:n,pulsate:r=!1,rippleX:s,rippleY:a,rippleSize:i,in:l,onExited:c,timeout:u}=e,[d,g]=m.useState(!1),b=_e(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),N={width:i,height:i,top:-(i/2)+a,left:-(i/2)+s},h=_e(n.child,d&&n.childLeaving,r&&n.childPulsate);return!l&&!d&&g(!0),m.useEffect(()=>{if(!l&&c!=null){const y=setTimeout(c,u);return()=>{clearTimeout(y)}}},[c,l,u]),o.jsx("span",{className:b,style:N,children:o.jsx("span",{className:h})})}const Pn=nt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Td=550,ZS=80,eN=Wa`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,tN=Wa`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,nN=Wa`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,rN=ge("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),sN=ge(XS,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Pn.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${eN};
    animation-duration: ${Td}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${Pn.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${Pn.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Pn.childLeaving} {
    opacity: 0;
    animation-name: ${tN};
    animation-duration: ${Td}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${Pn.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${nN};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,oN=m.forwardRef(function(t,n){const r=lt({props:t,name:"MuiTouchRipple"}),{center:s=!1,classes:a={},className:i,...l}=r,[c,u]=m.useState([]),d=m.useRef(0),g=m.useRef(null);m.useEffect(()=>{g.current&&(g.current(),g.current=null)},[c]);const b=m.useRef(!1),N=Y0(),h=m.useRef(null),y=m.useRef(null),S=m.useCallback(x=>{const{pulsate:_,rippleX:k,rippleY:P,rippleSize:A,cb:C}=x;u(R=>[...R,o.jsx(sN,{classes:{ripple:_e(a.ripple,Pn.ripple),rippleVisible:_e(a.rippleVisible,Pn.rippleVisible),ripplePulsate:_e(a.ripplePulsate,Pn.ripplePulsate),child:_e(a.child,Pn.child),childLeaving:_e(a.childLeaving,Pn.childLeaving),childPulsate:_e(a.childPulsate,Pn.childPulsate)},timeout:Td,pulsate:_,rippleX:k,rippleY:P,rippleSize:A},d.current)]),d.current+=1,g.current=C},[a]),v=m.useCallback((x={},_={},k=()=>{})=>{const{pulsate:P=!1,center:A=s||_.pulsate,fakeElement:C=!1}=_;if((x==null?void 0:x.type)==="mousedown"&&b.current){b.current=!1;return}(x==null?void 0:x.type)==="touchstart"&&(b.current=!0);const R=C?null:y.current,L=R?R.getBoundingClientRect():{width:0,height:0,left:0,top:0};let j,T,E;if(A||x===void 0||x.clientX===0&&x.clientY===0||!x.clientX&&!x.touches)j=Math.round(L.width/2),T=Math.round(L.height/2);else{const{clientX:I,clientY:z}=x.touches&&x.touches.length>0?x.touches[0]:x;j=Math.round(I-L.left),T=Math.round(z-L.top)}if(A)E=Math.sqrt((2*L.width**2+L.height**2)/3),E%2===0&&(E+=1);else{const I=Math.max(Math.abs((R?R.clientWidth:0)-j),j)*2+2,z=Math.max(Math.abs((R?R.clientHeight:0)-T),T)*2+2;E=Math.sqrt(I**2+z**2)}x!=null&&x.touches?h.current===null&&(h.current=()=>{S({pulsate:P,rippleX:j,rippleY:T,rippleSize:E,cb:k})},N.start(ZS,()=>{h.current&&(h.current(),h.current=null)})):S({pulsate:P,rippleX:j,rippleY:T,rippleSize:E,cb:k})},[s,S,N]),w=m.useCallback(()=>{v({},{pulsate:!0})},[v]),f=m.useCallback((x,_)=>{if(N.clear(),(x==null?void 0:x.type)==="touchend"&&h.current){h.current(),h.current=null,N.start(0,()=>{f(x,_)});return}h.current=null,u(k=>k.length>0?k.slice(1):k),g.current=_},[N]);return m.useImperativeHandle(n,()=>({pulsate:w,start:v,stop:f}),[w,v,f]),o.jsx(rN,{className:_e(Pn.root,a.root,i),ref:y,...l,children:o.jsx(rf,{component:null,exit:!0,children:c})})});function aN(e){return rt("MuiButtonBase",e)}const iN=nt("MuiButtonBase",["root","disabled","focusVisible"]),lN=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:s}=e,i=st({root:["root",t&&"disabled",n&&"focusVisible"]},aN,s);return n&&r&&(i.root+=` ${r}`),i},cN=ge("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${iN.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),El=m.forwardRef(function(t,n){const r=lt({props:t,name:"MuiButtonBase"}),{action:s,centerRipple:a=!1,children:i,className:l,component:c="button",disabled:u=!1,disableRipple:d=!1,disableTouchRipple:g=!1,focusRipple:b=!1,focusVisibleClassName:N,LinkComponent:h="a",onBlur:y,onClick:S,onContextMenu:v,onDragLeave:w,onFocus:f,onFocusVisible:x,onKeyDown:_,onKeyUp:k,onMouseDown:P,onMouseLeave:A,onMouseUp:C,onTouchEnd:R,onTouchMove:L,onTouchStart:j,tabIndex:T=0,TouchRippleProps:E,touchRippleRef:I,type:z,...H}=r,M=m.useRef(null),D=YS(),X=rn(D.ref,I),[K,J]=m.useState(!1);u&&K&&J(!1),m.useImperativeHandle(s,()=>({focusVisible:()=>{J(!0),M.current.focus()}}),[]);const Y=D.shouldMount&&!d&&!u;m.useEffect(()=>{K&&b&&!d&&D.pulsate()},[d,b,K,D]);const Ne=hr(D,"start",P,g),xe=hr(D,"stop",v,g),ce=hr(D,"stop",w,g),je=hr(D,"stop",C,g),Be=hr(D,"stop",de=>{K&&de.preventDefault(),A&&A(de)},g),Ae=hr(D,"start",j,g),he=hr(D,"stop",R,g),Ce=hr(D,"stop",L,g),pe=hr(D,"stop",de=>{ch(de.target)||J(!1),y&&y(de)},!1),Ee=gs(de=>{M.current||(M.current=de.currentTarget),ch(de.target)&&(J(!0),x&&x(de)),f&&f(de)}),ye=()=>{const de=M.current;return c&&c!=="button"&&!(de.tagName==="A"&&de.href)},Se=gs(de=>{b&&!de.repeat&&K&&de.key===" "&&D.stop(de,()=>{D.start(de)}),de.target===de.currentTarget&&ye()&&de.key===" "&&de.preventDefault(),_&&_(de),de.target===de.currentTarget&&ye()&&de.key==="Enter"&&!u&&(de.preventDefault(),S&&S(de))}),Ye=gs(de=>{b&&de.key===" "&&K&&!de.defaultPrevented&&D.stop(de,()=>{D.pulsate(de)}),k&&k(de),S&&de.target===de.currentTarget&&ye()&&de.key===" "&&!de.defaultPrevented&&S(de)});let Me=c;Me==="button"&&(H.href||H.to)&&(Me=h);const De={};if(Me==="button"){const de=!!H.formAction;De.type=z===void 0&&!de?"button":z,De.disabled=u}else!H.href&&!H.to&&(De.role="button"),u&&(De["aria-disabled"]=u);const Fe=rn(n,M),$e={...r,centerRipple:a,component:c,disabled:u,disableRipple:d,disableTouchRipple:g,focusRipple:b,tabIndex:T,focusVisible:K},Ue=lN($e);return o.jsxs(cN,{as:Me,className:_e(Ue.root,l),ownerState:$e,onBlur:pe,onClick:S,onContextMenu:xe,onFocus:Ee,onKeyDown:Se,onKeyUp:Ye,onMouseDown:Ne,onMouseLeave:Be,onMouseUp:je,onDragLeave:ce,onTouchEnd:he,onTouchMove:Ce,onTouchStart:Ae,ref:Fe,tabIndex:u?-1:T,type:z,...De,...H,children:[i,Y?o.jsx(oN,{ref:X,center:a,...E}):null]})});function hr(e,t,n,r=!1){return gs(s=>(n&&n(s),r||e[t](s),!0))}function uN(e){return typeof e.main=="string"}function dN(e,t=[]){if(!uN(e))return!1;for(const n of t)if(!e.hasOwnProperty(n)||typeof e[n]!="string")return!1;return!0}function Nn(e=[]){return([,t])=>t&&dN(t,e)}function pN(e){return rt("MuiCircularProgress",e)}nt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","track","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Wn=44,$d=Wa`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,Pd=Wa`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,fN=typeof $d!="string"?Hp`
        animation: ${$d} 1.4s linear infinite;
      `:null,mN=typeof Pd!="string"?Hp`
        animation: ${Pd} 1.4s ease-in-out infinite;
      `:null,hN=e=>{const{classes:t,variant:n,color:r,disableShrink:s}=e,a={root:["root",n,`color${ie(r)}`],svg:["svg"],track:["track"],circle:["circle",`circle${ie(n)}`,s&&"circleDisableShrink"]};return st(a,pN,t)},gN=ge("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${ie(n.color)}`]]}})(dt(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:fN||{animation:`${$d} 1.4s linear infinite`}},...Object.entries(e.palette).filter(Nn()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}}))]}))),xN=ge("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),yN=ge("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${ie(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(dt(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink,style:mN||{animation:`${Pd} 1.4s ease-in-out infinite`}}]}))),vN=ge("circle",{name:"MuiCircularProgress",slot:"Track"})(dt(({theme:e})=>({stroke:"currentColor",opacity:(e.vars||e).palette.action.activatedOpacity}))),za=m.forwardRef(function(t,n){const r=lt({props:t,name:"MuiCircularProgress"}),{className:s,color:a="primary",disableShrink:i=!1,enableTrackSlot:l=!1,size:c=40,style:u,thickness:d=3.6,value:g=0,variant:b="indeterminate",...N}=r,h={...r,color:a,disableShrink:i,size:c,thickness:d,value:g,variant:b,enableTrackSlot:l},y=hN(h),S={},v={},w={};if(b==="determinate"){const f=2*Math.PI*((Wn-d)/2);S.strokeDasharray=f.toFixed(3),w["aria-valuenow"]=Math.round(g),S.strokeDashoffset=`${((100-g)/100*f).toFixed(3)}px`,v.transform="rotate(-90deg)"}return o.jsx(gN,{className:_e(y.root,s),style:{width:c,height:c,...v,...u},ownerState:h,ref:n,role:"progressbar",...w,...N,children:o.jsxs(xN,{className:y.svg,ownerState:h,viewBox:`${Wn/2} ${Wn/2} ${Wn} ${Wn}`,children:[l?o.jsx(vN,{className:y.track,ownerState:h,cx:Wn,cy:Wn,r:(Wn-d)/2,fill:"none",strokeWidth:d,"aria-hidden":"true"}):null,o.jsx(yN,{className:y.circle,style:S,ownerState:h,cx:Wn,cy:Wn,r:(Wn-d)/2,fill:"none",strokeWidth:d})]})})});function bN(e){return rt("MuiIconButton",e)}const uh=nt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),wN=e=>{const{classes:t,disabled:n,color:r,edge:s,size:a,loading:i}=e,l={root:["root",i&&"loading",n&&"disabled",r!=="default"&&`color${ie(r)}`,s&&`edge${ie(s)}`,`size${ie(a)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return st(l,bN,t)},jN=ge(El,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.loading&&t.loading,n.color!=="default"&&t[`color${ie(n.color)}`],n.edge&&t[`edge${ie(n.edge)}`],t[`size${ie(n.size)}`]]}})(dt(({theme:e})=>({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:t=>!t.disableRipple,style:{"--IconButton-hoverBg":e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),dt(({theme:e})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter(Nn()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette).filter(Nn()).map(([t])=>({props:{color:t},style:{"--IconButton-hoverBg":e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${uh.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled},[`&.${uh.loading}`]:{color:"transparent"}}))),SN=ge("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(e.vars||e).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),NN=m.forwardRef(function(t,n){const r=lt({props:t,name:"MuiIconButton"}),{edge:s=!1,children:a,className:i,color:l="default",disabled:c=!1,disableFocusRipple:u=!1,size:d="medium",id:g,loading:b=null,loadingIndicator:N,...h}=r,y=Ec(g),S=N??o.jsx(za,{"aria-labelledby":y,color:"inherit",size:16}),v={...r,edge:s,color:l,disabled:c,disableFocusRipple:u,loading:b,loadingIndicator:S,size:d},w=wN(v);return o.jsxs(jN,{id:b?y:g,className:_e(w.root,i),centerRipple:!0,focusRipple:!u,disabled:c||b,ref:n,...h,ownerState:v,children:[typeof b=="boolean"&&o.jsx("span",{className:w.loadingWrapper,style:{display:"contents"},children:o.jsx(SN,{className:w.loadingIndicator,ownerState:v,children:b&&S})}),a]})});function CN(e){return rt("MuiTypography",e)}nt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const kN={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},EN=IS(),_N=e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:s,variant:a,classes:i}=e,l={root:["root",a,e.align!=="inherit"&&`align${ie(t)}`,n&&"gutterBottom",r&&"noWrap",s&&"paragraph"]};return st(l,CN,i)},TN=ge("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${ie(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(dt(({theme:e})=>{var t;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(e.palette).filter(Nn()).map(([n])=>({props:{color:n},style:{color:(e.vars||e).palette[n].main}})),...Object.entries(((t=e.palette)==null?void 0:t.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${ie(n)}`},style:{color:(e.vars||e).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),dh={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},On=m.forwardRef(function(t,n){const{color:r,...s}=lt({props:t,name:"MuiTypography"}),a=!kN[r],i=EN({...s,...a&&{color:r}}),{align:l="inherit",className:c,component:u,gutterBottom:d=!1,noWrap:g=!1,paragraph:b=!1,variant:N="body1",variantMapping:h=dh,...y}=i,S={...i,align:l,color:r,className:c,component:u,gutterBottom:d,noWrap:g,paragraph:b,variant:N,variantMapping:h},v=u||(b?"p":h[N]||dh[N])||"span",w=_N(S);return o.jsx(TN,{as:v,ref:n,className:_e(w.root,c),...y,ownerState:S,style:{...l!=="inherit"&&{"--Typography-textAlign":l},...y.style}})});function $N(e){var g;const{elementType:t,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:s=!1,...a}=e,i=s?{}:X0(n,r),{props:l,internalRef:c}=ey({...a,externalSlotProps:i}),u=rn(c,i==null?void 0:i.ref,(g=e.additionalProps)==null?void 0:g.ref);return Q0(t,{...l,ref:u},r)}function No(e){var t;return parseInt(m.version,10)>=19?((t=e==null?void 0:e.props)==null?void 0:t.ref)||null:(e==null?void 0:e.ref)||null}function PN(e){return typeof e=="function"?e():e}const RN=m.forwardRef(function(t,n){const{children:r,container:s,disablePortal:a=!1}=t,[i,l]=m.useState(null),c=rn(m.isValidElement(r)?No(r):null,n);if(Ns(()=>{a||l(PN(s)||document.body)},[s,a]),Ns(()=>{if(i&&!a)return sh(n,i),()=>{sh(n,null)}},[n,i,a]),a){if(m.isValidElement(r)){const u={ref:c};return m.cloneElement(r,u)}return r}return i&&Rp.createPortal(r,i)}),IN=_s(o.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function AN(e){return rt("MuiChip",e)}const ze=nt("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),ON=e=>{const{classes:t,disabled:n,size:r,color:s,iconColor:a,onDelete:i,clickable:l,variant:c}=e,u={root:["root",c,n&&"disabled",`size${ie(r)}`,`color${ie(s)}`,l&&"clickable",l&&`clickableColor${ie(s)}`,i&&"deletable",i&&`deletableColor${ie(s)}`,`${c}${ie(s)}`],label:["label",`label${ie(r)}`],avatar:["avatar",`avatar${ie(r)}`,`avatarColor${ie(s)}`],icon:["icon",`icon${ie(r)}`,`iconColor${ie(a)}`],deleteIcon:["deleteIcon",`deleteIcon${ie(r)}`,`deleteIconColor${ie(s)}`,`deleteIcon${ie(c)}Color${ie(s)}`]};return st(u,AN,t)},zN=ge("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:r,iconColor:s,clickable:a,onDelete:i,size:l,variant:c}=n;return[{[`& .${ze.avatar}`]:t.avatar},{[`& .${ze.avatar}`]:t[`avatar${ie(l)}`]},{[`& .${ze.avatar}`]:t[`avatarColor${ie(r)}`]},{[`& .${ze.icon}`]:t.icon},{[`& .${ze.icon}`]:t[`icon${ie(l)}`]},{[`& .${ze.icon}`]:t[`iconColor${ie(s)}`]},{[`& .${ze.deleteIcon}`]:t.deleteIcon},{[`& .${ze.deleteIcon}`]:t[`deleteIcon${ie(l)}`]},{[`& .${ze.deleteIcon}`]:t[`deleteIconColor${ie(r)}`]},{[`& .${ze.deleteIcon}`]:t[`deleteIcon${ie(c)}Color${ie(r)}`]},t.root,t[`size${ie(l)}`],t[`color${ie(r)}`],a&&t.clickable,a&&r!=="default"&&t[`clickableColor${ie(r)}`],i&&t.deletable,i&&r!=="default"&&t[`deletableColor${ie(r)}`],t[c],t[`${c}${ie(r)}`]]}})(dt(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return{maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,lineHeight:1.5,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${ze.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${ze.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:t,fontSize:e.typography.pxToRem(12)},[`& .${ze.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${ze.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${ze.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${ze.icon}`]:{marginLeft:5,marginRight:-6},[`& .${ze.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:e.alpha((e.vars||e).palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.alpha((e.vars||e).palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${ze.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${ze.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(e.palette).filter(Nn(["contrastText"])).map(([n])=>({props:{color:n},style:{backgroundColor:(e.vars||e).palette[n].main,color:(e.vars||e).palette[n].contrastText,[`& .${ze.deleteIcon}`]:{color:e.alpha((e.vars||e).palette[n].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[n].contrastText}}}})),{props:n=>n.iconColor===n.color,style:{[`& .${ze.icon}`]:{color:e.vars?e.vars.palette.Chip.defaultIconColor:t}}},{props:n=>n.iconColor===n.color&&n.color!=="default",style:{[`& .${ze.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${ze.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.action.selected,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)}}},...Object.entries(e.palette).filter(Nn(["dark"])).map(([n])=>({props:{color:n,onDelete:!0},style:{[`&.${ze.focusVisible}`]:{background:(e.vars||e).palette[n].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.alpha((e.vars||e).palette.action.selected,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`)},[`&.${ze.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.action.selected,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)},"&:active":{boxShadow:(e.vars||e).shadows[1]}}},...Object.entries(e.palette).filter(Nn(["dark"])).map(([n])=>({props:{color:n,clickable:!0},style:{[`&:hover, &.${ze.focusVisible}`]:{backgroundColor:(e.vars||e).palette[n].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${ze.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${ze.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${ze.avatar}`]:{marginLeft:4},[`& .${ze.avatarSmall}`]:{marginLeft:2},[`& .${ze.icon}`]:{marginLeft:4},[`& .${ze.iconSmall}`]:{marginLeft:2},[`& .${ze.deleteIcon}`]:{marginRight:5},[`& .${ze.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(e.palette).filter(Nn()).map(([n])=>({props:{variant:"outlined",color:n},style:{color:(e.vars||e).palette[n].main,border:`1px solid ${e.alpha((e.vars||e).palette[n].main,.7)}`,[`&.${ze.clickable}:hover`]:{backgroundColor:e.alpha((e.vars||e).palette[n].main,(e.vars||e).palette.action.hoverOpacity)},[`&.${ze.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette[n].main,(e.vars||e).palette.action.focusOpacity)},[`& .${ze.deleteIcon}`]:{color:e.alpha((e.vars||e).palette[n].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[n].main}}}}))]}})),LN=ge("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:r}=n;return[t.label,t[`label${ie(r)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function ph(e){return e.key==="Backspace"||e.key==="Delete"}const ur=m.forwardRef(function(t,n){const r=lt({props:t,name:"MuiChip"}),{avatar:s,className:a,clickable:i,color:l="default",component:c,deleteIcon:u,disabled:d=!1,icon:g,label:b,onClick:N,onDelete:h,onKeyDown:y,onKeyUp:S,size:v="medium",variant:w="filled",tabIndex:f,skipFocusWhenDisabled:x=!1,slots:_={},slotProps:k={},...P}=r,A=m.useRef(null),C=rn(A,n),R=ce=>{ce.stopPropagation(),h&&h(ce)},L=ce=>{ce.currentTarget===ce.target&&ph(ce)&&ce.preventDefault(),y&&y(ce)},j=ce=>{ce.currentTarget===ce.target&&h&&ph(ce)&&h(ce),S&&S(ce)},T=i!==!1&&N?!0:i,E=T||h?El:c||"div",I={...r,component:E,disabled:d,size:v,color:l,iconColor:m.isValidElement(g)&&g.props.color||l,onDelete:!!h,clickable:T,variant:w},z=ON(I),H=E===El?{component:c||"div",focusVisibleClassName:z.focusVisible,...h&&{disableRipple:!0}}:{};let M=null;h&&(M=u&&m.isValidElement(u)?m.cloneElement(u,{className:_e(u.props.className,z.deleteIcon),onClick:R}):o.jsx(IN,{className:z.deleteIcon,onClick:R}));let D=null;s&&m.isValidElement(s)&&(D=m.cloneElement(s,{className:_e(z.avatar,s.props.className)}));let X=null;g&&m.isValidElement(g)&&(X=m.cloneElement(g,{className:_e(z.icon,g.props.className)}));const K={slots:_,slotProps:k},[J,Y]=Et("root",{elementType:zN,externalForwardedProps:{...K,...P},ownerState:I,shouldForwardComponentProp:!0,ref:C,className:_e(z.root,a),additionalProps:{disabled:T&&d?!0:void 0,tabIndex:x&&d?-1:f,...H},getSlotProps:ce=>({...ce,onClick:je=>{var Be;(Be=ce.onClick)==null||Be.call(ce,je),N==null||N(je)},onKeyDown:je=>{var Be;(Be=ce.onKeyDown)==null||Be.call(ce,je),L(je)},onKeyUp:je=>{var Be;(Be=ce.onKeyUp)==null||Be.call(ce,je),j(je)}})}),[Ne,xe]=Et("label",{elementType:LN,externalForwardedProps:K,ownerState:I,className:z.label});return o.jsxs(J,{as:E,...Y,children:[D||X,o.jsx(Ne,{...xe,children:b}),M]})});function Si(e){return parseInt(e,10)||0}const MN={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function DN(e){for(const t in e)return!1;return!0}function fh(e){return DN(e)||e.outerHeightStyle===0&&!e.overflowing}const FN=m.forwardRef(function(t,n){const{onChange:r,maxRows:s,minRows:a=1,style:i,value:l,...c}=t,{current:u}=m.useRef(l!=null),d=m.useRef(null),g=rn(n,d),b=m.useRef(null),N=m.useRef(null),h=m.useCallback(()=>{const f=d.current,x=N.current;if(!f||!x)return;const k=Xn(f).getComputedStyle(f);if(k.width==="0px")return{outerHeightStyle:0,overflowing:!1};x.style.width=k.width,x.value=f.value||t.placeholder||"x",x.value.slice(-1)===`
`&&(x.value+=" ");const P=k.boxSizing,A=Si(k.paddingBottom)+Si(k.paddingTop),C=Si(k.borderBottomWidth)+Si(k.borderTopWidth),R=x.scrollHeight;x.value="x";const L=x.scrollHeight;let j=R;a&&(j=Math.max(Number(a)*L,j)),s&&(j=Math.min(Number(s)*L,j)),j=Math.max(j,L);const T=j+(P==="border-box"?A+C:0),E=Math.abs(j-R)<=1;return{outerHeightStyle:T,overflowing:E}},[s,a,t.placeholder]),y=gs(()=>{const f=d.current,x=h();if(!f||!x||fh(x))return!1;const _=x.outerHeightStyle;return b.current!=null&&b.current!==_}),S=m.useCallback(()=>{const f=d.current,x=h();if(!f||!x||fh(x))return;const _=x.outerHeightStyle;b.current!==_&&(b.current=_,f.style.height=`${_}px`),f.style.overflow=x.overflowing?"hidden":""},[h]),v=m.useRef(-1);Ns(()=>{const f=tf(S),x=d==null?void 0:d.current;if(!x)return;const _=Xn(x);_.addEventListener("resize",f);let k;return typeof ResizeObserver<"u"&&(k=new ResizeObserver(()=>{y()&&(k.unobserve(x),cancelAnimationFrame(v.current),S(),v.current=requestAnimationFrame(()=>{k.observe(x)}))}),k.observe(x)),()=>{f.clear(),cancelAnimationFrame(v.current),_.removeEventListener("resize",f),k&&k.disconnect()}},[h,S,y]),Ns(()=>{S()});const w=f=>{u||S();const x=f.target,_=x.value.length,k=x.value.endsWith(`
`),P=x.selectionStart===_;k&&P&&x.setSelectionRange(_,_),r&&r(f)};return o.jsxs(m.Fragment,{children:[o.jsx("textarea",{value:l,onChange:w,ref:g,rows:a,style:i,...c}),o.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:N,tabIndex:-1,style:{...MN.shadow,...i,paddingTop:0,paddingBottom:0}})]})});function Co({props:e,states:t,muiFormControl:n}){return t.reduce((r,s)=>(r[s]=e[s],n&&typeof e[s]>"u"&&(r[s]=n[s]),r),{})}const lf=m.createContext(void 0);function ko(){return m.useContext(lf)}function mh(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function _l(e,t=!1){return e&&(mh(e.value)&&e.value!==""||t&&mh(e.defaultValue)&&e.defaultValue!=="")}function BN(e){return e.startAdornment}function VN(e){return rt("MuiInputBase",e)}const yo=nt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var hh;const _c=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,n.size==="small"&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${ie(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},Tc=(e,t)=>{const{ownerState:n}=e;return[t.input,n.size==="small"&&t.inputSizeSmall,n.multiline&&t.inputMultiline,n.type==="search"&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},HN=e=>{const{classes:t,color:n,disabled:r,error:s,endAdornment:a,focused:i,formControl:l,fullWidth:c,hiddenLabel:u,multiline:d,readOnly:g,size:b,startAdornment:N,type:h}=e,y={root:["root",`color${ie(n)}`,r&&"disabled",s&&"error",c&&"fullWidth",i&&"focused",l&&"formControl",b&&b!=="medium"&&`size${ie(b)}`,d&&"multiline",N&&"adornedStart",a&&"adornedEnd",u&&"hiddenLabel",g&&"readOnly"],input:["input",r&&"disabled",h==="search"&&"inputTypeSearch",d&&"inputMultiline",b==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",N&&"inputAdornedStart",a&&"inputAdornedEnd",g&&"readOnly"]};return st(y,VN,t)},$c=ge("div",{name:"MuiInputBase",slot:"Root",overridesResolver:_c})(dt(({theme:e})=>({...e.typography.body1,color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${yo.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:t})=>t.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:t,size:n})=>t.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:t})=>t.fullWidth,style:{width:"100%"}}]}))),Pc=ge("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Tc})(dt(({theme:e})=>{const t=e.palette.mode==="light",n={color:"currentColor",...e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5},transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},r={opacity:"0 !important"},s=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${yo.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${yo.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},variants:[{props:({ownerState:a})=>!a.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:a})=>a.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),gh=RS({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),cf=m.forwardRef(function(t,n){const r=lt({props:t,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:a,autoFocus:i,className:l,color:c,components:u={},componentsProps:d={},defaultValue:g,disabled:b,disableInjectingGlobalStyles:N,endAdornment:h,error:y,fullWidth:S=!1,id:v,inputComponent:w="input",inputProps:f={},inputRef:x,margin:_,maxRows:k,minRows:P,multiline:A=!1,name:C,onBlur:R,onChange:L,onClick:j,onFocus:T,onKeyDown:E,onKeyUp:I,placeholder:z,readOnly:H,renderSuffix:M,rows:D,size:X,slotProps:K={},slots:J={},startAdornment:Y,type:Ne="text",value:xe,...ce}=r,je=f.value!=null?f.value:xe,{current:Be}=m.useRef(je!=null),Ae=m.useRef(),he=m.useCallback(we=>{},[]),Ce=rn(Ae,x,f.ref,he),[pe,Ee]=m.useState(!1),ye=ko(),Se=Co({props:r,muiFormControl:ye,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Se.focused=ye?ye.focused:pe,m.useEffect(()=>{!ye&&b&&pe&&(Ee(!1),R&&R())},[ye,b,pe,R]);const Ye=ye&&ye.onFilled,Me=ye&&ye.onEmpty,De=m.useCallback(we=>{_l(we)?Ye&&Ye():Me&&Me()},[Ye,Me]);Ns(()=>{Be&&De({value:je})},[je,De,Be]);const Fe=we=>{T&&T(we),f.onFocus&&f.onFocus(we),ye&&ye.onFocus?ye.onFocus(we):Ee(!0)},$e=we=>{R&&R(we),f.onBlur&&f.onBlur(we),ye&&ye.onBlur?ye.onBlur(we):Ee(!1)},Ue=(we,...ke)=>{if(!Be){const _t=we.target||Ae.current;if(_t==null)throw new Error(kr(1));De({value:_t.value})}f.onChange&&f.onChange(we,...ke),L&&L(we,...ke)};m.useEffect(()=>{De(Ae.current)},[]);const de=we=>{Ae.current&&we.currentTarget===we.target&&Ae.current.focus(),j&&j(we)};let Te=w,Ie=f;A&&Te==="input"&&(D?Ie={type:void 0,minRows:D,maxRows:D,...Ie}:Ie={type:void 0,maxRows:k,minRows:P,...Ie},Te=FN);const Je=we=>{De(we.animationName==="mui-auto-fill-cancel"?Ae.current:{value:"x"})};m.useEffect(()=>{ye&&ye.setAdornedStart(!!Y)},[ye,Y]);const Qe={...r,color:Se.color||"primary",disabled:Se.disabled,endAdornment:h,error:Se.error,focused:Se.focused,formControl:ye,fullWidth:S,hiddenLabel:Se.hiddenLabel,multiline:A,size:Se.size,startAdornment:Y,type:Ne},gt=HN(Qe),Ot=J.root||u.Root||$c,re=K.root||d.root||{},Oe=J.input||u.Input||Pc;return Ie={...Ie,...K.input??d.input},o.jsxs(m.Fragment,{children:[!N&&typeof gh=="function"&&(hh||(hh=o.jsx(gh,{}))),o.jsxs(Ot,{...re,ref:n,onClick:de,...ce,...!Cl(Ot)&&{ownerState:{...Qe,...re.ownerState}},className:_e(gt.root,re.className,l,H&&"MuiInputBase-readOnly"),children:[Y,o.jsx(lf.Provider,{value:null,children:o.jsx(Oe,{"aria-invalid":Se.error,"aria-describedby":s,autoComplete:a,autoFocus:i,defaultValue:g,disabled:Se.disabled,id:v,onAnimationStart:Je,name:C,placeholder:z,readOnly:H,required:Se.required,rows:D,value:je,onKeyDown:E,onKeyUp:I,type:Ne,...Ie,...!Cl(Oe)&&{as:Te,ownerState:{...Qe,...Ie.ownerState}},ref:Ce,className:_e(gt.input,Ie.className,H&&"MuiInputBase-readOnly"),onBlur:$e,onChange:Ue,onFocus:Fe})}),h,M?M({...Se,startAdornment:Y}):null]})]})});function WN(e){return rt("MuiInput",e)}const Vo={...yo,...nt("MuiInput",["root","underline","input"])};function qN(e){return rt("MuiOutlinedInput",e)}const rr={...yo,...nt("MuiOutlinedInput",["root","notchedOutline","input"])};function UN(e){return rt("MuiFilledInput",e)}const ts={...yo,...nt("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},GN=_s(o.jsx("path",{d:"M7 10l5 5 5-5z"})),KN={entering:{opacity:1},entered:{opacity:1}},JN=m.forwardRef(function(t,n){const r=Ka(),s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:a,appear:i=!0,children:l,easing:c,in:u,onEnter:d,onEntered:g,onEntering:b,onExit:N,onExited:h,onExiting:y,style:S,timeout:v=s,TransitionComponent:w=Zn,...f}=t,x=m.useRef(null),_=rn(x,No(l),n),k=E=>I=>{if(E){const z=x.current;I===void 0?E(z):E(z,I)}},P=k(b),A=k((E,I)=>{of(E);const z=xo({style:S,timeout:v,easing:c},{mode:"enter"});E.style.webkitTransition=r.transitions.create("opacity",z),E.style.transition=r.transitions.create("opacity",z),d&&d(E,I)}),C=k(g),R=k(y),L=k(E=>{const I=xo({style:S,timeout:v,easing:c},{mode:"exit"});E.style.webkitTransition=r.transitions.create("opacity",I),E.style.transition=r.transitions.create("opacity",I),N&&N(E)}),j=k(h),T=E=>{a&&a(x.current,E)};return o.jsx(w,{appear:i,in:u,nodeRef:x,onEnter:A,onEntered:C,onEntering:P,onExit:L,onExited:j,onExiting:R,addEndListener:T,timeout:v,...f,children:(E,{ownerState:I,...z})=>m.cloneElement(l,{style:{opacity:0,visibility:E==="exited"&&!u?"hidden":void 0,...KN[E],...S,...l.props.style},ref:_,...z})})});function YN(e){return rt("MuiBackdrop",e)}nt("MuiBackdrop",["root","invisible"]);const QN=e=>{const{classes:t,invisible:n}=e;return st({root:["root",n&&"invisible"]},YN,t)},XN=ge("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),ZN=m.forwardRef(function(t,n){const r=lt({props:t,name:"MuiBackdrop"}),{children:s,className:a,component:i="div",invisible:l=!1,open:c,components:u={},componentsProps:d={},slotProps:g={},slots:b={},TransitionComponent:N,transitionDuration:h,...y}=r,S={...r,component:i,invisible:l},v=QN(S),w={transition:N,root:u.Root,...b},f={...d,...g},x={component:i,slots:w,slotProps:f},[_,k]=Et("root",{elementType:XN,externalForwardedProps:x,className:_e(v.root,a),ownerState:S}),[P,A]=Et("transition",{elementType:JN,externalForwardedProps:x,ownerState:S});return o.jsx(P,{in:c,timeout:h,...y,...A,children:o.jsx(_,{"aria-hidden":!0,...k,classes:v,ref:n,children:s})})}),eC=nt("MuiBox",["root"]),tC=W0(),Tt=kj({themeId:Ul,defaultTheme:tC,defaultClassName:eC.root,generateClassName:R0.generate});function nC(e){return rt("MuiButton",e)}const ns=nt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),rC=m.createContext({}),sC=m.createContext(void 0),oC=e=>{const{color:t,disableElevation:n,fullWidth:r,size:s,variant:a,loading:i,loadingPosition:l,classes:c}=e,u={root:["root",i&&"loading",a,`${a}${ie(t)}`,`size${ie(s)}`,`${a}Size${ie(s)}`,`color${ie(t)}`,n&&"disableElevation",r&&"fullWidth",i&&`loadingPosition${ie(l)}`],startIcon:["icon","startIcon",`iconSize${ie(s)}`],endIcon:["icon","endIcon",`iconSize${ie(s)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},d=st(u,nC,c);return{...c,...d}},ty=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],aC=ge(El,{shouldForwardProp:e=>Vn(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${ie(n.color)}`],t[`size${ie(n.size)}`],t[`${n.variant}Size${ie(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth,n.loading&&t.loading]}})(dt(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],n=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${ns.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${ns.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${ns.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${ns.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(Nn()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(e.vars||e).palette[r].main,"--variant-outlinedColor":(e.vars||e).palette[r].main,"--variant-outlinedBorder":e.alpha((e.vars||e).palette[r].main,.5),"--variant-containedColor":(e.vars||e).palette[r].contrastText,"--variant-containedBg":(e.vars||e).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[r].dark,"--variant-textBg":e.alpha((e.vars||e).palette[r].main,(e.vars||e).palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[r].main,"--variant-outlinedBg":e.alpha((e.vars||e).palette[r].main,(e.vars||e).palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity),"--variant-outlinedBg":e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${ns.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${ns.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),[`&.${ns.loading}`]:{color:"transparent"}}}]}})),iC=ge("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,n.loading&&t.startIconLoadingStart,t[`iconSize${ie(n.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...ty]})),lC=ge("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,n.loading&&t.endIconLoadingEnd,t[`iconSize${ie(n.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...ty]})),cC=ge("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(e.vars||e).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),xh=ge("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),uC=m.forwardRef(function(t,n){const r=m.useContext(rC),s=m.useContext(sC),a=jl(r,t),i=lt({props:a,name:"MuiButton"}),{children:l,color:c="primary",component:u="button",className:d,disabled:g=!1,disableElevation:b=!1,disableFocusRipple:N=!1,endIcon:h,focusVisibleClassName:y,fullWidth:S=!1,id:v,loading:w=null,loadingIndicator:f,loadingPosition:x="center",size:_="medium",startIcon:k,type:P,variant:A="text",...C}=i,R=Ec(v),L=f??o.jsx(za,{"aria-labelledby":R,color:"inherit",size:16}),j={...i,color:c,component:u,disabled:g,disableElevation:b,disableFocusRipple:N,fullWidth:S,loading:w,loadingIndicator:L,loadingPosition:x,size:_,type:P,variant:A},T=oC(j),E=(k||w&&x==="start")&&o.jsx(iC,{className:T.startIcon,ownerState:j,children:k||o.jsx(xh,{className:T.loadingIconPlaceholder,ownerState:j})}),I=(h||w&&x==="end")&&o.jsx(lC,{className:T.endIcon,ownerState:j,children:h||o.jsx(xh,{className:T.loadingIconPlaceholder,ownerState:j})}),z=s||"",H=typeof w=="boolean"?o.jsx("span",{className:T.loadingWrapper,style:{display:"contents"},children:w&&o.jsx(cC,{className:T.loadingIndicator,ownerState:j,children:L})}):null;return o.jsxs(aC,{ownerState:j,className:_e(r.className,T.root,d,z),component:u,disabled:g||w,focusRipple:!N,focusVisibleClassName:_e(T.focusVisible,y),ref:n,type:P,id:w?R:v,...C,classes:T,children:[E,x!=="end"&&H,l,x==="end"&&H,I]})});function dC(e){return rt("MuiCard",e)}nt("MuiCard",["root"]);const pC=e=>{const{classes:t}=e;return st({root:["root"]},dC,t)},fC=ge(af,{name:"MuiCard",slot:"Root"})({overflow:"hidden"}),mC=m.forwardRef(function(t,n){const r=lt({props:t,name:"MuiCard"}),{className:s,raised:a=!1,...i}=r,l={...r,raised:a},c=pC(l);return o.jsx(fC,{className:_e(c.root,s),elevation:a?8:void 0,ref:n,ownerState:l,...i})});function hC(e){return rt("MuiCardContent",e)}nt("MuiCardContent",["root"]);const gC=e=>{const{classes:t}=e;return st({root:["root"]},hC,t)},xC=ge("div",{name:"MuiCardContent",slot:"Root"})({padding:16,"&:last-child":{paddingBottom:24}}),yC=m.forwardRef(function(t,n){const r=lt({props:t,name:"MuiCardContent"}),{className:s,component:a="div",...i}=r,l={...r,component:a},c=gC(l);return o.jsx(xC,{as:a,className:_e(c.root,s),ownerState:l,ref:n,...i})});function ny(e=window){const t=e.document.documentElement.clientWidth;return e.innerWidth-t}function vC(e){const t=Qn(e);return t.body===e?Xn(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function pa(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function yh(e){return parseInt(Xn(e).getComputedStyle(e).paddingRight,10)||0}function bC(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),r=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||r}function vh(e,t,n,r,s){const a=[t,n,...r];[].forEach.call(e.children,i=>{const l=!a.includes(i),c=!bC(i);l&&c&&pa(i,s)})}function gu(e,t){let n=-1;return e.some((r,s)=>t(r)?(n=s,!0):!1),n}function wC(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(vC(r)){const i=ny(Xn(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${yh(r)+i}px`;const l=Qn(r).querySelectorAll(".mui-fixed");[].forEach.call(l,c=>{n.push({value:c.style.paddingRight,property:"padding-right",el:c}),c.style.paddingRight=`${yh(c)+i}px`})}let a;if(r.parentNode instanceof DocumentFragment)a=Qn(r).body;else{const i=r.parentElement,l=Xn(r);a=(i==null?void 0:i.nodeName)==="HTML"&&l.getComputedStyle(i).overflowY==="scroll"?i:r}n.push({value:a.style.overflow,property:"overflow",el:a},{value:a.style.overflowX,property:"overflow-x",el:a},{value:a.style.overflowY,property:"overflow-y",el:a}),a.style.overflow="hidden"}return()=>{n.forEach(({value:a,el:i,property:l})=>{a?i.style.setProperty(l,a):i.style.removeProperty(l)})}}function jC(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class SC{constructor(){this.modals=[],this.containers=[]}add(t,n){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&pa(t.modalRef,!1);const s=jC(n);vh(n,t.mount,t.modalRef,s,!0);const a=gu(this.containers,i=>i.container===n);return a!==-1?(this.containers[a].modals.push(t),r):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:s}),r)}mount(t,n){const r=gu(this.containers,a=>a.modals.includes(t)),s=this.containers[r];s.restore||(s.restore=wC(s,n))}remove(t,n=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const s=gu(this.containers,i=>i.modals.includes(t)),a=this.containers[s];if(a.modals.splice(a.modals.indexOf(t),1),this.modals.splice(r,1),a.modals.length===0)a.restore&&a.restore(),t.modalRef&&pa(t.modalRef,n),vh(a.container,t.mount,t.modalRef,a.hiddenSiblings,!1),this.containers.splice(s,1);else{const i=a.modals[a.modals.length-1];i.modalRef&&pa(i.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}function ea(e){var n;let t=e.activeElement;for(;((n=t==null?void 0:t.shadowRoot)==null?void 0:n.activeElement)!=null;)t=t.shadowRoot.activeElement;return t}const NC=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function CC(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function kC(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=r=>e.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function EC(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||kC(e))}function _C(e){const t=[],n=[];return Array.from(e.querySelectorAll(NC)).forEach((r,s)=>{const a=CC(r);a===-1||!EC(r)||(a===0?t.push(r):n.push({documentOrder:s,tabIndex:a,node:r}))}),n.sort((r,s)=>r.tabIndex===s.tabIndex?r.documentOrder-s.documentOrder:r.tabIndex-s.tabIndex).map(r=>r.node).concat(t)}function TC(){return!0}function $C(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:s=!1,getTabbable:a=_C,isEnabled:i=TC,open:l}=e,c=m.useRef(!1),u=m.useRef(null),d=m.useRef(null),g=m.useRef(null),b=m.useRef(null),N=m.useRef(!1),h=m.useRef(null),y=rn(No(t),h),S=m.useRef(null);m.useEffect(()=>{!l||!h.current||(N.current=!n)},[n,l]),m.useEffect(()=>{if(!l||!h.current)return;const f=Qn(h.current),x=ea(f);return h.current.contains(x)||(h.current.hasAttribute("tabIndex")||h.current.setAttribute("tabIndex","-1"),N.current&&h.current.focus()),()=>{s||(g.current&&g.current.focus&&(c.current=!0,g.current.focus()),g.current=null)}},[l]),m.useEffect(()=>{if(!l||!h.current)return;const f=Qn(h.current),x=ea(f),_=A=>{S.current=A,!(r||!i()||A.key!=="Tab")&&x===h.current&&A.shiftKey&&(c.current=!0,d.current&&d.current.focus())},k=()=>{var L,j;const A=h.current;if(A===null)return;const C=ea(f);if(!f.hasFocus()||!i()||c.current){c.current=!1;return}if(A.contains(C)||r&&C!==u.current&&C!==d.current)return;if(C!==b.current)b.current=null;else if(b.current!==null)return;if(!N.current)return;let R=[];if((C===u.current||C===d.current)&&(R=a(h.current)),R.length>0){const T=!!((L=S.current)!=null&&L.shiftKey&&((j=S.current)==null?void 0:j.key)==="Tab"),E=R[0],I=R[R.length-1];typeof E!="string"&&typeof I!="string"&&(T?I.focus():E.focus())}else A.focus()};f.addEventListener("focusin",k),f.addEventListener("keydown",_,!0);const P=setInterval(()=>{const A=ea(f);A&&A.tagName==="BODY"&&k()},50);return()=>{clearInterval(P),f.removeEventListener("focusin",k),f.removeEventListener("keydown",_,!0)}},[n,r,s,i,l,a]);const v=f=>{g.current===null&&(g.current=f.relatedTarget),N.current=!0,b.current=f.target;const x=t.props.onFocus;x&&x(f)},w=f=>{g.current===null&&(g.current=f.relatedTarget),N.current=!0};return o.jsxs(m.Fragment,{children:[o.jsx("div",{tabIndex:l?0:-1,onFocus:w,ref:u,"data-testid":"sentinelStart"}),m.cloneElement(t,{ref:y,onFocus:v}),o.jsx("div",{tabIndex:l?0:-1,onFocus:w,ref:d,"data-testid":"sentinelEnd"})]})}function PC(e){return typeof e=="function"?e():e}function RC(e){return e?e.props.hasOwnProperty("in"):!1}const bh=()=>{},Ni=new SC;function IC(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:s=!1,onTransitionEnter:a,onTransitionExited:i,children:l,onClose:c,open:u,rootRef:d}=e,g=m.useRef({}),b=m.useRef(null),N=m.useRef(null),h=rn(N,d),[y,S]=m.useState(!u),v=RC(l);let w=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(w=!1);const f=()=>Qn(b.current),x=()=>(g.current.modalRef=N.current,g.current.mount=b.current,g.current),_=()=>{Ni.mount(x(),{disableScrollLock:r}),N.current&&(N.current.scrollTop=0)},k=gs(()=>{const I=PC(t)||f().body;Ni.add(x(),I),N.current&&_()}),P=()=>Ni.isTopModal(x()),A=gs(I=>{b.current=I,I&&(u&&P()?_():N.current&&pa(N.current,w))}),C=m.useCallback(()=>{Ni.remove(x(),w)},[w]);m.useEffect(()=>()=>{C()},[C]),m.useEffect(()=>{u?k():(!v||!s)&&C()},[u,C,v,s,k]);const R=I=>z=>{var H;(H=I.onKeyDown)==null||H.call(I,z),!(z.key!=="Escape"||z.which===229||!P())&&(n||(z.stopPropagation(),c&&c(z,"escapeKeyDown")))},L=I=>z=>{var H;(H=I.onClick)==null||H.call(I,z),z.target===z.currentTarget&&c&&c(z,"backdropClick")};return{getRootProps:(I={})=>{const z=Z0(e);delete z.onTransitionEnter,delete z.onTransitionExited;const H={...z,...I};return{role:"presentation",...H,onKeyDown:R(H),ref:h}},getBackdropProps:(I={})=>{const z=I;return{"aria-hidden":!0,...z,onClick:L(z),open:u}},getTransitionProps:()=>{const I=()=>{S(!1),a&&a()},z=()=>{S(!0),i&&i(),s&&C()};return{onEnter:rh(I,(l==null?void 0:l.props.onEnter)??bh),onExited:rh(z,(l==null?void 0:l.props.onExited)??bh)}},rootRef:h,portalRef:A,isTopModal:P,exited:y,hasTransition:v}}function AC(e){return rt("MuiModal",e)}nt("MuiModal",["root","hidden","backdrop"]);const OC=e=>{const{open:t,exited:n,classes:r}=e;return st({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},AC,r)},zC=ge("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(dt(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:t})=>!t.open&&t.exited,style:{visibility:"hidden"}}]}))),LC=ge(ZN,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),ry=m.forwardRef(function(t,n){const r=lt({name:"MuiModal",props:t}),{BackdropComponent:s=LC,BackdropProps:a,classes:i,className:l,closeAfterTransition:c=!1,children:u,container:d,component:g,components:b={},componentsProps:N={},disableAutoFocus:h=!1,disableEnforceFocus:y=!1,disableEscapeKeyDown:S=!1,disablePortal:v=!1,disableRestoreFocus:w=!1,disableScrollLock:f=!1,hideBackdrop:x=!1,keepMounted:_=!1,onClose:k,onTransitionEnter:P,onTransitionExited:A,open:C,slotProps:R={},slots:L={},theme:j,...T}=r,E={...r,closeAfterTransition:c,disableAutoFocus:h,disableEnforceFocus:y,disableEscapeKeyDown:S,disablePortal:v,disableRestoreFocus:w,disableScrollLock:f,hideBackdrop:x,keepMounted:_},{getRootProps:I,getBackdropProps:z,getTransitionProps:H,portalRef:M,isTopModal:D,exited:X,hasTransition:K}=IC({...E,rootRef:n}),J={...E,exited:X},Y=OC(J),Ne={};if(u.props.tabIndex===void 0&&(Ne.tabIndex="-1"),K){const{onEnter:he,onExited:Ce}=H();Ne.onEnter=he,Ne.onExited=Ce}const xe={slots:{root:b.Root,backdrop:b.Backdrop,...L},slotProps:{...N,...R}},[ce,je]=Et("root",{ref:n,elementType:zC,externalForwardedProps:{...xe,...T,component:g},getSlotProps:I,ownerState:J,className:_e(l,Y==null?void 0:Y.root,!J.open&&J.exited&&(Y==null?void 0:Y.hidden))}),[Be,Ae]=Et("backdrop",{ref:a==null?void 0:a.ref,elementType:s,externalForwardedProps:xe,shouldForwardComponentProp:!0,additionalProps:a,getSlotProps:he=>z({...he,onClick:Ce=>{he!=null&&he.onClick&&he.onClick(Ce)}}),className:_e(a==null?void 0:a.className,Y==null?void 0:Y.backdrop),ownerState:J});return!_&&!C&&(!K||X)?null:o.jsx(RN,{ref:M,container:d,disablePortal:v,children:o.jsxs(ce,{...je,children:[!x&&s?o.jsx(Be,{...Ae}):null,o.jsx($C,{disableEnforceFocus:y,disableAutoFocus:h,disableRestoreFocus:w,isEnabled:D,open:C,children:m.cloneElement(u,Ne)})]})})});function MC(e,t,n){const r=t.getBoundingClientRect(),s=n&&n.getBoundingClientRect(),a=Xn(t);let i;if(t.fakeTransform)i=t.fakeTransform;else{const u=a.getComputedStyle(t);i=u.getPropertyValue("-webkit-transform")||u.getPropertyValue("transform")}let l=0,c=0;if(i&&i!=="none"&&typeof i=="string"){const u=i.split("(")[1].split(")")[0].split(",");l=parseInt(u[4],10),c=parseInt(u[5],10)}return e==="left"?s?`translateX(${s.right+l-r.left}px)`:`translateX(${a.innerWidth+l-r.left}px)`:e==="right"?s?`translateX(-${r.right-s.left-l}px)`:`translateX(-${r.left+r.width-l}px)`:e==="up"?s?`translateY(${s.bottom+c-r.top}px)`:`translateY(${a.innerHeight+c-r.top}px)`:s?`translateY(-${r.top-s.top+r.height-c}px)`:`translateY(-${r.top+r.height-c}px)`}function DC(e){return typeof e=="function"?e():e}function Ci(e,t,n){const r=DC(n),s=MC(e,t,r);s&&(t.style.webkitTransform=s,t.style.transform=s)}const FC=m.forwardRef(function(t,n){const r=Ka(),s={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},a={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:i,appear:l=!0,children:c,container:u,direction:d="down",easing:g=s,in:b,onEnter:N,onEntered:h,onEntering:y,onExit:S,onExited:v,onExiting:w,style:f,timeout:x=a,TransitionComponent:_=Zn,...k}=t,P=m.useRef(null),A=rn(No(c),P,n),C=M=>D=>{M&&(D===void 0?M(P.current):M(P.current,D))},R=C((M,D)=>{Ci(d,M,u),of(M),N&&N(M,D)}),L=C((M,D)=>{const X=xo({timeout:x,style:f,easing:g},{mode:"enter"});M.style.webkitTransition=r.transitions.create("-webkit-transform",{...X}),M.style.transition=r.transitions.create("transform",{...X}),M.style.webkitTransform="none",M.style.transform="none",y&&y(M,D)}),j=C(h),T=C(w),E=C(M=>{const D=xo({timeout:x,style:f,easing:g},{mode:"exit"});M.style.webkitTransition=r.transitions.create("-webkit-transform",D),M.style.transition=r.transitions.create("transform",D),Ci(d,M,u),S&&S(M)}),I=C(M=>{M.style.webkitTransition="",M.style.transition="",v&&v(M)}),z=M=>{i&&i(P.current,M)},H=m.useCallback(()=>{P.current&&Ci(d,P.current,u)},[d,u]);return m.useEffect(()=>{if(b||d==="down"||d==="right")return;const M=tf(()=>{P.current&&Ci(d,P.current,u)}),D=Xn(P.current);return D.addEventListener("resize",M),()=>{M.clear(),D.removeEventListener("resize",M)}},[d,b,u]),m.useEffect(()=>{b||H()},[b,H]),o.jsx(_,{nodeRef:P,onEnter:R,onEntered:j,onEntering:L,onExit:E,onExited:I,onExiting:T,addEndListener:z,appear:l,in:b,timeout:x,...k,children:(M,{ownerState:D,...X})=>m.cloneElement(c,{ref:A,style:{visibility:M==="exited"&&!b?"hidden":void 0,...f,...c.props.style},...X})})});function BC(e){return rt("MuiDrawer",e)}nt("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const sy=(e,t)=>{const{ownerState:n}=e;return[t.root,(n.variant==="permanent"||n.variant==="persistent")&&t.docked,t.modal]},VC=e=>{const{classes:t,anchor:n,variant:r}=e,s={root:["root",`anchor${ie(n)}`],docked:[(r==="permanent"||r==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${ie(n)}`,r!=="temporary"&&`paperAnchorDocked${ie(n)}`]};return st(s,BC,t)},HC=ge(ry,{name:"MuiDrawer",slot:"Root",overridesResolver:sy})(dt(({theme:e})=>({zIndex:(e.vars||e).zIndex.drawer}))),WC=ge("div",{shouldForwardProp:Vn,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:sy})({flex:"0 0 auto"}),qC=ge(af,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`paperAnchor${ie(n.anchor)}`],n.variant!=="temporary"&&t[`paperAnchorDocked${ie(n.anchor)}`]]}})(dt(({theme:e})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(e.vars||e).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:t})=>t.anchor==="left"&&t.variant!=="temporary",style:{borderRight:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="top"&&t.variant!=="temporary",style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="right"&&t.variant!=="temporary",style:{borderLeft:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="bottom"&&t.variant!=="temporary",style:{borderTop:`1px solid ${(e.vars||e).palette.divider}`}}]}))),oy={left:"right",right:"left",top:"down",bottom:"up"};function UC(e){return["left","right"].includes(e)}function GC({direction:e},t){return e==="rtl"&&UC(t)?oy[t]:t}const KC=m.forwardRef(function(t,n){const r=lt({props:t,name:"MuiDrawer"}),s=Ka(),a=L0(),i={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{anchor:l="left",BackdropProps:c,children:u,className:d,elevation:g=16,hideBackdrop:b=!1,ModalProps:{BackdropProps:N,...h}={},onClose:y,open:S=!1,PaperProps:v={},SlideProps:w,TransitionComponent:f,transitionDuration:x=i,variant:_="temporary",slots:k={},slotProps:P={},...A}=r,C=m.useRef(!1);m.useEffect(()=>{C.current=!0},[]);const R=GC({direction:a?"rtl":"ltr"},l),j={...r,anchor:l,elevation:g,open:S,variant:_,...A},T=VC(j),E={slots:{transition:f,...k},slotProps:{paper:v,transition:w,...P,backdrop:U0(P.backdrop||{...c,...N},{transitionDuration:x})}},[I,z]=Et("root",{ref:n,elementType:HC,className:_e(T.root,T.modal,d),shouldForwardComponentProp:!0,ownerState:j,externalForwardedProps:{...E,...A,...h},additionalProps:{open:S,onClose:y,hideBackdrop:b,slots:{backdrop:E.slots.backdrop},slotProps:{backdrop:E.slotProps.backdrop}}}),[H,M]=Et("paper",{elementType:qC,shouldForwardComponentProp:!0,className:_e(T.paper,v.className),ownerState:j,externalForwardedProps:E,additionalProps:{elevation:_==="temporary"?g:0,square:!0,..._==="temporary"&&{role:"dialog","aria-modal":"true"}}}),[D,X]=Et("docked",{elementType:WC,ref:n,className:_e(T.root,T.docked,d),ownerState:j,externalForwardedProps:E,additionalProps:A}),[K,J]=Et("transition",{elementType:FC,ownerState:j,externalForwardedProps:E,additionalProps:{in:S,direction:oy[R],timeout:x,appear:C.current}}),Y=o.jsx(H,{...M,children:u});if(_==="permanent")return o.jsx(D,{...X,children:Y});const Ne=o.jsx(K,{...J,children:Y});return _==="persistent"?o.jsx(D,{...X,children:Ne}):o.jsx(I,{...z,children:Ne})}),JC=e=>{const{classes:t,disableUnderline:n,startAdornment:r,endAdornment:s,size:a,hiddenLabel:i,multiline:l}=e,c={root:["root",!n&&"underline",r&&"adornedStart",s&&"adornedEnd",a==="small"&&`size${ie(a)}`,i&&"hiddenLabel",l&&"multiline"],input:["input"]},u=st(c,UN,t);return{...t,...u}},YC=ge($c,{shouldForwardProp:e=>Vn(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[..._c(e,t),!n.disableUnderline&&t.underline]}})(dt(({theme:e})=>{const t=e.palette.mode==="light",n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=t?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r}},[`&.${ts.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r},[`&.${ts.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:a},variants:[{props:({ownerState:i})=>!i.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ts.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ts.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?e.alpha(e.vars.palette.common.onBackground,e.vars.opacity.inputUnderline):n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ts.disabled}, .${ts.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${ts.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(Nn()).map(([i])=>{var l;return{props:{disableUnderline:!1,color:i},style:{"&::after":{borderBottom:`2px solid ${(l=(e.vars||e).palette[i])==null?void 0:l.main}`}}}}),{props:({ownerState:i})=>i.startAdornment,style:{paddingLeft:12}},{props:({ownerState:i})=>i.endAdornment,style:{paddingRight:12}},{props:({ownerState:i})=>i.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:i,size:l})=>i.multiline&&l==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:i})=>i.multiline&&i.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:i})=>i.multiline&&i.hiddenLabel&&i.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),QC=ge(Pc,{name:"MuiFilledInput",slot:"Input",overridesResolver:Tc})(dt(({theme:e})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:t})=>t.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}},{props:({ownerState:t})=>t.hiddenLabel&&t.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:t})=>t.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),uf=m.forwardRef(function(t,n){const r=lt({props:t,name:"MuiFilledInput"}),{disableUnderline:s=!1,components:a={},componentsProps:i,fullWidth:l=!1,hiddenLabel:c,inputComponent:u="input",multiline:d=!1,slotProps:g,slots:b={},type:N="text",...h}=r,y={...r,disableUnderline:s,fullWidth:l,inputComponent:u,multiline:d,type:N},S=JC(r),v={root:{ownerState:y},input:{ownerState:y}},w=g??i?tn(v,g??i):v,f=b.root??a.Root??YC,x=b.input??a.Input??QC;return o.jsx(cf,{slots:{root:f,input:x},slotProps:w,fullWidth:l,inputComponent:u,multiline:d,ref:n,type:N,...h,classes:S})});uf.muiName="Input";function XC(e){return rt("MuiFormControl",e)}nt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const ZC=e=>{const{classes:t,margin:n,fullWidth:r}=e,s={root:["root",n!=="none"&&`margin${ie(n)}`,r&&"fullWidth"]};return st(s,XC,t)},e2=ge("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`margin${ie(n.margin)}`],n.fullWidth&&t.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),t2=m.forwardRef(function(t,n){const r=lt({props:t,name:"MuiFormControl"}),{children:s,className:a,color:i="primary",component:l="div",disabled:c=!1,error:u=!1,focused:d,fullWidth:g=!1,hiddenLabel:b=!1,margin:N="none",required:h=!1,size:y="medium",variant:S="outlined",...v}=r,w={...r,color:i,component:l,disabled:c,error:u,fullWidth:g,hiddenLabel:b,margin:N,required:h,size:y,variant:S},f=ZC(w),[x,_]=m.useState(()=>{let I=!1;return s&&m.Children.forEach(s,z=>{if(!mu(z,["Input","Select"]))return;const H=mu(z,["Select"])?z.props.input:z;H&&BN(H.props)&&(I=!0)}),I}),[k,P]=m.useState(()=>{let I=!1;return s&&m.Children.forEach(s,z=>{mu(z,["Input","Select"])&&(_l(z.props,!0)||_l(z.props.inputProps,!0))&&(I=!0)}),I}),[A,C]=m.useState(!1);c&&A&&C(!1);const R=d!==void 0&&!c?d:A;let L;m.useRef(!1);const j=m.useCallback(()=>{P(!0)},[]),T=m.useCallback(()=>{P(!1)},[]),E=m.useMemo(()=>({adornedStart:x,setAdornedStart:_,color:i,disabled:c,error:u,filled:k,focused:R,fullWidth:g,hiddenLabel:b,size:y,onBlur:()=>{C(!1)},onFocus:()=>{C(!0)},onEmpty:T,onFilled:j,registerEffect:L,required:h,variant:S}),[x,i,c,u,k,R,g,b,L,T,j,h,y,S]);return o.jsx(lf.Provider,{value:E,children:o.jsx(e2,{as:l,ownerState:w,className:_e(f.root,a),ref:n,...v,children:s})})});function n2(e){return rt("MuiFormHelperText",e)}const wh=nt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var jh;const r2=e=>{const{classes:t,contained:n,size:r,disabled:s,error:a,filled:i,focused:l,required:c}=e,u={root:["root",s&&"disabled",a&&"error",r&&`size${ie(r)}`,n&&"contained",l&&"focused",i&&"filled",c&&"required"]};return st(u,n2,t)},s2=ge("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${ie(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})(dt(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${wh.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${wh.error}`]:{color:(e.vars||e).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:t})=>t.contained,style:{marginLeft:14,marginRight:14}}]}))),o2=m.forwardRef(function(t,n){const r=lt({props:t,name:"MuiFormHelperText"}),{children:s,className:a,component:i="p",disabled:l,error:c,filled:u,focused:d,margin:g,required:b,variant:N,...h}=r,y=ko(),S=Co({props:r,muiFormControl:y,states:["variant","size","disabled","error","filled","focused","required"]}),v={...r,component:i,contained:S.variant==="filled"||S.variant==="outlined",variant:S.variant,size:S.size,disabled:S.disabled,error:S.error,filled:S.filled,focused:S.focused,required:S.required};delete v.ownerState;const w=r2(v);return o.jsx(s2,{as:i,className:_e(w.root,a),ref:n,...h,ownerState:v,children:s===" "?jh||(jh=o.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):s})});function a2(e){return rt("MuiFormLabel",e)}const fa=nt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),i2=e=>{const{classes:t,color:n,focused:r,disabled:s,error:a,filled:i,required:l}=e,c={root:["root",`color${ie(n)}`,s&&"disabled",a&&"error",i&&"filled",r&&"focused",l&&"required"],asterisk:["asterisk",a&&"error"]};return st(c,a2,t)},l2=ge("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color==="secondary"&&t.colorSecondary,n.filled&&t.filled]}})(dt(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(e.palette).filter(Nn()).map(([t])=>({props:{color:t},style:{[`&.${fa.focused}`]:{color:(e.vars||e).palette[t].main}}})),{props:{},style:{[`&.${fa.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${fa.error}`]:{color:(e.vars||e).palette.error.main}}}]}))),c2=ge("span",{name:"MuiFormLabel",slot:"Asterisk"})(dt(({theme:e})=>({[`&.${fa.error}`]:{color:(e.vars||e).palette.error.main}}))),u2=m.forwardRef(function(t,n){const r=lt({props:t,name:"MuiFormLabel"}),{children:s,className:a,color:i,component:l="label",disabled:c,error:u,filled:d,focused:g,required:b,...N}=r,h=ko(),y=Co({props:r,muiFormControl:h,states:["color","required","focused","disabled","error","filled"]}),S={...r,color:y.color||"primary",component:l,disabled:y.disabled,error:y.error,filled:y.filled,focused:y.focused,required:y.required},v=i2(S);return o.jsxs(l2,{as:l,ownerState:S,className:_e(v.root,a),ref:n,...N,children:[s,y.required&&o.jsxs(c2,{ownerState:S,"aria-hidden":!0,className:v.asterisk,children:["","*"]})]})});function Rd(e){return`scale(${e}, ${e**2})`}const d2={entering:{opacity:1,transform:Rd(1)},entered:{opacity:1,transform:"none"}},xu=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Id=m.forwardRef(function(t,n){const{addEndListener:r,appear:s=!0,children:a,easing:i,in:l,onEnter:c,onEntered:u,onEntering:d,onExit:g,onExited:b,onExiting:N,style:h,timeout:y="auto",TransitionComponent:S=Zn,...v}=t,w=Y0(),f=m.useRef(),x=Ka(),_=m.useRef(null),k=rn(_,No(a),n),P=I=>z=>{if(I){const H=_.current;z===void 0?I(H):I(H,z)}},A=P(d),C=P((I,z)=>{of(I);const{duration:H,delay:M,easing:D}=xo({style:h,timeout:y,easing:i},{mode:"enter"});let X;y==="auto"?(X=x.transitions.getAutoHeightDuration(I.clientHeight),f.current=X):X=H,I.style.transition=[x.transitions.create("opacity",{duration:X,delay:M}),x.transitions.create("transform",{duration:xu?X:X*.666,delay:M,easing:D})].join(","),c&&c(I,z)}),R=P(u),L=P(N),j=P(I=>{const{duration:z,delay:H,easing:M}=xo({style:h,timeout:y,easing:i},{mode:"exit"});let D;y==="auto"?(D=x.transitions.getAutoHeightDuration(I.clientHeight),f.current=D):D=z,I.style.transition=[x.transitions.create("opacity",{duration:D,delay:H}),x.transitions.create("transform",{duration:xu?D:D*.666,delay:xu?H:H||D*.333,easing:M})].join(","),I.style.opacity=0,I.style.transform=Rd(.75),g&&g(I)}),T=P(b),E=I=>{y==="auto"&&w.start(f.current||0,I),r&&r(_.current,I)};return o.jsx(S,{appear:s,in:l,nodeRef:_,onEnter:C,onEntered:R,onEntering:A,onExit:j,onExited:T,onExiting:L,addEndListener:E,timeout:y==="auto"?null:y,...v,children:(I,{ownerState:z,...H})=>m.cloneElement(a,{style:{opacity:0,transform:Rd(.75),visibility:I==="exited"&&!l?"hidden":void 0,...d2[I],...h,...a.props.style},ref:k,...H})})});Id&&(Id.muiSupportAuto=!0);const p2=e=>{const{classes:t,disableUnderline:n}=e,s=st({root:["root",!n&&"underline"],input:["input"]},WN,t);return{...t,...s}},f2=ge($c,{shouldForwardProp:e=>Vn(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[..._c(e,t),!n.disableUnderline&&t.underline]}})(dt(({theme:e})=>{let n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(n=e.alpha(e.vars.palette.common.onBackground,e.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Vo.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Vo.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Vo.disabled}, .${Vo.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${Vo.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(Nn()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[r].main}`}}}))]}})),m2=ge(Pc,{name:"MuiInput",slot:"Input",overridesResolver:Tc})({}),df=m.forwardRef(function(t,n){const r=lt({props:t,name:"MuiInput"}),{disableUnderline:s=!1,components:a={},componentsProps:i,fullWidth:l=!1,inputComponent:c="input",multiline:u=!1,slotProps:d,slots:g={},type:b="text",...N}=r,h=p2(r),S={root:{ownerState:{disableUnderline:s}}},v=d??i?tn(d??i,S):S,w=g.root??a.Root??f2,f=g.input??a.Input??m2;return o.jsx(cf,{slots:{root:w,input:f},slotProps:v,fullWidth:l,inputComponent:c,multiline:u,ref:n,type:b,...N,classes:h})});df.muiName="Input";function h2(e){return rt("MuiInputLabel",e)}nt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const g2=e=>{const{classes:t,formControl:n,size:r,shrink:s,disableAnimation:a,variant:i,required:l}=e,c={root:["root",n&&"formControl",!a&&"animated",s&&"shrink",r&&r!=="medium"&&`size${ie(r)}`,i],asterisk:[l&&"asterisk"]},u=st(c,h2,t);return{...t,...u}},x2=ge(u2,{shouldForwardProp:e=>Vn(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${fa.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,n.size==="small"&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})(dt(({theme:e})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:t})=>t.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:t})=>t.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:t})=>!t.disableAnimation,style:{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:t,ownerState:n})=>t==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:t,ownerState:n,size:r})=>t==="filled"&&n.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:t,ownerState:n})=>t==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),y2=m.forwardRef(function(t,n){const r=lt({name:"MuiInputLabel",props:t}),{disableAnimation:s=!1,margin:a,shrink:i,variant:l,className:c,...u}=r,d=ko();let g=i;typeof g>"u"&&d&&(g=d.filled||d.focused||d.adornedStart);const b=Co({props:r,muiFormControl:d,states:["size","variant","required","focused"]}),N={...r,disableAnimation:s,formControl:d,shrink:g,size:b.size,variant:b.variant,required:b.required,focused:b.focused},h=g2(N);return o.jsx(x2,{"data-shrink":g,ref:n,className:_e(h.root,c),...u,ownerState:N,classes:h})}),v2=m.createContext({});function b2(e){return rt("MuiList",e)}nt("MuiList",["root","padding","dense","subheader"]);const w2=e=>{const{classes:t,disablePadding:n,dense:r,subheader:s}=e;return st({root:["root",!n&&"padding",r&&"dense",s&&"subheader"]},b2,t)},j2=ge("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>e.subheader,style:{paddingTop:0}}]}),S2=m.forwardRef(function(t,n){const r=lt({props:t,name:"MuiList"}),{children:s,className:a,component:i="ul",dense:l=!1,disablePadding:c=!1,subheader:u,...d}=r,g=m.useMemo(()=>({dense:l}),[l]),b={...r,component:i,dense:l,disablePadding:c},N=w2(b);return o.jsx(v2.Provider,{value:g,children:o.jsxs(j2,{as:i,className:_e(N.root,a),ref:n,ownerState:b,...d,children:[u,s]})})});function yu(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function Sh(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function ay(e,t){if(t===void 0)return!0;let n=e.innerText;return n===void 0&&(n=e.textContent),n=n.trim().toLowerCase(),n.length===0?!1:t.repeating?n[0]===t.keys[0]:n.startsWith(t.keys.join(""))}function Ho(e,t,n,r,s,a){let i=!1,l=s(e,t,t?n:!1);for(;l;){if(l===e.firstChild){if(i)return!1;i=!0}const c=r?!1:l.disabled||l.getAttribute("aria-disabled")==="true";if(!l.hasAttribute("tabindex")||!ay(l,a)||c)l=s(e,l,n);else return l.focus(),!0}return!1}const N2=m.forwardRef(function(t,n){const{actions:r,autoFocus:s=!1,autoFocusItem:a=!1,children:i,className:l,disabledItemsFocusable:c=!1,disableListWrap:u=!1,onKeyDown:d,variant:g="selectedMenu",...b}=t,N=m.useRef(null),h=m.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Ns(()=>{s&&N.current.focus()},[s]),m.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(f,{direction:x})=>{const _=!N.current.style.width;if(f.clientHeight<N.current.clientHeight&&_){const k=`${ny(Xn(f))}px`;N.current.style[x==="rtl"?"paddingLeft":"paddingRight"]=k,N.current.style.width=`calc(100% + ${k})`}return N.current}}),[]);const y=f=>{const x=N.current,_=f.key;if(f.ctrlKey||f.metaKey||f.altKey){d&&d(f);return}const P=ea(Qn(x));if(_==="ArrowDown")f.preventDefault(),Ho(x,P,u,c,yu);else if(_==="ArrowUp")f.preventDefault(),Ho(x,P,u,c,Sh);else if(_==="Home")f.preventDefault(),Ho(x,null,u,c,yu);else if(_==="End")f.preventDefault(),Ho(x,null,u,c,Sh);else if(_.length===1){const A=h.current,C=_.toLowerCase(),R=performance.now();A.keys.length>0&&(R-A.lastTime>500?(A.keys=[],A.repeating=!0,A.previousKeyMatched=!0):A.repeating&&C!==A.keys[0]&&(A.repeating=!1)),A.lastTime=R,A.keys.push(C);const L=P&&!A.repeating&&ay(P,A);A.previousKeyMatched&&(L||Ho(x,P,!1,c,yu,A))?f.preventDefault():A.previousKeyMatched=!1}d&&d(f)},S=rn(N,n);let v=-1;m.Children.forEach(i,(f,x)=>{if(!m.isValidElement(f)){v===x&&(v+=1,v>=i.length&&(v=-1));return}f.props.disabled||(g==="selectedMenu"&&f.props.selected||v===-1)&&(v=x),v===x&&(f.props.disabled||f.props.muiSkipListHighlight||f.type.muiSkipListHighlight)&&(v+=1,v>=i.length&&(v=-1))});const w=m.Children.map(i,(f,x)=>{if(x===v){const _={};return a&&(_.autoFocus=!0),f.props.tabIndex===void 0&&g==="selectedMenu"&&(_.tabIndex=0),m.cloneElement(f,_)}return f});return o.jsx(S2,{role:"menu",ref:S,className:l,onKeyDown:y,tabIndex:s?0:-1,...b,children:w})});function C2(e){return rt("MuiPopover",e)}nt("MuiPopover",["root","paper"]);function Nh(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.height/2:t==="bottom"&&(n=e.height),n}function Ch(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.width/2:t==="right"&&(n=e.width),n}function kh(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function ki(e){return typeof e=="function"?e():e}const k2=e=>{const{classes:t}=e;return st({root:["root"],paper:["paper"]},C2,t)},E2=ge(ry,{name:"MuiPopover",slot:"Root"})({}),iy=ge(af,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),_2=m.forwardRef(function(t,n){const r=lt({props:t,name:"MuiPopover"}),{action:s,anchorEl:a,anchorOrigin:i={vertical:"top",horizontal:"left"},anchorPosition:l,anchorReference:c="anchorEl",children:u,className:d,container:g,elevation:b=8,marginThreshold:N=16,open:h,PaperProps:y={},slots:S={},slotProps:v={},transformOrigin:w={vertical:"top",horizontal:"left"},TransitionComponent:f,transitionDuration:x="auto",TransitionProps:_={},disableScrollLock:k=!1,...P}=r,A=m.useRef(),C={...r,anchorOrigin:i,anchorReference:c,elevation:b,marginThreshold:N,transformOrigin:w,TransitionComponent:f,transitionDuration:x,TransitionProps:_},R=k2(C),L=m.useCallback(()=>{if(c==="anchorPosition")return l;const he=ki(a),pe=(he&&he.nodeType===1?he:Qn(A.current).body).getBoundingClientRect();return{top:pe.top+Nh(pe,i.vertical),left:pe.left+Ch(pe,i.horizontal)}},[a,i.horizontal,i.vertical,l,c]),j=m.useCallback(he=>({vertical:Nh(he,w.vertical),horizontal:Ch(he,w.horizontal)}),[w.horizontal,w.vertical]),T=m.useCallback(he=>{const Ce={width:he.offsetWidth,height:he.offsetHeight},pe=j(Ce);if(c==="none")return{top:null,left:null,transformOrigin:kh(pe)};const Ee=L();let ye=Ee.top-pe.vertical,Se=Ee.left-pe.horizontal;const Ye=ye+Ce.height,Me=Se+Ce.width,De=Xn(ki(a)),Fe=De.innerHeight-N,$e=De.innerWidth-N;if(N!==null&&ye<N){const Ue=ye-N;ye-=Ue,pe.vertical+=Ue}else if(N!==null&&Ye>Fe){const Ue=Ye-Fe;ye-=Ue,pe.vertical+=Ue}if(N!==null&&Se<N){const Ue=Se-N;Se-=Ue,pe.horizontal+=Ue}else if(Me>$e){const Ue=Me-$e;Se-=Ue,pe.horizontal+=Ue}return{top:`${Math.round(ye)}px`,left:`${Math.round(Se)}px`,transformOrigin:kh(pe)}},[a,c,L,j,N]),[E,I]=m.useState(h),z=m.useCallback(()=>{const he=A.current;if(!he)return;const Ce=T(he);Ce.top!==null&&he.style.setProperty("top",Ce.top),Ce.left!==null&&(he.style.left=Ce.left),he.style.transformOrigin=Ce.transformOrigin,I(!0)},[T]);m.useEffect(()=>(k&&window.addEventListener("scroll",z),()=>window.removeEventListener("scroll",z)),[a,k,z]);const H=()=>{z()},M=()=>{I(!1)};m.useEffect(()=>{h&&z()}),m.useImperativeHandle(s,()=>h?{updatePosition:()=>{z()}}:null,[h,z]),m.useEffect(()=>{if(!h)return;const he=tf(()=>{z()}),Ce=Xn(ki(a));return Ce.addEventListener("resize",he),()=>{he.clear(),Ce.removeEventListener("resize",he)}},[a,h,z]);let D=x;const X={slots:{transition:f,...S},slotProps:{transition:_,paper:y,...v}},[K,J]=Et("transition",{elementType:Id,externalForwardedProps:X,ownerState:C,getSlotProps:he=>({...he,onEntering:(Ce,pe)=>{var Ee;(Ee=he.onEntering)==null||Ee.call(he,Ce,pe),H()},onExited:Ce=>{var pe;(pe=he.onExited)==null||pe.call(he,Ce),M()}}),additionalProps:{appear:!0,in:h}});x==="auto"&&!K.muiSupportAuto&&(D=void 0);const Y=g||(a?Qn(ki(a)).body:void 0),[Ne,{slots:xe,slotProps:ce,...je}]=Et("root",{ref:n,elementType:E2,externalForwardedProps:{...X,...P},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:S.backdrop},slotProps:{backdrop:U0(typeof v.backdrop=="function"?v.backdrop(C):v.backdrop,{invisible:!0})},container:Y,open:h},ownerState:C,className:_e(R.root,d)}),[Be,Ae]=Et("paper",{ref:A,className:R.paper,elementType:iy,externalForwardedProps:X,shouldForwardComponentProp:!0,additionalProps:{elevation:b,style:E?void 0:{opacity:0}},ownerState:C});return o.jsx(Ne,{...je,...!Cl(Ne)&&{slots:xe,slotProps:ce,disableScrollLock:k},children:o.jsx(K,{...J,timeout:D,children:o.jsx(Be,{...Ae,children:u})})})});function T2(e){return rt("MuiMenu",e)}nt("MuiMenu",["root","paper","list"]);const $2={vertical:"top",horizontal:"right"},P2={vertical:"top",horizontal:"left"},R2=e=>{const{classes:t}=e;return st({root:["root"],paper:["paper"],list:["list"]},T2,t)},I2=ge(_2,{shouldForwardProp:e=>Vn(e)||e==="classes",name:"MuiMenu",slot:"Root"})({}),A2=ge(iy,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),O2=ge(N2,{name:"MuiMenu",slot:"List"})({outline:0}),z2=m.forwardRef(function(t,n){const r=lt({props:t,name:"MuiMenu"}),{autoFocus:s=!0,children:a,className:i,disableAutoFocusItem:l=!1,MenuListProps:c={},onClose:u,open:d,PaperProps:g={},PopoverClasses:b,transitionDuration:N="auto",TransitionProps:{onEntering:h,...y}={},variant:S="selectedMenu",slots:v={},slotProps:w={},...f}=r,x=L0(),_={...r,autoFocus:s,disableAutoFocusItem:l,MenuListProps:c,onEntering:h,PaperProps:g,transitionDuration:N,TransitionProps:y,variant:S},k=R2(_),P=s&&!l&&d,A=m.useRef(null),C=(D,X)=>{A.current&&A.current.adjustStyleForScrollbar(D,{direction:x?"rtl":"ltr"}),h&&h(D,X)},R=D=>{D.key==="Tab"&&(D.preventDefault(),u&&u(D,"tabKeyDown"))};let L=-1;m.Children.map(a,(D,X)=>{m.isValidElement(D)&&(D.props.disabled||(S==="selectedMenu"&&D.props.selected||L===-1)&&(L=X))});const j={slots:v,slotProps:{list:c,transition:y,paper:g,...w}},T=$N({elementType:v.root,externalSlotProps:w.root,ownerState:_,className:[k.root,i]}),[E,I]=Et("paper",{className:k.paper,elementType:A2,externalForwardedProps:j,shouldForwardComponentProp:!0,ownerState:_}),[z,H]=Et("list",{className:_e(k.list,c.className),elementType:O2,shouldForwardComponentProp:!0,externalForwardedProps:j,getSlotProps:D=>({...D,onKeyDown:X=>{var K;R(X),(K=D.onKeyDown)==null||K.call(D,X)}}),ownerState:_}),M=typeof j.slotProps.transition=="function"?j.slotProps.transition(_):j.slotProps.transition;return o.jsx(I2,{onClose:u,anchorOrigin:{vertical:"bottom",horizontal:x?"right":"left"},transformOrigin:x?$2:P2,slots:{root:v.root,paper:E,backdrop:v.backdrop,...v.transition&&{transition:v.transition}},slotProps:{root:T,paper:I,backdrop:typeof w.backdrop=="function"?w.backdrop(_):w.backdrop,transition:{...M,onEntering:(...D)=>{var X;C(...D),(X=M==null?void 0:M.onEntering)==null||X.call(M,...D)}}},open:d,ref:n,transitionDuration:N,ownerState:_,...f,classes:b,children:o.jsx(z,{actions:A,autoFocus:s&&(L===-1||l),autoFocusItem:P,variant:S,...H,children:a})})});function L2(e){return rt("MuiNativeSelect",e)}const pf=nt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),M2=e=>{const{classes:t,variant:n,disabled:r,multiple:s,open:a,error:i}=e,l={select:["select",n,r&&"disabled",s&&"multiple",i&&"error"],icon:["icon",`icon${ie(n)}`,a&&"iconOpen",r&&"disabled"]};return st(l,L2,t)},ly=ge("select",{name:"MuiNativeSelect"})(({theme:e})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${pf.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},variants:[{props:({ownerState:t})=>t.variant!=="filled"&&t.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}}]})),D2=ge(ly,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Vn,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${pf.multiple}`]:t.multiple}]}})({}),cy=ge("svg",{name:"MuiNativeSelect"})(({theme:e})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${pf.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:({ownerState:t})=>t.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),F2=ge(cy,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${ie(n.variant)}`],n.open&&t.iconOpen]}})({}),B2=m.forwardRef(function(t,n){const{className:r,disabled:s,error:a,IconComponent:i,inputRef:l,variant:c="standard",...u}=t,d={...t,disabled:s,variant:c,error:a},g=M2(d);return o.jsxs(m.Fragment,{children:[o.jsx(D2,{ownerState:d,className:_e(g.select,r),disabled:s,ref:l||n,...u}),t.multiple?null:o.jsx(F2,{as:i,ownerState:d,className:g.icon})]})});var Eh;const V2=ge("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:Vn})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),H2=ge("legend",{name:"MuiNotchedOutlined",shouldForwardProp:Vn})(dt(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:t})=>!t.withLabel,style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:({ownerState:t})=>t.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:t})=>t.withLabel&&t.notched,style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]})));function W2(e){const{children:t,classes:n,className:r,label:s,notched:a,...i}=e,l=s!=null&&s!=="",c={...e,notched:a,withLabel:l};return o.jsx(V2,{"aria-hidden":!0,className:r,ownerState:c,...i,children:o.jsx(H2,{ownerState:c,children:l?o.jsx("span",{children:s}):Eh||(Eh=o.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const q2=e=>{const{classes:t}=e,r=st({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},qN,t);return{...t,...r}},U2=ge($c,{shouldForwardProp:e=>Vn(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:_c})(dt(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${rr.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${rr.notchedOutline}`]:{borderColor:e.vars?e.alpha(e.vars.palette.common.onBackground,.23):t}},[`&.${rr.focused} .${rr.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(e.palette).filter(Nn()).map(([n])=>({props:{color:n},style:{[`&.${rr.focused} .${rr.notchedOutline}`]:{borderColor:(e.vars||e).palette[n].main}}})),{props:{},style:{[`&.${rr.error} .${rr.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${rr.disabled} .${rr.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:r})=>n.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),G2=ge(W2,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(dt(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?e.alpha(e.vars.palette.common.onBackground,.23):t}})),K2=ge(Pc,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Tc})(dt(({theme:e})=>({padding:"16.5px 14px",...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:t})=>t.multiline,style:{padding:0}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}}]}))),ff=m.forwardRef(function(t,n){const r=lt({props:t,name:"MuiOutlinedInput"}),{components:s={},fullWidth:a=!1,inputComponent:i="input",label:l,multiline:c=!1,notched:u,slots:d={},slotProps:g={},type:b="text",...N}=r,h=q2(r),y=ko(),S=Co({props:r,muiFormControl:y,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),v={...r,color:S.color||"primary",disabled:S.disabled,error:S.error,focused:S.focused,formControl:y,fullWidth:a,hiddenLabel:S.hiddenLabel,multiline:c,size:S.size,type:b},w=d.root??s.Root??U2,f=d.input??s.Input??K2,[x,_]=Et("notchedOutline",{elementType:G2,className:h.notchedOutline,shouldForwardComponentProp:!0,ownerState:v,externalForwardedProps:{slots:d,slotProps:g},additionalProps:{label:l!=null&&l!==""&&S.required?o.jsxs(m.Fragment,{children:[l,"","*"]}):l}});return o.jsx(cf,{slots:{root:w,input:f},slotProps:g,renderSuffix:k=>o.jsx(x,{..._,notched:typeof u<"u"?u:!!(k.startAdornment||k.filled||k.focused)}),fullWidth:a,inputComponent:i,multiline:c,ref:n,type:b,...N,classes:{...h,notchedOutline:null}})});ff.muiName="Input";function uy(e){return rt("MuiSelect",e)}const Wo=nt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var _h;const J2=ge(ly,{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${Wo.select}`]:t.select},{[`&.${Wo.select}`]:t[n.variant]},{[`&.${Wo.error}`]:t.error},{[`&.${Wo.multiple}`]:t.multiple}]}})({[`&.${Wo.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Y2=ge(cy,{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${ie(n.variant)}`],n.open&&t.iconOpen]}})({}),Q2=ge("input",{shouldForwardProp:e=>q0(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Th(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function X2(e){return e==null||typeof e=="string"&&!e.trim()}const Z2=e=>{const{classes:t,variant:n,disabled:r,multiple:s,open:a,error:i}=e,l={select:["select",n,r&&"disabled",s&&"multiple",i&&"error"],icon:["icon",`icon${ie(n)}`,a&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return st(l,uy,t)},ek=m.forwardRef(function(t,n){var ue,St,U,te;const{"aria-describedby":r,"aria-label":s,autoFocus:a,autoWidth:i,children:l,className:c,defaultOpen:u,defaultValue:d,disabled:g,displayEmpty:b,error:N=!1,IconComponent:h,inputRef:y,labelId:S,MenuProps:v={},multiple:w,name:f,onBlur:x,onChange:_,onClose:k,onFocus:P,onKeyDown:A,onMouseDown:C,onOpen:R,open:L,readOnly:j,renderValue:T,required:E,SelectDisplayProps:I={},tabIndex:z,type:H,value:M,variant:D="standard",...X}=t,[K,J]=oh({controlled:M,default:d,name:"Select"}),[Y,Ne]=oh({controlled:L,default:u,name:"Select"}),xe=m.useRef(null),ce=m.useRef(null),[je,Be]=m.useState(null),{current:Ae}=m.useRef(L!=null),[he,Ce]=m.useState(),pe=rn(n,y),Ee=m.useCallback(W=>{ce.current=W,W&&Be(W)},[]),ye=je==null?void 0:je.parentNode;m.useImperativeHandle(pe,()=>({focus:()=>{ce.current.focus()},node:xe.current,value:K}),[K]),m.useEffect(()=>{u&&Y&&je&&!Ae&&(Ce(i?null:ye.clientWidth),ce.current.focus())},[je,i]),m.useEffect(()=>{a&&ce.current.focus()},[a]),m.useEffect(()=>{if(!S)return;const W=Qn(ce.current).getElementById(S);if(W){const p=()=>{getSelection().isCollapsed&&ce.current.focus()};return W.addEventListener("click",p),()=>{W.removeEventListener("click",p)}}},[S]);const Se=(W,p)=>{W?R&&R(p):k&&k(p),Ae||(Ce(i?null:ye.clientWidth),Ne(W))},Ye=W=>{C==null||C(W),W.button===0&&(W.preventDefault(),ce.current.focus(),Se(!0,W))},Me=W=>{Se(!1,W)},De=m.Children.toArray(l),Fe=W=>{const p=De.find($=>$.props.value===W.target.value);p!==void 0&&(J(p.props.value),_&&_(W,p))},$e=W=>p=>{let $;if(p.currentTarget.hasAttribute("tabindex")){if(w){$=Array.isArray(K)?K.slice():[];const O=K.indexOf(W.props.value);O===-1?$.push(W.props.value):$.splice(O,1)}else $=W.props.value;if(W.props.onClick&&W.props.onClick(p),K!==$&&(J($),_)){const O=p.nativeEvent||p,F=new O.constructor(O.type,O);Object.defineProperty(F,"target",{writable:!0,value:{value:$,name:f}}),_(F,W)}w||Se(!1,p)}},Ue=W=>{j||([" ","ArrowUp","ArrowDown","Enter"].includes(W.key)&&(W.preventDefault(),Se(!0,W)),A==null||A(W))},de=je!==null&&Y,Te=W=>{!de&&x&&(Object.defineProperty(W,"target",{writable:!0,value:{value:K,name:f}}),x(W))};delete X["aria-invalid"];let Ie,Je;const Qe=[];let gt=!1;(_l({value:K})||b)&&(T?Ie=T(K):gt=!0);const Ot=De.map(W=>{if(!m.isValidElement(W))return null;let p;if(w){if(!Array.isArray(K))throw new Error(kr(2));p=K.some($=>Th($,W.props.value)),p&&gt&&Qe.push(W.props.children)}else p=Th(K,W.props.value),p&&gt&&(Je=W.props.children);return m.cloneElement(W,{"aria-selected":p?"true":"false",onClick:$e(W),onKeyUp:$=>{$.key===" "&&$.preventDefault(),W.props.onKeyUp&&W.props.onKeyUp($)},role:"option",selected:p,value:void 0,"data-value":W.props.value})});gt&&(w?Qe.length===0?Ie=null:Ie=Qe.reduce((W,p,$)=>(W.push(p),$<Qe.length-1&&W.push(", "),W),[]):Ie=Je);let re=he;!i&&Ae&&je&&(re=ye.clientWidth);let Oe;typeof z<"u"?Oe=z:Oe=g?null:0;const we=I.id||(f?`mui-component-select-${f}`:void 0),ke={...t,variant:D,value:K,open:de,error:N},_t=Z2(ke),Kt={...v.PaperProps,...typeof((ue=v.slotProps)==null?void 0:ue.paper)=="function"?v.slotProps.paper(ke):(St=v.slotProps)==null?void 0:St.paper},jt={...v.MenuListProps,...typeof((U=v.slotProps)==null?void 0:U.list)=="function"?v.slotProps.list(ke):(te=v.slotProps)==null?void 0:te.list},Vt=Ec();return o.jsxs(m.Fragment,{children:[o.jsx(J2,{as:"div",ref:Ee,tabIndex:Oe,role:"combobox","aria-controls":de?Vt:void 0,"aria-disabled":g?"true":void 0,"aria-expanded":de?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[S,we].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":E?"true":void 0,"aria-invalid":N?"true":void 0,onKeyDown:Ue,onMouseDown:g||j?null:Ye,onBlur:Te,onFocus:P,...I,ownerState:ke,className:_e(I.className,_t.select,c),id:we,children:X2(Ie)?_h||(_h=o.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):Ie}),o.jsx(Q2,{"aria-invalid":N,value:Array.isArray(K)?K.join(","):K,name:f,ref:xe,"aria-hidden":!0,onChange:Fe,tabIndex:-1,disabled:g,className:_t.nativeInput,autoFocus:a,required:E,...X,ownerState:ke}),o.jsx(Y2,{as:h,className:_t.icon,ownerState:ke}),o.jsx(z2,{id:`menu-${f||""}`,anchorEl:ye,open:de,onClose:Me,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...v,slotProps:{...v.slotProps,list:{"aria-labelledby":S,role:"listbox","aria-multiselectable":w?"true":void 0,disableListWrap:!0,id:Vt,...jt},paper:{...Kt,style:{minWidth:re,...Kt!=null?Kt.style:null}}},children:Ot})]})}),tk=e=>{const{classes:t}=e,r=st({root:["root"]},uy,t);return{...t,...r}},mf={name:"MuiSelect",slot:"Root",shouldForwardProp:e=>Vn(e)&&e!=="variant"},nk=ge(df,mf)(""),rk=ge(ff,mf)(""),sk=ge(uf,mf)(""),dy=m.forwardRef(function(t,n){const r=lt({name:"MuiSelect",props:t}),{autoWidth:s=!1,children:a,classes:i={},className:l,defaultOpen:c=!1,displayEmpty:u=!1,IconComponent:d=GN,id:g,input:b,inputProps:N,label:h,labelId:y,MenuProps:S,multiple:v=!1,native:w=!1,onClose:f,onOpen:x,open:_,renderValue:k,SelectDisplayProps:P,variant:A="outlined",...C}=r,R=w?B2:ek,L=ko(),j=Co({props:r,muiFormControl:L,states:["variant","error"]}),T=j.variant||A,E={...r,variant:T,classes:i},I=tk(E),{root:z,...H}=I,M=b||{standard:o.jsx(nk,{ownerState:E}),outlined:o.jsx(rk,{label:h,ownerState:E}),filled:o.jsx(sk,{ownerState:E})}[T],D=rn(n,No(M));return o.jsx(m.Fragment,{children:m.cloneElement(M,{inputComponent:R,inputProps:{children:a,error:j.error,IconComponent:d,variant:T,type:void 0,multiple:v,...w?{id:g}:{autoWidth:s,defaultOpen:c,displayEmpty:u,labelId:y,MenuProps:S,onClose:f,onOpen:x,open:_,renderValue:k,SelectDisplayProps:{id:g,...P}},...N,classes:N?tn(H,N.classes):H,...b?b.props.inputProps:{}},...(v&&w||u)&&T==="outlined"?{notched:!0}:{},ref:D,className:_e(M.props.className,l,I.root),...!b&&{variant:T},...C})})});dy.muiName="Select";function ok(e){return rt("MuiTextField",e)}nt("MuiTextField",["root"]);const ak={standard:df,filled:uf,outlined:ff},ik=e=>{const{classes:t}=e;return st({root:["root"]},ok,t)},lk=ge(t2,{name:"MuiTextField",slot:"Root"})({}),ck=m.forwardRef(function(t,n){const r=lt({props:t,name:"MuiTextField"}),{autoComplete:s,autoFocus:a=!1,children:i,className:l,color:c="primary",defaultValue:u,disabled:d=!1,error:g=!1,FormHelperTextProps:b,fullWidth:N=!1,helperText:h,id:y,InputLabelProps:S,inputProps:v,InputProps:w,inputRef:f,label:x,maxRows:_,minRows:k,multiline:P=!1,name:A,onBlur:C,onChange:R,onFocus:L,placeholder:j,required:T=!1,rows:E,select:I=!1,SelectProps:z,slots:H={},slotProps:M={},type:D,value:X,variant:K="outlined",...J}=r,Y={...r,autoFocus:a,color:c,disabled:d,error:g,fullWidth:N,multiline:P,required:T,select:I,variant:K},Ne=ik(Y),xe=Ec(y),ce=h&&xe?`${xe}-helper-text`:void 0,je=x&&xe?`${xe}-label`:void 0,Be=ak[K],Ae={slots:H,slotProps:{input:w,inputLabel:S,htmlInput:v,formHelperText:b,select:z,...M}},he={},Ce=Ae.slotProps.inputLabel;K==="outlined"&&(Ce&&typeof Ce.shrink<"u"&&(he.notched=Ce.shrink),he.label=x),I&&((!z||!z.native)&&(he.id=void 0),he["aria-describedby"]=void 0);const[pe,Ee]=Et("root",{elementType:lk,shouldForwardComponentProp:!0,externalForwardedProps:{...Ae,...J},ownerState:Y,className:_e(Ne.root,l),ref:n,additionalProps:{disabled:d,error:g,fullWidth:N,required:T,color:c,variant:K}}),[ye,Se]=Et("input",{elementType:Be,externalForwardedProps:Ae,additionalProps:he,ownerState:Y}),[Ye,Me]=Et("inputLabel",{elementType:y2,externalForwardedProps:Ae,ownerState:Y}),[De,Fe]=Et("htmlInput",{elementType:"input",externalForwardedProps:Ae,ownerState:Y}),[$e,Ue]=Et("formHelperText",{elementType:o2,externalForwardedProps:Ae,ownerState:Y}),[de,Te]=Et("select",{elementType:dy,externalForwardedProps:Ae,ownerState:Y}),Ie=o.jsx(ye,{"aria-describedby":ce,autoComplete:s,autoFocus:a,defaultValue:u,fullWidth:N,multiline:P,name:A,rows:E,maxRows:_,minRows:k,type:D,value:X,id:xe,inputRef:f,onBlur:C,onChange:R,onFocus:L,placeholder:j,inputProps:Fe,slots:{input:H.htmlInput?De:void 0},...Se});return o.jsxs(pe,{...Ee,children:[x!=null&&x!==""&&o.jsx(Ye,{htmlFor:xe,id:je,...Me,children:x}),I?o.jsx(de,{"aria-describedby":ce,id:xe,labelId:je,value:X,input:Ie,...Te,children:i}):Ie,h&&o.jsx($e,{id:ce,...Ue,children:h})]})}),py=_s([o.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),o.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")]),uk=_s(o.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),dk=_s(o.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"})),fy=_s(o.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-5 11.5h.25V19h-4.5v-4.5H10c.55 0 1-.45 1-1V5h2v8.5c0 .55.45 1 1 1M5 5h2v8.5c0 .55.45 1 1 1h.25V19H5zm14 14h-3.25v-4.5H16c.55 0 1-.45 1-1V5h2z"})),pk=_s(o.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"})),fk=async(e,t)=>{const n=await fetch(`${e}/api/vincent-dindy/reports`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok){const r=await n.json().catch(()=>({detail:"Erreur inconnue"}));throw new Error(r.detail||`Erreur ${n.status}`)}return n.json()};function ma({currentView:e,setCurrentView:t,setSelectedIds:n,hideNickView:r}){if(r)return null;const s=i=>{t(i),n(new Set)},a=[{key:"nicolas",label:"Gestion & Pianos"},{key:"technicien",label:"Technicien"},{key:"vdi",label:" valider"}];return o.jsx("div",{className:"flex gap-2 mb-4",children:a.map(i=>o.jsx("button",{onClick:()=>s(i.key),className:`px-4 py-2 text-sm font-medium rounded-full transition-colors ${e===i.key?"bg-blue-500 text-white shadow-sm":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200"}`,children:i.label},i.key))})}function mk({status:e}){if(!e||e==="idle")return null;const n={modified:{bg:"bg-amber-100",text:"text-amber-700",border:"border-amber-300",label:"Modifi",icon:""},saving:{bg:"bg-blue-100",text:"text-blue-700",border:"border-blue-300",label:"En cours...",icon:""},saved:{bg:"bg-green-100",text:"text-green-700",border:"border-green-300",label:"Sauvegard",icon:""},error:{bg:"bg-red-100",text:"text-red-700",border:"border-red-300",label:"Erreur",icon:""}}[e];return o.jsxs("div",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-semibold border ${n.bg} ${n.text} ${n.border} ${e==="saving"?"animate-pulse":""}`,children:[o.jsx("span",{children:n.icon}),o.jsx("span",{children:n.label})]})}function my({pianos:e,stats:t,showOnlyProposed:n,setShowOnlyProposed:r,searchLocal:s,setSearchLocal:a,expandedPianoId:i,setExpandedPianoId:l,travailInput:c,setTravailInput:u,saveTravail:d,moisDepuisAccord:g,formatDateRelative:b,pianosFiltres:N,selectedInstitution:h,setSelectedInstitution:y,onInstitutionChange:S}){const[v,w]=m.useState({}),f=m.useRef({}),x=C=>{i===C.id?(l(null),u("")):(l(C.id),u(C.travail||""))},_=m.useCallback((C,R)=>{u(R),clearTimeout(f.current[C]),w(L=>({...L,[C]:"modified"})),f.current[C]=setTimeout(async()=>{if(R.trim()){w(L=>({...L,[C]:"saving"}));try{await d(C,R),w(L=>({...L,[C]:"saved"}))}catch{w(L=>({...L,[C]:"error"}))}}},500)},[d,u]),k=[{slug:"vincent-dindy",name:"Vincent-d'Indy"},{slug:"orford",name:"Orford Musique"},{slug:"place-des-arts",name:"Place des Arts"}],P=C=>{y&&y(C),S&&S(C)},A=h||"vincent-dindy";return o.jsxs("div",{className:"bg-gray-50",children:[o.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-white p-4 mb-3 border border-blue-200 rounded-lg",children:[o.jsxs("div",{className:"text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[o.jsx("span",{children:""}),o.jsx("span",{children:"Institution"})]}),o.jsx("div",{className:"flex gap-2",children:k.map(C=>{const R=A===C.slug;return o.jsx("button",{onClick:()=>P(C.slug),className:`flex-1 py-2 px-3 text-sm rounded-lg font-medium transition-all ${R?"bg-blue-600 text-white shadow":"bg-white text-gray-700 hover:bg-blue-50 border border-gray-300"}`,children:C.name},C.slug)})})]}),o.jsxs("div",{className:"bg-white p-3 mb-4 border-b border-gray-200",children:[o.jsxs("div",{className:"flex gap-2 mb-2",children:[o.jsxs("button",{onClick:()=>r(!1),className:`flex-1 py-1 px-2 text-xs rounded ${n?"bg-gray-100":"bg-blue-500 text-white"}`,children:["Tous (",t.total,")"]}),o.jsxs("button",{onClick:()=>r(!0),className:`flex-1 py-1 px-2 text-xs rounded ${n?"bg-blue-500 text-white":"bg-gray-100"}`,children:[" faire (",t.proposed,")"]})]}),o.jsx("input",{type:"text",placeholder:"Rechercher par local (ex: 301)",value:s,onChange:C=>a(C.target.value),className:"w-full px-3 py-2 border rounded text-sm"})]}),o.jsx("div",{className:"p-2 space-y-2",children:N.length===0?o.jsx("div",{className:"bg-white rounded-lg p-6 text-center text-gray-500",children:n?"Aucun piano  faire.":"Aucun piano trouv."}):N.map(C=>{const R=i===C.id,L=g(C.dernierAccord),j=C.travail&&C.travail.trim()!=="";return o.jsxs("div",{className:`rounded-lg shadow overflow-hidden ${C.status==="top"?"bg-amber-100":C.status==="proposed"||C.aFaire&&C.aFaire.trim()!==""?"bg-yellow-100":"bg-white"}`,children:[o.jsxs("div",{onClick:()=>x(C),className:"p-3 flex justify-between items-center cursor-pointer active:bg-gray-100",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-lg font-bold text-gray-700",children:C.local}),o.jsxs("span",{className:"text-gray-600",children:[C.piano,C.modele?` ${C.modele}`:""]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[C.service_status?o.jsx("span",{className:"text-green-500 text-sm font-bold",title:C.service_status==="pushed"?"Pouss vers Gazelle":"Valid par Nicolas",children:C.service_status==="pushed"?"":""}):j?o.jsx("span",{className:"text-blue-500 text-xs",children:""}):C.last_validated_at?o.jsx("span",{className:"text-green-500 text-sm font-bold",title:"Valid",children:""}):null,!R&&v[C.id]==="modified"&&o.jsx("span",{className:"w-2 h-2 rounded-full bg-amber-400",title:"Non sauvegard"}),o.jsx("span",{className:`text-sm ${L>=6?"text-orange-500":"text-gray-400"}`,children:b(C.dernierAccord)}),o.jsx("span",{className:"text-gray-400",children:R?"":""})]})]}),R&&o.jsxs("div",{className:"border-t bg-gray-50 p-3 space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Srie:"})," ",C.serie]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Type:"})," ",C.type==="D"?"Droit":"Queue"]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Dernier:"})," ",b(C.dernierAccord)]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Usage:"})," ",C.usage||"-"]})]}),C.aFaire&&o.jsxs("div",{className:"bg-yellow-100 p-2 rounded text-sm",children:[o.jsx("span",{className:"font-medium",children:" faire:"})," ",C.aFaire]}),C.service_status&&o.jsx("div",{className:`text-xs font-medium rounded px-2 py-1.5 ${C.service_status==="pushed"?"bg-gray-100 text-gray-600":"bg-green-100 text-green-700"}`,children:C.service_status==="pushed"?"Pouss vers Gazelle  lecture seule":"Valid par Nicolas  lecture seule"}),o.jsxs("div",{children:[o.jsx("textarea",{value:c,onChange:T=>_(C.id,T.target.value),className:`w-full border rounded-lg p-3 text-sm h-24 resize-y focus:outline-none ${C.service_status?"bg-gray-100 border-gray-200 cursor-not-allowed text-gray-500":"border-gray-300 focus:ring-2 focus:ring-blue-300 focus:border-blue-400"}`,placeholder:"Notes d'accord, observations...",autoFocus:!C.service_status,disabled:!!C.service_status,readOnly:!!C.service_status}),!C.service_status&&o.jsxs("div",{className:"flex justify-between items-center mt-1",children:[o.jsx("div",{className:"text-xs text-gray-400",children:"auto-save"}),o.jsx(mk,{status:v[C.id]})]})]})]})]},C.id)})})]})}const dn={admin:{name:"Administrateur",email:"asutton@piano-tek.com",gazelleId:"usr_ofYggsCDt2JAVeNP",permissions:["*"],dashboards:["inventaire","commissions","stats","admin","sync_gazelle","tournees"],technicianName:"allan"},nick:{name:"Nick (Gestionnaire)",email:"nlessard@piano-tek.com",gazelleId:"usr_HcCiFk7o0vZ9xAI0",permissions:["view_inventory","manage_own_inventory","create_tours","view_tours","use_assistant"],dashboards:["inventaire","tournees","vincent-dindy"]},louise:{name:"Louise (Assistante)",email:"info@piano-tek.com",gazelleId:"usr_tndhXmnT0iakT4HF",permissions:["view_inventory","edit_inventory","view_tours","use_assistant"],dashboards:["inventaire","tournees"]},jeanphilippe:{name:"Jean-Philippe (Technicien)",email:"jpreny@gmail.com",gazelleId:"usr_ReUSmIJmBF86ilY1",permissions:["view_inventory","edit_inventory","view_tours","use_assistant"],dashboards:["inventaire","tournees"]},margot:{name:"Margot (Assistante)",email:"margotcharignon@gmail.com",gazelleId:"usr_bbt59aCUqUaDWA8n",permissions:["view_inventory","edit_inventory","view_tours","use_assistant"],dashboards:["inventaire","tournees"]}};function ta(e){if(!e)return"admin";const t=e.toLowerCase();for(const[n,r]of Object.entries(dn))if(r.email.toLowerCase()===t)return n;return"admin"}const hk="https://assistant-gazelle-v5-api.onrender.com";function hy({pianosFiltres:e,pianos:t,setPianos:n,stats:r,institution:s,currentUser:a,tournees:i,selectedTourneeId:l,setSelectedTourneeId:c,setShowOnlySelected:u,getTourneePianos:d,showOnlySelected:g,showAllPianos:b,setShowAllPianos:N,filterUsage:h,setFilterUsage:y,filterAccordDepuis:S,setFilterAccordDepuis:v,usages:w,selectedIds:f,setSelectedIds:x,selectAllCheckboxRef:_,loadPianosFromAPI:k,loading:P,selectAll:A,deselectAll:C,toggleProposed:R,toggleSelected:L,batchSetStatus:j,batchSetUsage:T,batchHideFromInventory:E,savePianoToAPI:I,removePianoFromTournee:z,editingAFaireId:H,setEditingAFaireId:M,aFaireInput:D,setAFaireInput:X,sortConfig:K,handleSort:J,getRowClass:Y,moisDepuisAccord:Ne,formatDateRelative:xe,isPianoInTournee:ce,filterEtage:je,setFilterEtage:Be,handlePushToGazelle:Ae,readyForPushCount:he,pushInProgress:Ce}){var Ot;const pe=({columnKey:re})=>K.key!==re?o.jsx("span",{className:"text-gray-300 ml-1",children:""}):o.jsx("span",{className:"text-blue-600 ml-1",children:K.direction==="asc"?"":""}),Ee=({columnKey:re,children:Oe})=>o.jsx("th",{onClick:()=>J(re),className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase cursor-pointer hover:bg-gray-100 select-none",children:o.jsxs("div",{className:"flex items-center",children:[Oe,o.jsx(pe,{columnKey:re})]})}),[ye,Se]=m.useState(null),[Ye,Me]=m.useState([]),[De,Fe]=m.useState(!1),[$e,Ue]=m.useState({key:"date",dir:"desc"}),[de,Te]=m.useState(""),[Ie,Je]=m.useState("all"),Qe=m.useCallback(async re=>{Se(re),Me([]),Fe(!0);try{const we=await fetch(`${hk}/api/${s||"vincent-dindy"}/pianos/${re.id}/timeline?limit=200`);if(we.ok){const ke=await we.json();Me(ke.entries||[])}}catch(Oe){console.error("Erreur chargement timeline:",Oe)}finally{Fe(!1)}},[]),gt=({type:re,source:Oe})=>{const ke={APPOINTMENT:{bg:"bg-blue-100",text:"text-blue-700",label:"RDV"},SERVICE:{bg:"bg-green-100",text:"text-green-700",label:Oe==="local"?"Service (local)":"Service"},SERVICE_ENTRY_MANUAL:{bg:"bg-green-100",text:"text-green-700",label:"Service"},SERVICE_ENTRY_AUTOMATED:{bg:"bg-green-100",text:"text-green-700",label:"Facture/Service"},USER_COMMENT:{bg:"bg-yellow-100",text:"text-yellow-700",label:"Note"},PIANO_MEASUREMENT:{bg:"bg-cyan-100",text:"text-cyan-700",label:"Mesure"},INVOICE:{bg:"bg-purple-100",text:"text-purple-700",label:"Facture"},INVOICE_LOG:{bg:"bg-purple-100",text:"text-purple-700",label:"Facture"},ESTIMATE:{bg:"bg-orange-100",text:"text-orange-700",label:"Devis"},ESTIMATE_LOG:{bg:"bg-orange-100",text:"text-orange-700",label:"Devis"}}[re]||{bg:"bg-gray-100",text:"text-gray-600",label:re||"?"};return o.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-semibold ${ke.bg} ${ke.text}`,children:ke.label})};return o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow p-4 mb-4 space-y-3",children:[l&&o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-3",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("span",{className:"text-sm font-medium text-blue-900",children:[" Tourne: ",((Ot=i.find(re=>re.id===l))==null?void 0:Ot.nom)||"Inconnue"]}),o.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Slectionnez les pianos  inclure dans cette tourne"})]}),o.jsx("button",{onClick:()=>{c(null),u(!1)},className:"text-sm text-blue-600 hover:text-blue-800",children:" Dslectionner"})]})}),o.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[o.jsxs("button",{onClick:()=>{u(!1),N(!1)},className:`px-4 py-2 rounded text-sm font-medium ${!g&&!b?"bg-blue-500 text-white":"bg-gray-100 hover:bg-gray-200"}`,children:[" Inventaire (",t.filter(re=>!re.is_hidden).length,")"]}),(ta(a==null?void 0:a.email)==="admin"||ta(a==null?void 0:a.email)==="nick")&&o.jsxs("button",{onClick:()=>{u(!1),N(!0)},className:`px-4 py-2 rounded text-sm font-medium ${!g&&b?"bg-purple-500 text-white":"bg-gray-100 hover:bg-gray-200"}`,title:"Afficher tous les pianos (mme ceux masqus de l'inventaire)",children:[" Tout voir (",r.total,")"]}),o.jsx("button",{onClick:()=>{u(!0),N(!1)},className:`px-4 py-2 rounded text-sm font-medium ${g?"bg-blue-500 text-white":"bg-gray-100 hover:bg-gray-200"}`,children:l?o.jsxs(o.Fragment,{children:[" Pianos de cette tourne (",t.filter(re=>ce(re,l)&&(!re.is_hidden||b)).length,")"]}):o.jsxs(o.Fragment,{children:[" Projet de tourne (",r.proposed+r.completed,")"]})}),o.jsx("button",{onClick:async()=>{await k()},className:"px-3 py-2 rounded text-sm font-medium bg-gray-100 hover:bg-gray-200 disabled:opacity-50",disabled:P,title:"Rafrachir les donnes",children:P?"...":""}),Ae&&o.jsx("button",{onClick:Ae,className:`px-4 py-2 rounded text-sm font-medium ${he>0?"bg-green-500 text-white hover:bg-green-600":"bg-gray-100 text-gray-400 cursor-not-allowed"} disabled:opacity-50`,disabled:Ce||he===0,title:he>0?`Envoyer ${he} piano(s) vers Gazelle`:"Aucun piano  synchroniser",children:Ce?" Envoi...":`Sync Gazelle${he>0?` (${he})`:""}`})]}),o.jsxs("div",{className:"flex gap-4 flex-wrap items-center border-t pt-3",children:[o.jsxs("select",{value:h,onChange:re=>y(re.target.value),className:"border rounded px-2 py-1 text-sm",children:[o.jsx("option",{value:"all",children:"Tous usages"}),w.map(re=>o.jsx("option",{value:re,children:re},re)),o.jsx("option",{value:"",children:"Sans usage"})]}),o.jsxs("select",{value:S,onChange:re=>v(parseInt(re.target.value)),className:"border rounded px-2 py-1 text-sm",children:[o.jsx("option",{value:0,children:"Tous"}),o.jsx("option",{value:3,children:"3+ mois"}),o.jsx("option",{value:6,children:"6+ mois"}),o.jsx("option",{value:12,children:"12+ mois"})]}),o.jsxs("select",{value:je,onChange:re=>Be(re.target.value),className:"border rounded px-2 py-1 text-sm",children:[o.jsx("option",{value:"all",children:"Tous tages"}),o.jsx("option",{value:"1",children:"1er tage"}),o.jsx("option",{value:"2",children:"2e tage"}),o.jsx("option",{value:"3",children:"3e tage"}),o.jsx("option",{value:"4",children:"4e tage"}),o.jsx("option",{value:"5",children:"5e tage"})]})]}),o.jsxs("div",{className:"flex gap-3 flex-wrap items-center border-t pt-3",children:[o.jsx("button",{onClick:A,className:"px-3 py-1 rounded text-sm bg-gray-200 hover:bg-gray-300",children:" Tous"}),o.jsx("button",{onClick:C,className:"px-3 py-1 rounded text-sm bg-gray-200 hover:bg-gray-300",children:" Aucun"}),f.size>0&&o.jsxs(o.Fragment,{children:[o.jsxs("span",{className:"text-purple-600 font-medium text-sm",children:[f.size," sel."]}),o.jsx("button",{onClick:()=>j("top"),className:"px-3 py-1 rounded text-sm bg-orange-400 hover:bg-orange-500",title:"Marquer les pianos slectionns comme priorit leve",children:" Top"}),o.jsx("button",{onClick:()=>j("proposed"),className:"px-3 py-1 rounded text-sm bg-yellow-400 hover:bg-yellow-500",title:"Marquer les pianos slectionns comme  faire",children:"  faire"}),o.jsxs("select",{onChange:re=>{re.target.value&&T(re.target.value)},className:"border rounded px-2 py-1 text-sm",value:"",children:[o.jsx("option",{value:"",children:"Usage..."}),w.map(re=>o.jsx("option",{value:re,children:re},re))]}),(ta(a==null?void 0:a.email)==="admin"||ta(a==null?void 0:a.email)==="nick")&&o.jsx("button",{onClick:E,className:"px-3 py-1 rounded text-sm bg-red-100 hover:bg-red-200 text-red-700 border border-red-300",title:"Masquer les pianos slectionns de l'inventaire",children:" Masquer sel."}),o.jsx("button",{onClick:async()=>{if(f.size!==0){for(const re of Array.from(f)){const Oe=t.find(we=>we.id===re);Oe&&Oe.is_hidden&&await I(re,{isHidden:!1})}await k(),C()}},className:"px-3 py-1 rounded text-sm bg-green-100 hover:bg-green-200 text-green-700 border border-green-300",title:"Afficher les pianos slectionns dans l'inventaire",children:" Afficher sel."})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-50 border-b",children:[o.jsx("th",{className:"px-2 py-3 w-10",children:o.jsx("input",{ref:_,type:"checkbox",onChange:re=>re.target.checked?A():C(),className:"rounded"})}),o.jsx(Ee,{columnKey:"local",children:"Local"}),o.jsx(Ee,{columnKey:"piano",children:"Piano"}),o.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"# Srie"}),o.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Usage"}),o.jsx(Ee,{columnKey:"mois",children:"Mois"}),o.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase bg-yellow-50",children:" faire (Nick)"}),o.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Visible"}),o.jsx("th",{className:"px-3 py-3 text-center text-xs font-medium text-gray-500 uppercase w-12",children:"Hist."})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map(re=>{const Oe=Ne(re.dernierAccord);return o.jsxs("tr",{className:`${Y(re)} cursor-pointer hover:opacity-80`,onClick:()=>R(re.id),children:[o.jsx("td",{className:"px-2 py-3 text-center",onClick:we=>we.stopPropagation(),children:o.jsx("input",{type:"checkbox",checked:f.has(re.id),onChange:()=>L(re.id),className:"rounded"})}),o.jsx("td",{className:"px-3 py-3 text-sm font-medium",children:re.local}),o.jsx("td",{className:"px-3 py-3 text-sm",children:re.piano}),o.jsx("td",{className:"px-3 py-3 text-sm text-gray-500 font-mono",children:re.serie}),o.jsx("td",{className:"px-3 py-3 text-sm text-gray-500",children:re.usage||"-"}),o.jsx("td",{className:`px-3 py-3 text-sm font-medium ${Oe===999?"text-gray-400":Oe>=12?"text-red-600":Oe>=6?"text-orange-500":"text-green-600"}`,children:xe(re.dernierAccord)}),o.jsx("td",{className:"px-3 py-3 bg-yellow-50",onClick:we=>we.stopPropagation(),children:H===re.id?o.jsx("input",{type:"text",value:D,onChange:we=>X(we.target.value),onKeyDown:async we=>{we.key==="Enter"&&(n(t.map(ke=>ke.id===re.id?{...ke,aFaire:D}:ke)),M(null),X(""),await I(re.id,{aFaire:D}))},onBlur:async()=>{n(t.map(ke=>ke.id===re.id?{...ke,aFaire:D}:ke)),M(null);const we=D;X(""),await I(re.id,{aFaire:we})},className:"border rounded px-2 py-1 text-sm w-full",placeholder:"Instructions...",autoFocus:!0}):o.jsx("span",{className:"text-sm cursor-text",onClick:()=>{M(re.id),X(re.aFaire||"")},children:re.aFaire||o.jsx("span",{className:"text-gray-400",children:"Cliquer..."})})}),o.jsx("td",{className:"px-3 py-3 text-center",onClick:we=>we.stopPropagation(),children:o.jsx("input",{type:"checkbox",checked:!re.is_hidden,onChange:async()=>{const we=!re.is_hidden;n(t.map(ke=>ke.id===re.id?{...ke,is_hidden:we}:ke)),await I(re.id,{isHidden:we})},className:"rounded",title:re.is_hidden?"Masqu  cocher pour afficher":"Visible  dcocher pour masquer"})}),o.jsx("td",{className:"px-3 py-3 text-center",onClick:we=>we.stopPropagation(),children:o.jsx("button",{onClick:()=>Qe(re),className:"text-gray-400 hover:text-blue-600 transition-colors",title:"Voir l'historique d'entretien",children:o.jsx("svg",{className:"w-4 h-4 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})})]},re.id)})})]}),e.length===0&&o.jsx("div",{className:"p-8 text-center text-gray-500",children:"Aucun piano."})]}),o.jsxs("div",{className:"mt-4 bg-white rounded-lg shadow p-3 flex gap-4 text-sm flex-wrap",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"w-3 h-3 bg-white border rounded"})," Normal"]},"legend-normal"),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"w-3 h-3 bg-yellow-200 rounded"}),"  faire"]},"legend-proposed"),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"w-3 h-3 bg-orange-200 rounded"})," Top (priorit)"]},"legend-top")]}),ye&&(()=>{const re={SERVICE_ENTRY_MANUAL:"Service",SERVICE_ENTRY_AUTOMATED:"Facture/Service",SERVICE:"Service (local)",PIANO_MEASUREMENT:"Mesure",USER_COMMENT:"Note",APPOINTMENT:"RDV",INVOICE:"Facture",INVOICE_LOG:"Facture",ESTIMATE:"Devis",ESTIMATE_LOG:"Devis"},Oe=[...new Set(Ye.map(ue=>ue.type))],we=ue=>[ue.summary,ue.comment,ue.user,ue.invoice_number].filter(Boolean).join(" ").toLowerCase(),ke=Ye.filter(ue=>!(Ie!=="all"&&ue.type!==Ie||de&&!we(ue).includes(de.toLowerCase()))),_t=[...ke].sort((ue,St)=>{let U,te;switch($e.key){case"date":U=ue.date||"",te=St.date||"";break;case"type":U=re[ue.type]||ue.type||"",te=re[St.type]||St.type||"";break;case"user":U=ue.user||"",te=St.user||"";break;default:U="",te=""}const W=typeof U=="string"?U.localeCompare(te):U-te;return $e.dir==="asc"?W:-W}),Kt=ue=>{Ue(St=>St.key===ue?{key:ue,dir:St.dir==="asc"?"desc":"asc"}:{key:ue,dir:ue==="date"?"desc":"asc"})},jt=({col:ue})=>$e.key!==ue?o.jsx("span",{className:"text-gray-300 ml-0.5",children:""}):o.jsx("span",{className:"text-blue-600 ml-0.5",children:$e.dir==="asc"?"":""}),Vt=ue=>ue?new Date(ue).toLocaleDateString("fr-CA",{year:"numeric",month:"short",day:"numeric"}):"-";return o.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-start justify-center pt-8 px-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-5xl max-h-[85vh] flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between px-5 py-3 border-b bg-gray-50 rounded-t-xl",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-base font-bold text-gray-900",children:["Historique  ",ye.local]}),o.jsxs("p",{className:"text-xs text-gray-500",children:[ye.piano,ye.modele?` ${ye.modele}`:"","  ",ye.serie,o.jsxs("span",{className:"ml-2 text-gray-400",children:["(",ke.length," entre",ke.length>1?"s":"",")"]})]})]}),o.jsx("button",{onClick:()=>{Se(null),Te(""),Je("all")},className:"text-gray-400 hover:text-gray-700 text-xl leading-none px-2",children:""})]}),o.jsxs("div",{className:"flex items-center gap-3 px-5 py-2 border-b bg-white",children:[o.jsx("input",{type:"text",placeholder:"Rechercher...",value:de,onChange:ue=>Te(ue.target.value),className:"border border-gray-300 rounded px-2.5 py-1.5 text-xs w-56 focus:outline-none focus:ring-1 focus:ring-blue-400"}),o.jsxs("select",{value:Ie,onChange:ue=>Je(ue.target.value),className:"border border-gray-300 rounded px-2 py-1.5 text-xs bg-white focus:outline-none focus:ring-1 focus:ring-blue-400",children:[o.jsx("option",{value:"all",children:"Tous les types"}),Oe.map(ue=>o.jsx("option",{value:ue,children:re[ue]||ue},ue))]})]}),o.jsx("div",{className:"flex-1 overflow-auto",children:De?o.jsx("div",{className:"text-center py-8 text-gray-500",children:"Chargement..."}):_t.length===0?o.jsx("div",{className:"text-center py-8 text-gray-500",children:Ye.length===0?"Aucun historique.":"Aucun rsultat pour ce filtre."}):o.jsxs("table",{className:"w-full text-xs",children:[o.jsx("thead",{className:"sticky top-0 bg-gray-50 z-10",children:o.jsxs("tr",{className:"border-b text-left text-[10px] font-semibold text-gray-500 uppercase",children:[o.jsxs("th",{className:"px-3 py-2 w-28 cursor-pointer select-none",onClick:()=>Kt("date"),children:["Date ",o.jsx(jt,{col:"date"})]}),o.jsxs("th",{className:"px-3 py-2 w-28 cursor-pointer select-none",onClick:()=>Kt("type"),children:["Type ",o.jsx(jt,{col:"type"})]}),o.jsxs("th",{className:"px-3 py-2 w-32 cursor-pointer select-none",onClick:()=>Kt("user"),children:["Technicien ",o.jsx(jt,{col:"user"})]}),o.jsx("th",{className:"px-3 py-2",children:"Description"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:_t.map((ue,St)=>o.jsxs("tr",{className:`hover:bg-blue-50/50 ${ue.source==="local"?"bg-green-50/30":""}`,children:[o.jsx("td",{className:"px-3 py-2 text-gray-600 whitespace-nowrap align-top",children:Vt(ue.date)}),o.jsx("td",{className:"px-3 py-2 align-top",children:o.jsx(gt,{type:ue.type,source:ue.source})}),o.jsx("td",{className:"px-3 py-2 text-gray-700 align-top",children:ue.user||"-"}),o.jsxs("td",{className:"px-3 py-2 text-gray-800 align-top",children:[ue.summary&&ue.comment?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"font-medium",children:ue.summary}),o.jsx("p",{className:"whitespace-pre-wrap mt-0.5 text-gray-600",children:ue.comment})]}):o.jsx("span",{className:"whitespace-pre-wrap",children:ue.comment||ue.summary||"-"}),ue.invoice_number&&o.jsxs("span",{className:"ml-2 text-purple-500",children:["#",ue.invoice_number]}),ue.source==="local"&&ue.status&&o.jsx("span",{className:`ml-2 text-[10px] px-1.5 py-0.5 rounded-full font-medium ${ue.status==="pushed"?"bg-gray-200 text-gray-600":"bg-green-100 text-green-700"}`,children:ue.status==="pushed"?"Pouss":ue.status==="imported"?"Sheet":"Valid"})]})]},ue.id||St))})]})})]})})})()]})}const gk={allan:{gazelleId:"usr_ofYggsCDt2JAVeNP",supabaseId:"usr_ofYggsCDt2JAVeNP",prenom:"Allan",nom:"Sutton",nomComplet:"Allan Sutton",abbreviation:"Allan",username:"allan",email:"asutton@piano-tek.com",slack:null,role:"admin",isAdmin:!0,isTechnicien:!0,isAssistant:!1},nicolas:{gazelleId:"usr_HcCiFk7o0vZ9xAI0",supabaseId:"usr_HcCiFk7o0vZ9xAI0",prenom:"Nicolas",nom:"Lessard",nomComplet:"Nicolas Lessard",abbreviation:"Nick",username:"nicolas",email:"nlessard@piano-tek.com",slack:null,role:"technicien",isAdmin:!1,isTechnicien:!0,isAssistant:!1},jeanphilippe:{gazelleId:"usr_ReUSmIJmBF86ilY1",supabaseId:"usr_ReUSmIJmBF86ilY1",prenom:"Jean-Philippe",nom:"Reny",nomComplet:"Jean-Philippe Reny",abbreviation:"JP",username:"jeanphilippe",email:"jpreny@gmail.com",slack:null,role:"technicien",isAdmin:!1,isTechnicien:!0,isAssistant:!1}},hf=Object.values(gk);hf.map(e=>e.gazelleId);hf.map(e=>e.email);hf.map(e=>e.username);console.log("[VincentDIndyDashboard] Fichier charg - ligne 1");const un="https://assistant-gazelle-v5-api.onrender.com",Ds=({currentUser:e,initialView:t="nicolas",hideNickView:n=!1,institution:r="vincent-dindy"})=>{const[s,a]=m.useState([]),[i,l]=m.useState(!0),[c,u]=m.useState(null),[d,g]=m.useState(n?"technicien":t);m.useEffect(()=>{n&&d!=="technicien"&&g("technicien")},[n,d]);const[b,N]=m.useState(!1),[h,y]=m.useState(!1),[S,v]=m.useState(""),[w,f]=m.useState(!1),[x,_]=m.useState({key:"local",direction:"asc"}),[k,P]=m.useState("all"),[A,C]=m.useState(0),[R,L]=m.useState("all"),[j,T]=m.useState(new Set),E=m.useRef(null),[I,z]=m.useState(null),[H,M]=m.useState(""),[D,X]=m.useState(""),[K,J]=m.useState(!1),[Y,Ne]=m.useState(null),[xe,ce]=m.useState(""),[je,Be]=m.useState(null),[Ae,he]=m.useState(""),[Ce,pe]=m.useState(null),[Ee,ye]=m.useState(""),[Se,Ye]=m.useState(null),[Me,De]=m.useState(""),[Fe,$e]=m.useState([]),[Ue,de]=m.useState(!1),[Te,Ie]=m.useState(!1),[Je,Qe]=m.useState(null),[gt,Ot]=m.useState({}),[re,Oe]=m.useState(!1),[we,ke]=m.useState("vincent-dindy"),[_t,Kt]=m.useState(r);m.useEffect(()=>{console.log("[VincentDIndyDashboard] Institution initiale:",r,"selectedInstitutionForTechnician:",_t)},[r,_t]);const[jt,Vt]=m.useState(0),[ue,St]=m.useState(!1),U=["Piano","Accompagnement","Pratique","Concert","Enseignement","Loisir"],te=m.useCallback(async(B=null)=>{var le;try{l(!0),u(null);const oe=B||r;console.log(" Chargement des pianos depuis:",un,"pour institution:",oe);const be=`${un}/api/${oe}/pianos?include_inactive=true`,We=await(await fetch(be)).json();console.log(" Donnes reues:",We),console.log(" Nombre de pianos:",We.count||((le=We.pianos)==null?void 0:le.length)||0),We.error?(console.error(" Erreur API:",We.message),u(We.message||"Erreur lors du chargement des pianos"),a([])):(a(We.pianos||[]),We.debug&&console.log(" Debug:",We.debug))}catch(oe){console.error(" Erreur lors du chargement des pianos:",oe),u(oe.message||"Erreur lors du chargement des pianos"),a([])}finally{l(!1)}},[r]),W=m.useCallback(async()=>{de(!0);try{const B=await fetch(`${un}/api/vincent-dindy/service-history?limit=200`);B.ok&&$e(await B.json())}catch(B){console.error("Erreur chargement historique:",B)}finally{de(!1)}},[]),p=async(B,le)=>{try{const oe={...le,updated_by:(e==null?void 0:e.email)||(e==null?void 0:e.name)||"Unknown"},be=await fetch(`${un}/api/${r}/pianos/${B}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(oe)});if(!be.ok){const Re=await be.json().catch(()=>({detail:"Erreur inconnue"}));throw new Error(Re.detail||`Erreur ${be.status}`)}return console.log(" Piano sauvegard par",e==null?void 0:e.name,":",B,oe),be.json()}catch(oe){console.error(" Erreur lors de la sauvegarde:",oe),alert(`Erreur lors de la sauvegarde: ${oe.message}`),await te()}},$=B=>{if(!B||B.trim()==="")return 999;const le=new Date(B);if(isNaN(le.getTime()))return 999;const be=Math.floor((new Date-le)/(1e3*60*60*24));return be<30?be/30:Math.floor(be/30)},O=B=>{if(!B||B.trim()==="")return"-";const le=new Date(B);if(isNaN(le.getTime()))return"-";const be=new Date-le,Re=Math.floor(be/(1e3*60*60*24)),We=Math.floor(Re/7),xt=Math.floor(Re/30);return Re===0?"Aujourd'hui":Re===1?"1j":Re<7?`${Re}j`:We===1?"1s":We<4?`${We}s`:xt===1?"1m":xt<12?`${xt}m`:`${Math.floor(xt/12)}a`},F=B=>{_(le=>({key:B,direction:le.key===B&&le.direction==="asc"?"desc":"asc"}))},Q=m.useMemo(()=>{let B=[...s];if(w||(B=B.filter(le=>!le.is_hidden)),d==="nicolas"||d==="technicien"&&(h&&(B=B.filter(le=>le.status==="proposed")),S.trim()&&(B=B.filter(le=>le.local.toLowerCase().includes(S.toLowerCase())))),k!=="all"&&(B=B.filter(le=>k===""?!le.usage:le.usage===k)),A>0&&(B=B.filter(le=>$(le.dernierAccord)>=A)),R!=="all"&&d==="nicolas"){const le=parseInt(R);B=B.filter(oe=>{if(!oe.local)return!1;const be=oe.local.match(/^\d/);return be&&parseInt(be[0])===le})}return B.sort((le,oe)=>{switch(x.key){case"local":const be=le.local||"",Re=oe.local||"";return x.direction==="asc"?be.localeCompare(Re,void 0,{numeric:!0}):Re.localeCompare(be,void 0,{numeric:!0});case"piano":const We=le.piano||"",xt=oe.piano||"";return x.direction==="asc"?We.localeCompare(xt):xt.localeCompare(We);case"accord":const Jt=le.dernierAccord?new Date(le.dernierAccord).getTime():0,ei=oe.dernierAccord?new Date(oe.dernierAccord).getTime():0;return x.direction==="asc"?Jt-ei:ei-Jt;case"mois":const ti=$(le.dernierAccord),ni=$(oe.dernierAccord);return x.direction==="asc"?ti-ni:ni-ti;default:return 0}}),B},[s,x,k,A,R,d,b,h,S,w,$]);m.useEffect(()=>{if(E.current&&Q.length>=0){const B=j.size===Q.length&&Q.length>0,le=j.size>0&&j.size<Q.length;E.current.checked=B,E.current.indeterminate=le}},[j.size,Q.length]);const ae=async B=>{const le=s.find(be=>be.id===B);if(!le)return;let oe;le.status==="normal"||!le.status?oe="proposed":le.status==="proposed"?oe="top":(le.status,oe="normal"),a(s.map(be=>be.id===B?{...be,status:oe}:be)),await p(B,{status:oe})},G=async B=>{const le=s.find(oe=>oe.id===B);if(!le){console.error(" Piano non trouv:",B);return}console.log(`
 TOGGLE PIANO:`,le.serie||B),console.log("   Piano ID (gazelleId):",le.id),T(oe=>{const be=new Set(oe);return be.has(B)?be.delete(B):be.add(B),be})},Z=()=>T(new Set(Q.map(B=>B.id))),ve=()=>T(new Set),se=async B=>{const le=Array.from(j),oe=s.map(be=>j.has(be.id)?{...be,status:B}:be);a(oe),T(new Set);for(const be of le)await p(be,{status:B})},Ve=async B=>{const le=Array.from(j);a(s.map(oe=>j.has(oe.id)?{...oe,usage:B}:oe)),T(new Set);for(const oe of le)await p(oe,{usage:B})},ot=async()=>{const B=Array.from(j);if(B.length===0){alert("Aucun piano slectionn");return}if(confirm(`Masquer ${B.length} piano(s) de l'inventaire?`)){a(s.map(le=>j.has(le.id)?{...le,is_hidden:!0}:le)),T(new Set);for(const le of B)await p(le,{isHidden:!0})}},Xr=async(B,le)=>{const oe=le!==void 0?le:H;s.find(Re=>Re.id===B)&&(a(s.map(Re=>Re.id===B?{...Re,travail:oe,status:oe?"work_in_progress":Re.status}:Re)),await p(B,{travail:oe}))};m.useEffect(()=>{console.log("[VincentDIndyDashboard] useEffect de chargement initial dclench");try{te()}catch(B){console.error("[VincentDIndyDashboard] Erreur dans useEffect de chargement:",B),alert(`Erreur au chargement initial: ${B.message}

Stack: ${B.stack}`)}},[te,r]),m.useEffect(()=>{d==="vdi"&&W()},[d,W]);const Ts=m.useCallback(async B=>{Kt(B),await te(B)},[te]);m.useEffect(()=>{d==="nicolas"&&(async()=>{try{const le=await fetch(`${un}/api/${r}/pianos-ready-for-push`);if(le.ok){const oe=await le.json();Vt(oe.count||0)}}catch(le){console.error("Erreur chargement pianos prts:",le)}})()},[s,d,r]);const Lc=m.useMemo(()=>!s||!Array.isArray(s)?{total:0,top:0,proposed:0,completed:0}:{total:s.length,top:s.filter(B=>B&&B.status==="top").length,proposed:s.filter(B=>B&&(B.status==="proposed"||B.aFaire&&B.aFaire.trim()!=="")).length,completed:s.filter(B=>B&&B.status==="completed").length},[s]),To=B=>j.has(B.id)?"bg-purple-100":B.status==="top"?"bg-orange-200":B.status==="proposed"||B.aFaire&&B.aFaire.trim()!==""?"bg-yellow-200":"bg-white",$o=async()=>{var B;if(jt===0){alert("Aucun piano prt pour tre envoy  Gazelle.");return}if(confirm(`Envoyer ${jt} piano(s) vers Gazelle?`)){St(!0);try{const oe=await(await fetch(`${un}/api/${r}/push-to-gazelle`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({technician_id:"usr_HcCiFk7o0vZ9xAI0",dry_run:!1})})).json();oe.success?(alert(` ${oe.pushed_count}/${oe.total_pianos} piano(s) envoy(s) avec succs!`),await te()):(alert(` ${oe.pushed_count||0}/${oe.total_pianos||0} piano(s) envoy(s), ${oe.error_count||0} erreur(s).

Voir console pour dtails.`),console.error("Erreurs push:",((B=oe.results)==null?void 0:B.filter(be=>be.status==="error"))||[]))}catch(le){alert(` Erreur lors du push: ${le.message}`),console.error(le)}finally{St(!1)}}},cn=async(B,le)=>{var be;const oe=le||B;if(oe&&!gt[oe]){Oe(!0);try{console.log("[ valider] Chargement historique pour piano:",oe);const Re=await fetch(`${un}/api/vincent-dindy/pianos/${oe}/timeline?limit=200`);if(!Re.ok)throw new Error(`HTTP ${Re.status}`);const We=await Re.json();console.log("[ valider] Donnes brutes:",(be=We.entries)==null?void 0:be.slice(0,2));const xt=(We.entries||[]).map(Jt=>({date:Jt.date||"",text:Jt.summary||Jt.comment||"",entry_type:Jt.type||"NOTE",user:Jt.user||"",source:Jt.source||"gazelle"})).filter(Jt=>Jt.text.trim());console.log("[ valider] Entres transformes:",xt.slice(0,2)),Ot(Jt=>({...Jt,[oe]:xt}))}catch(Re){console.error("Erreur chargement historique:",Re),Ot(We=>({...We,[oe]:[]}))}finally{Oe(!1)}}},$s=m.useMemo(()=>s.filter(B=>B.travail&&B.travail.trim()!==""&&!B.service_status).map(B=>({_type:"pending",_key:`pending-${B.id}`,_sortDate:B.dernierAccord||B.updated_at||"1970-01-01",pianoId:B.id,gazelleId:B.gazelleId||B.id,local:B.local,pianoName:`${B.piano}${B.modele?` ${B.modele}`:""}`,aFaire:B.aFaire||"",travail:B.travail,serviceDate:B.dernierAccord||"",status:"pending"})),[s]),Zr=m.useMemo(()=>s.filter(B=>B.service_status==="validated").map(B=>({_type:"validated_piano",_key:`vp-${B.id}`,_sortDate:B.dernierAccord||B.updated_at||"1970-01-01",pianoId:B.id,gazelleId:B.gazelleId||B.id,local:B.local,pianoName:`${B.piano}${B.modele?` ${B.modele}`:""}`,aFaire:B.aFaire||"",travail:B.travail||"",serviceDate:B.dernierAccord||"",status:"validated"})),[s]),Ps=m.useMemo(()=>s.filter(B=>B.service_status==="pushed").map(B=>({_type:"pushed_piano",_key:`pp-${B.id}`,_sortDate:B.dernierAccord||B.updated_at||"1970-01-01",pianoId:B.id,gazelleId:B.gazelleId||B.id,local:B.local,pianoName:`${B.piano}${B.modele?` ${B.modele}`:""}`,aFaire:B.aFaire||"",travail:B.travail||"",serviceDate:B.dernierAccord||"",status:"pushed"})),[s]),bf=m.useCallback(async(B,le)=>{const oe=le||B;if(!(!oe||gt[oe]))try{const be=await fetch(`${un}/api/vincent-dindy/pianos/${oe}/timeline?limit=200`);if(!be.ok)return;const We=((await be.json()).entries||[]).map(xt=>({date:xt.date||"",text:xt.summary||xt.comment||"",entry_type:xt.type||"NOTE",user:xt.user||"",source:xt.source||"gazelle"})).filter(xt=>xt.text.trim());Ot(xt=>({...xt,[oe]:We}))}catch{Ot(Re=>({...Re,[oe]:[]}))}},[gt]);if(m.useEffect(()=>{if(d!=="vdi")return;const B=async()=>{const le=[];[...$s,...Zr,...Ps].forEach(oe=>{const be=oe.gazelleId||oe.pianoId;be&&!gt[be]&&le.push({pianoId:oe.pianoId,gazelleId:oe.gazelleId})});for(let oe=0;oe<le.length;oe+=5){const be=le.slice(oe,oe+5);await Promise.all(be.map(({pianoId:Re,gazelleId:We})=>bf(Re,We)))}};($s.length>0||Zr.length>0||Ps.length>0)&&B()},[d,$s.length,Zr.length,Ps.length,bf]),i)return o.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:o.jsx("div",{className:"text-center",children:o.jsx("div",{className:"text-lg text-gray-600",children:"Chargement des pianos..."})})});if(c)return o.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:o.jsxs("div",{className:"text-center bg-white p-6 rounded-lg shadow max-w-md w-full",children:[o.jsx("div",{className:"text-red-600 mb-2 text-lg font-semibold",children:" Erreur"}),o.jsx("div",{className:"text-sm text-gray-600 mb-4",children:c}),o.jsx("button",{onClick:()=>{u(null),te()},className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Ressayer"})]})});if(d==="vdi"){const B=new Set([...Zr.map(ee=>ee.pianoId),...Ps.map(ee=>ee.pianoId)]),le=Fe.filter(ee=>!B.has(ee.piano_id)).map(ee=>({_type:"history",_key:`history-${ee.id}`,_sortDate:ee.service_date||ee.validated_at||ee.created_at||"1970-01-01",entryId:ee.id,pianoId:ee.piano_id,gazelleId:ee.gazelle_piano_id||ee.piano_id,local:ee.piano_local||"",pianoName:ee.piano_name||"",aFaire:ee.a_faire||"",travail:ee.travail||"",serviceDate:ee.service_date||"",status:ee.status,validatedAt:ee.validated_at,pushedAt:ee.pushed_at,gazelleEventId:ee.gazelle_event_id})),oe=[...$s,...Zr,...Ps,...le].sort((ee,He)=>(He._sortDate||"").localeCompare(ee._sortDate||"")),be=$s.length,Re=Zr.length,We=Ps.length,xt=async ee=>{try{const He=await fetch(`${un}/api/vincent-dindy/service-history/validate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({piano_ids:[ee],validated_by:(e==null?void 0:e.email)||(e==null?void 0:e.name)||"Unknown"})});if(!He.ok)throw new Error(`HTTP ${He.status}`);a(s.map(ct=>ct.id===ee?{...ct,service_status:"validated",last_validated_at:new Date().toISOString()}:ct)),await W()}catch(He){alert("Erreur validation: "+He.message)}},Jt=async()=>{if(be!==0&&confirm(`Valider ${be} piano(s)?`))try{const ee=$s.map(ct=>ct.pianoId),He=await fetch(`${un}/api/vincent-dindy/service-history/validate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({piano_ids:ee,validated_by:(e==null?void 0:e.email)||(e==null?void 0:e.name)||"Unknown"})});if(!He.ok)throw new Error(`HTTP ${He.status}`);a(s.map(ct=>ee.includes(ct.id)?{...ct,service_status:"validated",last_validated_at:new Date().toISOString()}:ct)),await W()}catch(ee){alert("Erreur validation: "+ee.message)}},ei=async()=>{if(Re!==0&&confirm(`Pousser ${Re} piano(s) valid(s) vers Gazelle?`)){St(!0);try{const He=await(await fetch(`${un}/api/vincent-dindy/service-history/push-tournee`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})})).json();if(He.success||He.pushed_count>0){alert(`${He.pushed_count} entre(s) pousse(s) vers Gazelle.`);const ct=Zr.map(Rt=>Rt.pianoId);a(s.map(Rt=>ct.includes(Rt.id)?{...Rt,service_status:"pushed"}:Rt))}else alert("Erreur: "+JSON.stringify(He));await W()}catch(ee){alert("Erreur push: "+ee.message)}finally{St(!1)}}},ti=async()=>{if(We!==0&&confirm(`Terminer la tourne? ${We} piano(s) seront nettoy(s) (notes effaces de l'affichage).`)){Ie(!0);try{const He=await(await fetch(`${un}/api/vincent-dindy/service-history/tournee-terminee`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})})).json();if(He.success){alert(`${He.cleaned_count} piano(s) nettoy(s). Tourne termine.`);const ct=new Set(He.piano_ids);a(s.map(Rt=>ct.has(Rt.id)?{...Rt,travail:"",aFaire:"",observations:"",status:"normal",service_status:null,is_work_completed:!1}:Rt))}else alert("Erreur: "+(He.detail||JSON.stringify(He)));await W()}catch(ee){alert("Erreur nettoyage: "+ee.message)}finally{Ie(!1)}}},ni=async()=>{if(Se)try{const ee=await fetch(`${un}/api/vincent-dindy/service-history/${Se}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({travail:Me})});if(!ee.ok)throw new Error(`HTTP ${ee.status}`);Ye(null),De(""),await W()}catch(ee){alert("Erreur sauvegarde: "+ee.message)}},Fy=(ee,He)=>{const ct=He||ee;Je===ct?Qe(null):(Qe(ct),cn(ee,He))},By=ee=>{const He=ee.gazelleId||ee.pianoId;Je!==He&&(Qe(He),cn(ee.pianoId,ee.gazelleId))},Vy=({status:ee})=>{const He={pending:{bg:"bg-blue-100",text:"text-blue-700",label:" valider"},validated:{bg:"bg-green-100",text:"text-green-700",label:"Valid"},pushed:{bg:"bg-gray-100",text:"text-gray-500",label:"Pouss"},error:{bg:"bg-red-100",text:"text-red-700",label:"Erreur"}},ct=He[ee]||He.pending;return o.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-semibold ${ct.bg} ${ct.text}`,children:ct.label})},Hy=({row:ee})=>{const He=ee.gazelleId||ee.pianoId,ct=gt[He]||[],Rt=ct.length>0?ct[0]:null,Ht=()=>{if(!Rt)return null;const zt=Rt.date?(()=>{try{const Tr=new Date(Rt.date);return isNaN(Tr.getTime())?Rt.date.slice(0,10):Tr.toLocaleDateString("fr-CA",{day:"numeric",month:"short",year:"2-digit"})}catch{return Rt.date.slice(0,10)||""}})():"";return o.jsxs("div",{className:"mt-1.5 pt-1.5 border-t border-gray-200",children:[o.jsxs("div",{className:"text-[10px] text-gray-400 mb-0.5",children:["Dernier service ",zt?`(${zt})`:""]}),o.jsx("div",{className:"text-[11px] text-gray-500 line-clamp-2",children:Rt.text})]})};return ee._type==="pending"?Ce===ee.pianoId?o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("textarea",{value:Ee,onChange:zt=>ye(zt.target.value),className:"w-full border border-blue-300 rounded p-2 text-xs h-24 resize-y focus:outline-none focus:ring-2 focus:ring-blue-300",autoFocus:!0}),o.jsxs("div",{className:"flex gap-1.5",children:[o.jsx("button",{onClick:async()=>{a(s.map(zt=>zt.id===ee.pianoId?{...zt,travail:Ee}:zt)),await p(ee.pianoId,{travail:Ee}),pe(null)},className:"px-2 py-1 text-xs font-medium rounded bg-blue-500 text-white hover:bg-blue-600",children:"Sauvegarder"}),o.jsx("button",{onClick:()=>pe(null),className:"px-2 py-1 text-xs font-medium rounded bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Annuler"})]}),o.jsx(Ht,{})]}):o.jsxs("div",{children:[o.jsx("div",{onClick:zt=>{zt.stopPropagation(),pe(ee.pianoId),ye(ee.travail)},className:"whitespace-pre-wrap cursor-pointer hover:bg-blue-50 hover:text-blue-700 rounded px-1 -mx-1 py-0.5 transition-colors",title:"Cliquer pour modifier",children:ee.travail}),o.jsx(Ht,{})]}):ee._type==="validated_piano"?Se===`vp-${ee.pianoId}`?o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("textarea",{value:Me,onChange:zt=>De(zt.target.value),className:"w-full border border-green-300 rounded p-2 text-xs h-24 resize-y focus:outline-none focus:ring-2 focus:ring-green-300",autoFocus:!0}),o.jsxs("div",{className:"flex gap-1.5",children:[o.jsx("button",{onClick:async()=>{const zt=Fe.find(Tr=>Tr.piano_id===ee.pianoId&&Tr.status==="validated");zt&&await fetch(`${un}/api/vincent-dindy/service-history/${zt.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({travail:Me})}),Ye(null),De(""),await W()},className:"px-2 py-1 text-xs font-medium rounded bg-green-500 text-white hover:bg-green-600",children:"Sauvegarder"}),o.jsx("button",{onClick:()=>Ye(null),className:"px-2 py-1 text-xs font-medium rounded bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Annuler"})]})]}):o.jsx("div",{onClick:()=>{Ye(`vp-${ee.pianoId}`),De(ee.travail)},className:"whitespace-pre-wrap cursor-pointer hover:bg-green-50 hover:text-green-700 rounded px-1 -mx-1 py-0.5 transition-colors",title:"Cliquer pour modifier avant le push",children:ee.travail}):ee._type==="pushed_piano"?o.jsx("div",{className:"whitespace-pre-wrap text-gray-500",children:ee.travail}):ee.status==="validated"&&ee._type==="history"?Se===ee.entryId?o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("textarea",{value:Me,onChange:zt=>De(zt.target.value),className:"w-full border border-green-300 rounded p-2 text-xs h-24 resize-y focus:outline-none focus:ring-2 focus:ring-green-300",autoFocus:!0}),o.jsxs("div",{className:"flex gap-1.5",children:[o.jsx("button",{onClick:ni,className:"px-2 py-1 text-xs font-medium rounded bg-green-500 text-white hover:bg-green-600",children:"Sauvegarder"}),o.jsx("button",{onClick:()=>Ye(null),className:"px-2 py-1 text-xs font-medium rounded bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Annuler"})]})]}):o.jsx("div",{onClick:()=>{Ye(ee.entryId),De(ee.travail)},className:"whitespace-pre-wrap cursor-pointer hover:bg-green-50 hover:text-green-700 rounded px-1 -mx-1 py-0.5 transition-colors",title:"Cliquer pour modifier",children:ee.travail}):o.jsx("div",{className:"whitespace-pre-wrap text-gray-500",children:ee.travail})};return o.jsxs("div",{className:"min-h-screen bg-gray-100",children:[o.jsx(ma,{currentView:d,setCurrentView:g,setSelectedIds:T,hideNickView:n}),o.jsxs("div",{className:"w-full max-w-7xl mx-auto px-4 py-4 space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[be>0&&o.jsxs("span",{className:"text-xs font-semibold text-blue-700 bg-blue-50 px-2 py-1 rounded-full",children:[be,"  valider"]}),Re>0&&o.jsxs("span",{className:"text-xs font-semibold text-green-700 bg-green-50 px-2 py-1 rounded-full",children:[Re," valid",Re>1?"s":""," ( pousser)"]}),We>0&&o.jsxs("span",{className:"text-xs font-semibold text-gray-600 bg-gray-100 px-2 py-1 rounded-full",children:[We," pouss",We>1?"s":""]}),oe.length===0&&!Ue&&o.jsx("span",{className:"text-sm text-gray-500",children:"Aucune entre."})]}),o.jsxs("div",{className:"flex gap-2",children:[be>0&&o.jsxs("button",{onClick:Jt,className:"px-3 py-1.5 text-xs font-medium bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:["Valider tout (",be,")"]}),Re>0&&o.jsx("button",{onClick:ei,disabled:ue,className:"px-3 py-1.5 text-xs font-medium bg-orange-500 text-white rounded-lg hover:bg-orange-600 disabled:opacity-50 transition-colors",children:ue?"Envoi...":`Pousser vers Gazelle (${Re})`}),We>0&&Re===0&&o.jsx("button",{onClick:ti,disabled:Te,className:"px-3 py-1.5 text-xs font-medium bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 transition-colors",children:Te?"Nettoyage...":`Tourne termine (${We})`})]})]}),Ue&&oe.length===0?o.jsx("div",{className:"bg-white rounded-lg shadow p-6 text-center text-gray-500",children:"Chargement..."}):oe.length===0?o.jsx("div",{className:"bg-white rounded-lg shadow p-6 text-center text-gray-500",children:"Aucun service en attente de validation ou dans l'historique."}):o.jsx("div",{className:"bg-white rounded-lg shadow overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-50 border-b text-left text-xs font-medium text-gray-500 uppercase",children:[o.jsx("th",{className:"px-3 py-2 w-20",children:"Statut"}),o.jsx("th",{className:"px-3 py-2",children:"Local"}),o.jsx("th",{className:"px-3 py-2",children:"Piano"}),o.jsx("th",{className:"px-3 py-2",children:" faire"}),o.jsx("th",{className:"px-3 py-2",children:"Notes technicien"}),o.jsx("th",{className:"px-3 py-2 w-24",children:"Service"}),o.jsx("th",{className:"px-3 py-2 w-28 text-center",children:"Action"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:oe.map(ee=>{const He=ee.gazelleId||ee.pianoId,ct=Je===He,Rt=gt[He]||[];return o.jsxs(jn.Fragment,{children:[o.jsxs("tr",{onClick:()=>By(ee),className:`cursor-pointer ${ee.status==="pending"?"bg-blue-50/30 hover:bg-blue-50":ee.status==="validated"?"bg-green-50/30 hover:bg-green-50":ee.status==="error"?"bg-red-50/30":"bg-gray-50/30 hover:bg-gray-50"}`,children:[o.jsx("td",{className:"px-3 py-2",children:o.jsx(Vy,{status:ee.status})}),o.jsx("td",{className:"px-3 py-2 font-medium whitespace-nowrap",children:ee.local}),o.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-gray-600",children:ee.pianoName}),o.jsx("td",{className:"px-3 py-2 text-xs text-gray-600",children:ee.aFaire||"-"}),o.jsx("td",{className:"px-3 py-2 text-xs text-gray-800 max-w-md",children:o.jsx(Hy,{row:ee})}),o.jsx("td",{className:"px-3 py-2 text-[10px] text-gray-400 whitespace-nowrap",children:ee.serviceDate?new Date(ee.serviceDate).toLocaleDateString("fr-CA",{day:"numeric",month:"short"}):"-"}),o.jsx("td",{className:"px-3 py-2 text-center",children:o.jsxs("div",{className:"flex items-center justify-center gap-1",children:[ee.status==="pending"&&o.jsx("button",{onClick:()=>xt(ee.pianoId),className:"px-2 py-1 text-xs font-medium bg-green-500 text-white rounded hover:bg-green-600 transition-colors",children:"Valider"}),o.jsx("button",{onClick:()=>Fy(ee.pianoId,ee.gazelleId),className:`p-1 rounded transition-colors ${ct?"text-blue-600 bg-blue-100":"text-gray-400 hover:text-blue-600"}`,title:"Voir l'historique d'entretien",children:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})})]}),ct&&o.jsx("tr",{className:"bg-blue-50/50",children:o.jsxs("td",{colSpan:"7",className:"px-4 py-3",children:[o.jsxs("div",{className:"text-xs font-semibold text-blue-800 mb-2",children:[" Historique de Service ",re?"(chargement...)":`(${Rt.length} entres)`]}),re?o.jsx("div",{className:"text-xs text-gray-500 italic",children:"Chargement de l'historique..."}):Rt.length===0?o.jsx("div",{className:"text-xs text-gray-500 italic",children:"Aucun historique trouv pour ce piano."}):o.jsx("div",{className:"space-y-1.5 max-h-64 overflow-y-auto pr-2",children:Rt.map((Ht,zt)=>o.jsx("div",{className:"bg-white p-2 rounded border-l-4 border-blue-400 shadow-sm",children:o.jsxs("div",{className:"flex items-start gap-2 text-[11px]",children:[o.jsx("span",{className:"text-blue-600 font-medium min-w-[75px]",children:(()=>{if(!Ht.date)return"";try{const Tr=new Date(Ht.date);return isNaN(Tr.getTime())?Ht.date.slice(0,10):Tr.toLocaleDateString("fr-CA",{day:"numeric",month:"short",year:"2-digit"})}catch{return Ht.date.slice(0,10)||""}})()}),o.jsx("span",{className:`uppercase min-w-[55px] font-medium ${Ht.entry_type==="SERVICE"?"text-green-600":Ht.entry_type==="MEASUREMENT"?"text-purple-600":"text-gray-400"}`,children:Ht.entry_type==="SERVICE_ENTRY_MANUAL"?"Service":Ht.entry_type==="MEASUREMENT"?"Mesure":Ht.entry_type==="SERVICE"?Ht.source==="local"?"Local":"Service":Ht.entry_type||"Note"}),Ht.user&&o.jsx("span",{className:"text-gray-400 min-w-[80px]",children:Ht.user}),o.jsx("p",{className:"text-gray-700 whitespace-pre-wrap flex-1 line-clamp-2",children:Ht.text})]})},zt))})]})})]},ee._key)})})]})})]})]})}return d==="technicien"?(console.log(" [VincentDIndyDashboard] Rendu vue technicien"),console.log(" [VincentDIndyDashboard] Props pour VDI_TechnicianView:",{selectedInstitutionForTechnician:_t,institution:r,finalSelectedInstitution:_t||r}),o.jsxs("div",{className:"min-h-screen bg-gray-100",children:[o.jsx(ma,{currentView:d,setCurrentView:g,setSelectedIds:T,hideNickView:n}),o.jsx("div",{className:"w-full max-w-md mx-auto px-4 py-4 sm:px-3 sm:py-2",children:o.jsx("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 overflow-hidden",children:o.jsx(my,{pianos:s,stats:Lc,showOnlyProposed:h,setShowOnlyProposed:y,searchLocal:S,setSearchLocal:v,expandedPianoId:I,setExpandedPianoId:z,travailInput:H,setTravailInput:M,saveTravail:Xr,moisDepuisAccord:$,formatDateRelative:O,pianosFiltres:Q,selectedInstitution:_t||r,setSelectedInstitution:Kt,onInstitutionChange:Ts})})})]})):o.jsxs("div",{className:"min-h-screen bg-gray-100 p-4",children:[o.jsx(ma,{currentView:d,setCurrentView:g,setSelectedIds:T,hideNickView:n}),d==="nicolas"&&o.jsx(hy,{pianosFiltres:Q,pianos:s,setPianos:a,stats:Lc,institution:r,currentUser:e,setShowOnlySelected:N,showOnlySelected:b,showAllPianos:w,setShowAllPianos:f,filterUsage:k,setFilterUsage:P,filterAccordDepuis:A,setFilterAccordDepuis:C,usages:U,selectedIds:j,setSelectedIds:T,selectAllCheckboxRef:E,loadPianosFromAPI:te,loading:i,selectAll:Z,deselectAll:ve,toggleProposed:ae,toggleSelected:G,batchSetStatus:se,batchSetUsage:Ve,batchHideFromInventory:ot,savePianoToAPI:p,editingAFaireId:Y,setEditingAFaireId:Ne,aFaireInput:xe,setAFaireInput:ce,sortConfig:x,handleSort:F,getRowClass:To,moisDepuisAccord:$,formatDateRelative:O,filterEtage:R,setFilterEtage:L,handlePushToGazelle:$o,readyForPushCount:jt,pushInProgress:ue})]})};console.log("[OrfordDashboard] Fichier charg - ligne 1");const Fs="https://assistant-gazelle-v5-api.onrender.com",$h=({currentUser:e,initialView:t="nicolas",hideNickView:n=!1,institution:r="orford"})=>{const[s,a]=m.useState([]),[i,l]=m.useState(!0),[c,u]=m.useState(null),[d,g]=m.useState(n?"technicien":t);m.useEffect(()=>{n&&d!=="technicien"&&g("technicien")},[n,d]);const[b,N]=m.useState(!1),[h,y]=m.useState(!1),[S,v]=m.useState(""),[w,f]=m.useState(!1),[x,_]=m.useState({key:"local",direction:"asc"}),[k,P]=m.useState("all"),[A,C]=m.useState(0),[R,L]=m.useState("all"),[j,T]=m.useState(new Set),E=m.useRef(null),[I,z]=m.useState(null),[H,M]=m.useState(""),[D,X]=m.useState(""),[K,J]=m.useState(!1),[Y,Ne]=m.useState(null),[xe,ce]=m.useState(""),[je,Be]=m.useState(null),[Ae,he]=m.useState(""),[Ce,pe]=m.useState("orford"),[Ee,ye]=m.useState(r),[Se,Ye]=m.useState(0),[Me,De]=m.useState(!1),Fe=["Piano","Accompagnement","Pratique","Concert","Enseignement","Loisir"],$e=m.useCallback(async(U=null)=>{var te;try{l(!0),u(null);const W=U||r;console.log(" Chargement des pianos depuis:",Fs,"pour institution:",W);const p=`${Fs}/api/${W}/pianos?include_inactive=true`,O=await(await fetch(p)).json();console.log(" Donnes reues:",O),console.log(" Nombre de pianos:",O.count||((te=O.pianos)==null?void 0:te.length)||0),O.error?(console.error(" Erreur API:",O.message),u(O.message||"Erreur lors du chargement des pianos"),a([])):(a(O.pianos||[]),O.debug&&console.log(" Debug:",O.debug))}catch(W){console.error(" Erreur lors du chargement des pianos:",W),u(W.message||"Erreur lors du chargement des pianos"),a([])}finally{l(!1)}},[r]),Ue=m.useCallback(async U=>{ye(U),await $e(U)},[$e]),de=async(U,te)=>{try{const W={...te,updated_by:(e==null?void 0:e.email)||(e==null?void 0:e.name)||"Unknown"},p=await fetch(`${Fs}/api/${r}/pianos/${U}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)});if(!p.ok){const $=await p.json().catch(()=>({detail:"Erreur inconnue"}));throw new Error($.detail||`Erreur ${p.status}`)}return console.log(" Piano sauvegard par",e==null?void 0:e.name,":",U,W),p.json()}catch(W){console.error(" Erreur lors de la sauvegarde:",W),alert(`Erreur lors de la sauvegarde: ${W.message}`),await $e()}},Te=U=>{if(!U||U.trim()==="")return 999;const te=new Date(U);return isNaN(te.getTime())?999:Math.floor((new Date-te)/(1e3*60*60*24*30))},Ie=U=>{if(!U||U.trim()==="")return"-";const te=new Date(U);if(isNaN(te.getTime()))return"-";const p=new Date-te,$=Math.floor(p/(1e3*60*60*24)),O=Math.floor($/7),F=Math.floor($/30);return $===0?"Aujourd'hui":$===1?"1j":$<7?`${$}j`:O===1?"1s":O<4?`${O}s`:F===1?"1m":F<12?`${F}m`:`${Math.floor(F/12)}a`},Je=U=>{_(te=>({key:U,direction:te.key===U&&te.direction==="asc"?"desc":"asc"}))},Qe=m.useMemo(()=>{let U=[...s];if(w||(U=U.filter(te=>!te.is_hidden)),d==="nicolas"||d==="technicien"&&(h&&(U=U.filter(te=>te.status==="proposed")),S.trim()&&(U=U.filter(te=>te.local.toLowerCase().includes(S.toLowerCase())))),k!=="all"&&(U=U.filter(te=>k===""?!te.usage:te.usage===k)),A>0&&(U=U.filter(te=>Te(te.dernierAccord)>=A)),R!=="all"&&d==="nicolas"){const te=parseInt(R);U=U.filter(W=>{if(!W.local)return!1;const p=W.local.match(/^\d/);return p&&parseInt(p[0])===te})}return U.sort((te,W)=>{switch(x.key){case"local":const p=te.local||"",$=W.local||"";return x.direction==="asc"?p.localeCompare($,void 0,{numeric:!0}):$.localeCompare(p,void 0,{numeric:!0});case"piano":const O=te.piano||"",F=W.piano||"";return x.direction==="asc"?O.localeCompare(F):F.localeCompare(O);case"accord":const Q=te.dernierAccord?new Date(te.dernierAccord).getTime():0,ae=W.dernierAccord?new Date(W.dernierAccord).getTime():0;return x.direction==="asc"?Q-ae:ae-Q;case"mois":const G=Te(te.dernierAccord),Z=Te(W.dernierAccord);return x.direction==="asc"?G-Z:Z-G;default:return 0}}),U},[s,x,k,A,R,d,b,h,S,w,Te]);m.useEffect(()=>{if(E.current&&Qe.length>=0){const U=j.size===Qe.length&&Qe.length>0,te=j.size>0&&j.size<Qe.length;E.current.checked=U,E.current.indeterminate=te}},[j.size,Qe.length]);const gt=async U=>{const te=s.find(p=>p.id===U);if(!te)return;let W;te.status==="normal"||!te.status?W="proposed":te.status==="proposed"?W="completed":te.status==="completed"&&(W="normal"),a(s.map(p=>p.id===U?{...p,status:W}:p)),await de(U,{status:W})},Ot=async U=>{const te=s.find(W=>W.id===U);if(!te){console.error(" Piano non trouv:",U);return}console.log(`
 TOGGLE PIANO:`,te.serie||U),console.log("   Piano ID (gazelleId):",te.id),T(W=>{const p=new Set(W);return p.has(U)?p.delete(U):p.add(U),p})},re=()=>T(new Set(Qe.map(U=>U.id))),Oe=()=>T(new Set),we=async U=>{const te=Array.from(j),W=s.map(p=>j.has(p.id)?{...p,status:U}:p);a(W),T(new Set);for(const p of te)await de(p,{status:U})},ke=async U=>{const te=Array.from(j);a(s.map(W=>j.has(W.id)?{...W,usage:U}:W)),T(new Set);for(const W of te)await de(W,{usage:U})},_t=async()=>{const U=Array.from(j);if(U.length===0){alert("Aucun piano slectionn");return}if(confirm(`Masquer ${U.length} piano(s) de l'inventaire?`)){a(s.map(te=>j.has(te.id)?{...te,is_hidden:!0}:te)),T(new Set);for(const te of U)await de(te,{isHidden:!0})}},Kt=async U=>{const te=s.find(W=>W.id===U);if(te)try{const W={technician_name:"Technicien",client_name:"Orford Musique",piano_id:te.gazelleId||null,date:new Date().toISOString().split("T")[0],report_type:"maintenance",description:`Travail effectu sur piano ${te.piano} (Srie: ${te.serie}) - Local: ${te.local}`,service_history_notes:te.aFaire?` faire: ${te.aFaire}

Travail: ${H}

Observations: ${D}`:`Travail: ${H}

Observations: ${D}`,hours_worked:null,institution:r||"orford"};await fk(Fs,W);let p=te.status;K?p="completed":H&&(p="work_in_progress"),a(s.map(F=>F.id===U?{...F,travail:H,is_work_completed:K,status:p}:F)),await de(U,{travail:H,isWorkCompleted:K,status:p});const $=Qe.findIndex(F=>F.id===U),O=Qe[$+1];O&&O.status==="proposed"?(z(O.id),M(O.travail||""),X(O.observations||"")):z(null)}catch(W){console.error("Erreur lors de la sauvegarde:",W),alert("Erreur lors de la sauvegarde du rapport. Veuillez ressayer.")}};m.useEffect(()=>{console.log("[OrfordDashboard] useEffect de chargement initial dclench");try{$e()}catch(U){console.error("[OrfordDashboard] Erreur dans useEffect de chargement:",U),alert(`Erreur au chargement initial: ${U.message}

Stack: ${U.stack}`)}},[$e,r]),m.useEffect(()=>{d==="nicolas"&&(async()=>{try{const te=await fetch(`${Fs}/api/${r}/pianos-ready-for-push`);if(te.ok){const W=await te.json();Ye(W.count||0)}}catch(te){console.error("Erreur chargement pianos prts:",te)}})()},[s,d,r]);const jt=m.useMemo(()=>!s||!Array.isArray(s)?{total:0,top:0,proposed:0,completed:0}:{total:s.length,top:s.filter(U=>U&&U.status==="top").length,proposed:s.filter(U=>U&&(U.status==="proposed"||U.aFaire&&U.aFaire.trim()!=="")).length,completed:s.filter(U=>U&&U.status==="completed").length},[s]),Vt=U=>j.has(U.id)?"bg-purple-100":U.status==="top"?"bg-amber-200":U.status==="completed"&&U.is_work_completed?"bg-green-200":U.status==="work_in_progress"||U.travail&&U.travail.trim()!==""&&!U.is_work_completed?"bg-blue-200":U.status==="proposed"||U.aFaire&&U.aFaire.trim()!==""?"bg-yellow-200":"bg-white",ue=U=>{switch(U){case"pending":return"";case"pushed":return"";case"modified":return"";case"error":return"";default:return""}},St=async()=>{var U;if(Se===0){alert("Aucun piano prt pour tre envoy  Gazelle.");return}if(confirm(`Envoyer ${Se} piano(s) vers Gazelle?`)){De(!0);try{const W=await(await fetch(`${Fs}/api/${r}/push-to-gazelle`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({technician_id:"usr_HcCiFk7o0vZ9xAI0",dry_run:!1})})).json();W.success?(alert(` ${W.pushed_count}/${W.total_pianos} piano(s) envoy(s) avec succs!`),await $e()):(alert(` ${W.pushed_count||0}/${W.total_pianos||0} piano(s) envoy(s), ${W.error_count||0} erreur(s).

Voir console pour dtails.`),console.error("Erreurs push:",((U=W.results)==null?void 0:U.filter(p=>p.status==="error"))||[]))}catch(te){alert(` Erreur lors du push: ${te.message}`),console.error(te)}finally{De(!1)}}};return i?o.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:o.jsx("div",{className:"text-center",children:o.jsx("div",{className:"text-lg text-gray-600",children:"Chargement des pianos..."})})}):c?o.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:o.jsxs("div",{className:"text-center bg-white p-6 rounded-lg shadow max-w-md w-full",children:[o.jsx("div",{className:"text-red-600 mb-2 text-lg font-semibold",children:" Erreur"}),o.jsx("div",{className:"text-sm text-gray-600 mb-4",children:c}),o.jsx("button",{onClick:()=>{u(null),$e()},className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Ressayer"})]})}):d==="technicien"?o.jsxs("div",{className:"min-h-screen bg-gray-100",children:[o.jsx(ma,{currentView:d,setCurrentView:g,setSelectedIds:T,hideNickView:n}),o.jsx("div",{className:"w-full max-w-md mx-auto px-4 py-4 sm:px-3 sm:py-2",children:o.jsx("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 overflow-hidden",children:o.jsx(my,{pianos:s,stats:jt,showOnlyProposed:h,setShowOnlyProposed:y,searchLocal:S,setSearchLocal:v,expandedPianoId:I,setExpandedPianoId:z,travailInput:H,setTravailInput:M,observationsInput:D,setObservationsInput:X,isWorkCompleted:K,setIsWorkCompleted:J,saveTravail:Kt,moisDepuisAccord:Te,formatDateRelative:Ie,getSyncStatusIcon:ue,pianosFiltres:Qe,selectedInstitution:Ee,setSelectedInstitution:ye,onInstitutionChange:Ue})})})]}):o.jsxs("div",{className:"min-h-screen bg-gray-100 p-4",children:[o.jsx(ma,{currentView:d,setCurrentView:g,setSelectedIds:T,hideNickView:n}),d==="nicolas"&&o.jsx(hy,{pianosFiltres:Qe,pianos:s,setPianos:a,stats:jt,institution:r,currentUser:e,setShowOnlySelected:N,showOnlySelected:b,showAllPianos:w,setShowAllPianos:f,filterUsage:k,setFilterUsage:P,filterAccordDepuis:A,setFilterAccordDepuis:C,usages:Fe,selectedIds:j,setSelectedIds:T,selectAllCheckboxRef:E,loadPianosFromAPI:$e,loading:i,selectAll:re,deselectAll:Oe,toggleProposed:gt,toggleSelected:Ot,batchSetStatus:we,batchSetUsage:ke,batchHideFromInventory:_t,handlePushToGazelle:St,savePianoToAPI:de,readyForPushCount:Se,pushInProgress:Me,editingAFaireId:Y,setEditingAFaireId:Ne,aFaireInput:xe,setAFaireInput:ce,editingNotesId:je,setEditingNotesId:Be,notesInput:Ae,setNotesInput:he,sortConfig:x,handleSort:Je,getRowClass:Vt,moisDepuisAccord:Te,formatDateRelative:Ie,getSyncStatusIcon:ue,filterEtage:R,setFilterEtage:L})]})},xk=[{id:1,name:"Allan",email:dn.admin.email,role:"admin",pin:"6342",gazelleId:"usr_ofYggsCDt2JAVeNP"},{id:2,name:"Louise",email:dn.louise.email,role:"admin",pin:"6343",gazelleId:null},{id:3,name:"Nick",email:dn.nick.email,role:"technician",pin:"6344",gazelleId:"usr_HcCiFk7o0vZ9xAI0"},{id:4,name:"JP",email:dn.jeanphilippe.email,role:"technician",pin:"6345",gazelleId:"usr_ReUSmIJmBF86ilY1"},{id:5,name:"Margot",email:dn.margot.email,role:"assistant",pin:"6341",gazelleId:"usr_bbt59aCUqUaDWA8n"}];function yk({onLogin:e}){const[t,n]=m.useState(""),[r,s]=m.useState("");m.useEffect(()=>{const c=u=>{u.key>="0"&&u.key<="9"?(u.preventDefault(),a(u.key)):u.key==="Backspace"||u.key==="Delete"?(u.preventDefault(),i()):u.key==="Enter"&&t.length===4&&(u.preventDefault(),l(t))};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[t]);const a=c=>{if(t.length<4){const u=t+c;n(u),s(""),u.length===4&&setTimeout(()=>{l(u)},100)}},i=()=>{n(t.slice(0,-1)),s("")},l=c=>{const u=xk.find(d=>d.pin===c);u?(localStorage.setItem("currentUser",JSON.stringify(u)),e(u)):(s("PIN incorrect"),setTimeout(()=>{n(""),s("")},1e3))};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-4",children:[o.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-sm w-full overflow-hidden",children:o.jsxs("div",{className:"p-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"text-4xl mb-4",children:""}),o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Entrez votre PIN"})]}),o.jsx("div",{className:"mb-8",children:o.jsx("div",{className:"flex justify-center gap-3",children:[0,1,2,3].map(c=>o.jsx("div",{className:`w-14 h-14 rounded-xl border-2 flex items-center justify-center transition-all ${t.length>c?"border-blue-500 bg-blue-50":"border-gray-300 bg-white"}`,children:t.length>c&&o.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"})},c))})}),r&&o.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm text-center animate-shake",children:r}),o.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[[1,2,3,4,5,6,7,8,9].map(c=>o.jsx("button",{onClick:()=>a(c.toString()),className:"h-16 rounded-xl bg-gray-100 hover:bg-gray-200 active:bg-gray-300 font-semibold text-xl text-gray-800 transition-colors touch-manipulation",disabled:t.length>=4,children:c},c)),o.jsx("div",{}),o.jsx("button",{onClick:()=>a("0"),className:"h-16 rounded-xl bg-gray-100 hover:bg-gray-200 active:bg-gray-300 font-semibold text-xl text-gray-800 transition-colors touch-manipulation",disabled:t.length>=4,children:"0"}),o.jsx("button",{onClick:i,className:"h-16 rounded-xl bg-red-50 hover:bg-red-100 active:bg-red-200 font-semibold text-xl text-red-600 transition-colors touch-manipulation flex items-center justify-center",disabled:t.length===0,children:""})]}),o.jsxs("div",{className:"text-center text-xs text-gray-400 mt-6",children:[o.jsx("div",{children:"Code PIN  4 chiffres"}),o.jsx("div",{className:"mt-1 text-gray-500",children:" Clavier ou pav tactile"})]})]})}),o.jsx("style",{children:`
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          25% { transform: translateX(-8px); }
          75% { transform: translateX(8px); }
        }
        .animate-shake {
          animation: shake 0.3s ease-in-out;
        }
        .touch-manipulation {
          -webkit-tap-highlight-color: transparent;
          user-select: none;
        }
      `})]})}const me="https://assistant-gazelle-v5-api.onrender.com";console.log("[apiConfig] Mode production - API_URL:",me);function vk({currentUser:e}){const[t,n]=m.useState([]),[r,s]=m.useState(null),[a,i]=m.useState([]),[l,c]=m.useState(!0),[u,d]=m.useState(null),[g,b]=m.useState(new Date);m.useEffect(()=>{N();const C=setInterval(N,6e4);return()=>clearInterval(C)},[]);const N=async()=>{c(!0),await Promise.all([h(),y(),S()]),b(new Date),c(!1)},h=async()=>{try{const C=await fetch(`${me}/api/sync-logs/recent?limit=15`);if(C.ok){const R=await C.json();n(R.logs||[])}}catch(C){console.error("Erreur sync logs:",C),d(C.message)}},y=async()=>{try{const C=await fetch(`${me}/api/sync-logs/stats`);if(C.ok){const R=await C.json();s(R)}}catch(C){console.error("Erreur sync stats:",C)}},S=async()=>{try{const C=await fetch(`${me}/api/alertes-rv/late-assignment?limit=20`);if(C.ok){const R=await C.json();i(R.alerts||[])}}catch(C){console.error("Erreur late alerts:",C)}},v=C=>{if(!C)return"--:--";try{return new Date(C).toLocaleTimeString("fr-CA",{hour:"2-digit",minute:"2-digit"})}catch{return"--:--"}},w=C=>{if(!C)return"N/A";try{return new Date(C).toLocaleDateString("fr-CA",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"})}catch{return C}},f=C=>{if(!C)return"N/A";const R=Date.now()-new Date(C).getTime(),L=Math.floor(R/6e4);if(L<1)return" l'instant";if(L<60)return`${L} min`;const j=Math.floor(L/60);return j<24?`${j}h`:w(C)},_=(()=>{if(!r||!t.length)return{status:"unknown",color:"gray",text:"Chargement..."};const C=t[0],R=new Date((C==null?void 0:C.created_at)||0),L=(Date.now()-R.getTime())/36e5;return(C==null?void 0:C.status)==="error"?{status:"error",color:"red",text:"Erreur dernire sync"}:L>2?{status:"warning",color:"yellow",text:`Dernire sync: ${f(C==null?void 0:C.created_at)}`}:{status:"ok",color:"green",text:"Systme oprationnel"}})(),k=a.filter(C=>C.status==="pending"),P=a.filter(C=>C.status==="sent"),A=C=>{const R=C.stats||C.tables_updated||{};if(typeof R=="string")try{return JSON.parse(R)}catch{return{}}return R};return l&&t.length===0?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-pulse text-gray-500",children:"Chargement..."})}):o.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6 space-y-6",children:[o.jsx("div",{className:`rounded-xl p-6 shadow-lg border-2 ${_.color==="green"?"bg-green-50 border-green-400":_.color==="red"?"bg-red-50 border-red-400":_.color==="yellow"?"bg-yellow-50 border-yellow-400":"bg-gray-50 border-gray-300"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:`w-5 h-5 rounded-full animate-pulse ${_.color==="green"?"bg-green-500":_.color==="red"?"bg-red-500":_.color==="yellow"?"bg-yellow-500":"bg-gray-400"}`}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Tableau de Bord"}),o.jsx("p",{className:`text-sm ${_.color==="green"?"text-green-700":_.color==="red"?"text-red-700":"text-yellow-700"}`,children:_.text})]})]}),o.jsxs("div",{className:"flex gap-6 text-center",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-bold text-gray-800",children:(r==null?void 0:r.success_count)||0}),o.jsx("div",{className:"text-xs text-gray-500",children:"Syncs (24h)"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-bold text-orange-600",children:k.length}),o.jsx("div",{className:"text-xs text-gray-500",children:"En attente"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:P.length}),o.jsx("div",{className:"text-xs text-gray-500",children:"Envoyes"})]})]}),o.jsxs("button",{onClick:N,disabled:l,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium hover:bg-gray-50 transition-colors disabled:opacity-50",children:[l?"":""," Actualiser"]})]})}),u&&o.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:[" ",u]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:o.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:" Timeline des Synchronisations"})}),o.jsx("div",{className:"divide-y divide-gray-100 max-h-[350px] overflow-y-auto",children:t.length===0?o.jsx("div",{className:"py-12 text-center text-gray-400",children:"Aucune synchronisation enregistre"}):t.map((C,R)=>{const L=A(C),j=C.status==="success",T=C.status==="error";return o.jsxs("div",{className:`px-6 py-4 flex items-center gap-4 hover:bg-gray-50 ${T?"bg-red-50":""}`,children:[o.jsx("div",{className:"w-16 text-center",children:o.jsx("div",{className:"text-lg font-mono font-bold text-gray-700",children:v(C.created_at)})}),o.jsx("div",{className:`w-3 h-3 rounded-full flex-shrink-0 ${j?"bg-green-500":T?"bg-red-500":"bg-yellow-500"}`}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium text-gray-900 truncate",children:C.script_name||"Sync Gazelle"}),C.execution_time_seconds&&o.jsxs("span",{className:"text-xs text-gray-400",children:["(",C.execution_time_seconds,"s)"]})]}),C.message&&o.jsx("p",{className:"text-sm text-gray-500 truncate",children:C.message}),(C.error_details||C.error_message)&&o.jsxs("p",{className:"text-sm text-red-600 truncate",children:[" ",C.error_details||C.error_message]})]}),o.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[L.appointments!==void 0&&o.jsxs("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded",children:[L.appointments," RV"]}),L.clients!==void 0&&L.clients>0&&o.jsxs("span",{className:"bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded",children:[L.clients," clients"]})]})]},C.id||R)})})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[o.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200 flex items-center justify-between",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:" Alertes Email (Dernire Minute)"}),o.jsxs("div",{className:"flex gap-3 text-sm",children:[o.jsxs("span",{className:"bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full",children:[k.length," en attente"]}),o.jsxs("span",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full",children:[P.length," envoyes"]})]})]}),o.jsx("div",{className:"divide-y divide-gray-100 max-h-[300px] overflow-y-auto",children:a.length===0?o.jsx("div",{className:"py-12 text-center text-gray-400",children:"Aucune alerte email"}):a.map((C,R)=>{var E;const L=C.status==="pending",j=C.status==="sent",T=C.status==="failed";return o.jsxs("div",{className:`px-6 py-4 flex items-center gap-4 ${L?"bg-yellow-50":T?"bg-red-50":"hover:bg-gray-50"}`,children:[o.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 text-xl",children:L?"":j?"":""}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"font-medium text-gray-900",children:[C.appointment_date," ",(E=C.appointment_time)==null?void 0:E.slice(0,5)]}),o.jsx("span",{className:"text-gray-400",children:""}),o.jsxs("span",{className:"text-gray-700 truncate",children:[C.technician_first_name||""," ",C.technician_last_name||C.technician_id]})]}),o.jsxs("div",{className:"text-sm text-gray-500 truncate",children:[C.client_name||"Client N/A",C.technician_email&&o.jsxs("span",{className:"text-gray-400 ml-2",children:["(",C.technician_email,")"]})]})]}),o.jsxs("div",{className:"text-right text-xs text-gray-500 flex-shrink-0",children:[L&&C.scheduled_send_at&&o.jsxs("div",{children:["Envoi: ",w(C.scheduled_send_at)]}),j&&C.sent_at&&o.jsxs("div",{className:"text-green-600",children:["Envoy: ",f(C.sent_at)]}),T&&o.jsx("div",{className:"text-red-600",children:"chec"})]})]},C.id||R)})})]}),o.jsxs("div",{className:"text-center text-xs text-gray-400",children:["Dernire actualisation: ",g.toLocaleTimeString("fr-CA"),"  Sync horaire 7h-21h  Buffer 5 min avant envoi"]})]})}const bk=({data:e=[],filename:t="export",columns:n=null,className:r=""})=>{const[s,a]=m.useState(!1),l=n||["code_produit","nom","categorie","description","unite_mesure","prix_unitaire","fournisseur","has_commission","commission_rate","variant_group","variant_label","display_order","is_active"],c=(d,g)=>{if(!d||d.length===0)return"";const b=g.map(y=>({code_produit:"Code Produit",nom:"Nom",categorie:"Catgorie",description:"Description",unite_mesure:"Unit",prix_unitaire:"Prix Unitaire",fournisseur:"Fournisseur",has_commission:"Avec Commission",commission_rate:"Taux Commission (%)",variant_group:"Groupe Variantes",variant_label:"Label Variante",display_order:"Ordre Affichage",is_active:"Actif"})[y]||y),N=d.map(y=>g.map(S=>{let v=y[S];return v==null?v="":typeof v=="boolean"?v=v?"Oui":"Non":typeof v=="number"?v=v:(v=String(v).replace(/"/g,'""'),(v.includes(",")||v.includes('"')||v.includes(`
`))&&(v=`"${v}"`)),v}));return[b.join(","),...N.map(y=>y.join(","))].join(`
`)},u=()=>{if(!e||e.length===0){alert("Aucune donne  exporter");return}a(!0);try{const d=c(e,l),g="\uFEFF",b=new Blob([g+d],{type:"text/csv;charset=utf-8;"}),N=document.createElement("a"),h=URL.createObjectURL(b);N.setAttribute("href",h),N.setAttribute("download",`${t}_${new Date().toISOString().split("T")[0]}.csv`),N.style.visibility="hidden",document.body.appendChild(N),N.click(),document.body.removeChild(N),setTimeout(()=>URL.revokeObjectURL(h),100)}catch(d){console.error("Erreur lors de l'export:",d),alert("Erreur lors de l'export: "+d.message)}finally{a(!1)}};return o.jsx("button",{onClick:u,disabled:s||!e||e.length===0,className:`
        px-4 py-2 rounded-lg font-medium transition-colors
        ${s||!e||e.length===0?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700 active:bg-green-800"}
        ${r}
      `,title:!e||e.length===0?"Aucune donne  exporter":"Exporter en CSV",children:s?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"inline-block animate-spin mr-2",children:""}),"Export en cours..."]}):o.jsxs(o.Fragment,{children:[" Exporter CSV (",(e==null?void 0:e.length)||0," produits)"]})})},wk={allan:{gazelleId:"usr_ofYggsCDt2JAVeNP",supabaseId:"usr_ofYggsCDt2JAVeNP",prenom:"Allan",nom:"Sutton",nomComplet:"Allan Sutton",abbreviation:"Allan",username:"allan",email:"asutton@piano-tek.com",slack:null,role:"admin",isAdmin:!0,isTechnicien:!0,isAssistant:!1},nicolas:{gazelleId:"usr_HcCiFk7o0vZ9xAI0",supabaseId:"usr_HcCiFk7o0vZ9xAI0",prenom:"Nicolas",nom:"Lessard",nomComplet:"Nicolas Lessard",abbreviation:"Nick",username:"nicolas",email:"nlessard@piano-tek.com",slack:null,role:"technicien",isAdmin:!1,isTechnicien:!0,isAssistant:!1},jeanphilippe:{gazelleId:"usr_ReUSmIJmBF86ilY1",supabaseId:"usr_ReUSmIJmBF86ilY1",prenom:"Jean-Philippe",nom:"Reny",nomComplet:"Jean-Philippe Reny",abbreviation:"JP",username:"jeanphilippe",email:"jpreny@gmail.com",slack:null,role:"technicien",isAdmin:!1,isTechnicien:!0,isAssistant:!1}},Ja=Object.values(wk);Ja.map(e=>e.gazelleId);Ja.map(e=>e.email);Ja.map(e=>e.username);const gr=Ja.map(e=>({id:e.gazelleId,name:e.abbreviation,prenom:e.prenom,username:e.username})),vu=({currentUser:e})=>{const[t,n]=m.useState([]),[r,s]=m.useState([]),[a,i]=m.useState(!0),[l,c]=m.useState(null),[u,d]=m.useState("inventaire"),[g,b]=m.useState(""),[N,h]=m.useState(new Set),[y,S]=m.useState({}),[v,w]=m.useState([]),[f,x]=m.useState(!1),[_,k]=m.useState(null),[P,A]=m.useState(""),[C,R]=m.useState(null),[L,j]=m.useState(!1),[T,E]=m.useState(!1),[I,z]=m.useState(new Set),[H,M]=m.useState(null),[D,X]=m.useState("produit"),[K,J]=m.useState(!1),[Y,Ne]=m.useState([]),[xe,ce]=m.useState([]),[je,Be]=m.useState("catalogue"),[Ae,he]=m.useState(null),[Ce,pe]=m.useState(!1),[Ee,ye]=m.useState(new Set),[Se,Ye]=m.useState("Services"),[Me,De]=m.useState("service"),[Fe,$e]=m.useState(!1),[Ue,de]=m.useState(0),[Te,Ie]=m.useState(window.innerWidth<=768);m.useEffect(()=>{const p=()=>Ie(window.innerWidth<=768);return window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]);const Je=async()=>{var p,$;try{i(!0),c(null);const O=new AbortController,F=setTimeout(()=>O.abort(),15e3),Q=await fetch(`${me}/api/inventaire/catalogue`,{signal:O.signal});if(clearTimeout(F),!Q.ok){const se=await Q.text().catch(()=>"Dtails non disponibles");throw new Error(`Erreur HTTP ${Q.status}: ${se.substring(0,200)}`)}const ae=await Q.json(),G={};ae.produits.forEach(se=>{const Ve={};gr.forEach(ot=>{Ve[ot.username]=0}),G[se.code_produit]={id:se.code_produit,code_produit:se.code_produit,name:se.nom,original_name:se.nom,sku:se.code_produit,category:se.categorie||"Sans catgorie",categorie:se.categorie,variant_group:se.variant_group,variant_label:se.variant_label,prix_unitaire:se.prix_unitaire,has_commission:se.has_commission,commission_rate:se.commission_rate,type_produit:se.type_produit,display_order:se.display_order||0,is_active:se.is_active!==!1,quantities:Ve}}),console.log(` Catalogue charg: ${ae.produits.length} produits`),console.log(" Cls productsMap (premiers 5):",Object.keys(G).slice(0,5)),console.log(" === DBUT CHARGEMENT INVENTAIRES ==="),console.log(" Ordre TECHNICIENS:",gr.map(se=>`${se.name} (${se.username})`).join(", "));for(const se of gr)try{console.log(` Chargement pour: ${se.name} (prenom: ${se.prenom}, username: ${se.username})`);const Ve=new AbortController,ot=setTimeout(()=>Ve.abort(),1e4),Xr=await fetch(`${me}/api/inventaire/stock/${se.prenom}`,{signal:Ve.signal});if(clearTimeout(ot),Xr.ok){const Ts=await Xr.json();console.log(` Rponse API: technicien="${Ts.technicien}", ${((p=Ts.inventaire)==null?void 0:p.length)||0} items`),(Ts.inventaire||[]).slice(0,3).forEach(cn=>{console.log(`    ${cn.code_produit}: ${cn.quantite_stock} units - ASSIGN  "${se.username}"`)});let To=0,$o=0;($=Ts.inventaire)==null||$.forEach(cn=>{G[cn.code_produit]?(G[cn.code_produit].quantities[se.username]=cn.quantite_stock||0,To++,To<=3&&(console.log(`    ASSIGNATION: ${cn.code_produit}  quantities["${se.username}"] = ${cn.quantite_stock}`),console.log(`      Vrification immdiate: productsMap["${cn.code_produit}"].quantities["${se.username}"] = ${G[cn.code_produit].quantities[se.username]}`))):($o++,$o===1&&console.log(`     Produit non trouv dans catalogue: ${cn.code_produit}`))}),console.log(`    Rsultat: ${To} assigns, ${$o} ignors (pas dans catalogue)`)}}catch(Ve){Ve.name==="AbortError"?console.error(`  Timeout chargement inventaire ${se.name} (10s)`):console.error(` Erreur chargement inventaire ${se.name}:`,Ve)}console.log(" === FIN CHARGEMENT INVENTAIRES ==="),console.log(" Vrification quantits finales:"),["PROD-4","PROD-33","PROD-41"].forEach(se=>{const Ve=G[se];Ve?(console.log(`   ${se}:`),gr.forEach(ot=>{console.log(`     ${ot.name} (quantities.${ot.username}) = ${Ve.quantities[ot.username]}`)})):console.log(`     ${se} non trouv dans productsMap`)});const ve=Object.values(G);ve.sort((se,Ve)=>{const ot=se.display_order!==null&&se.display_order!==void 0?Number(se.display_order):999,Xr=Ve.display_order!==null&&Ve.display_order!==void 0?Number(Ve.display_order):999;return ot!==Xr?ot-Xr:(se.name||"").localeCompare(Ve.name||"","fr",{sensitivity:"base"})}),n(ve),w(ve),c(null)}catch(O){O.name==="AbortError"?c("  Timeout: Le backend ne rpond pas (dlai de 15 secondes dpass). Le serveur Python est peut-tre encore en train de dmarrer. Attendez quelques secondes et rechargez la page."):O.message&&O.message.includes("500")?c(" Erreur serveur 500: Le backend Python a une erreur interne. Vrifiez les logs du terminal Python pour voir l'erreur exacte."):O.message?c(` Erreur: ${O.message}`):c(" Erreur inconnue lors du chargement de l'inventaire"),console.error(" Erreur loadInventory:",O),n([]),w([])}finally{i(!1)}},Qe=async()=>{try{const p=await fetch(`${me}/api/inventaire/transactions?limit=50`);if(!p.ok)throw new Error("Erreur chargement transactions");const $=await p.json();s($.transactions||[])}catch(p){console.error("Erreur transactions:",p)}};m.useEffect(()=>{Je(),Qe()},[]);const gt=async(p,$,O)=>{var Q;const F=parseInt(O)||0;n(ae=>ae.map(G=>G.code_produit===p?{...G,quantities:{...G.quantities,[$]:F}}:G));try{if(!(await fetch(`${me}/api/inventaire/stock`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code_produit:p,technicien:((Q=gr.find(G=>G.username===$))==null?void 0:Q.name)||"Allan",quantite_stock:F,type_transaction:"ajustement",motif:"Ajustement manuel"})})).ok)throw await Je(),new Error("Erreur mise  jour");S(G=>({...G,[p+$]:!0})),setTimeout(()=>{S(G=>{const Z={...G};return delete Z[p+$],Z})},1e3)}catch(ae){await Je(),alert("Erreur: "+ae.message)}},Ot=async()=>{if(g.trim())try{if(!(await fetch(`${me}/api/inventaire/comment`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:g,username:(e==null?void 0:e.name)||"Utilisateur"})})).ok)throw new Error("Erreur envoi commentaire");alert("Commentaire envoy, Slack a t notifi."),b("")}catch(p){alert("Erreur: "+p.message)}},re=()=>t.filter(p=>p.is_active!==!1).filter(p=>p.type_produit!=="service").sort((p,$)=>{const O=p.display_order!==null&&p.display_order!==void 0?Number(p.display_order):999,F=$.display_order!==null&&$.display_order!==void 0?Number($.display_order):999;return O!==F?O-F:(p.name||"").localeCompare($.name||"","fr",{sensitivity:"base"})}),Oe=(p,$)=>{if(k($),p.dataTransfer.effectAllowed="move",I.has($.code_produit)&&I.size>1){const O=document.createElement("div");O.style.position="absolute",O.style.top="-1000px",O.style.padding="8px 12px",O.style.backgroundColor="#3B82F6",O.style.color="white",O.style.borderRadius="8px",O.style.fontWeight="bold",O.style.fontSize="14px",O.textContent=` ${I.size} produits`,document.body.appendChild(O),p.dataTransfer.setDragImage(O,0,0),setTimeout(()=>document.body.removeChild(O),0)}},we=p=>{p.preventDefault(),p.dataTransfer.dropEffect="move"},ke=(p,$)=>{if(p.preventDefault(),!_)return;const O=I.has(_.code_produit)&&I.size>1?Array.from(I):[_.code_produit];if(O.includes($.code_produit)){k(null);return}const F=[...v];if(F.findIndex(se=>se.code_produit===$.code_produit)===-1){k(null);return}const ae=F.filter(se=>O.includes(se.code_produit)),G=F.filter(se=>!O.includes(se.code_produit)),Z=G.findIndex(se=>se.code_produit===$.code_produit),ve=[...G.slice(0,Z),...ae,...G.slice(Z)];ve.forEach((se,Ve)=>{se.display_order=Ve+1}),w(ve),x(!0),k(null)},_t=()=>{k(null)},Kt=async()=>{try{if(!(await fetch(`${me}/api/inventaire/catalogue/batch-order`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({products:v.map($=>({code_produit:$.code_produit,display_order:$.display_order}))})})).ok)throw new Error("Erreur sauvegarde");x(!1),alert(`Ordre sauvegard pour ${v.length} produits`),setTimeout(()=>{Je()},100)}catch(p){alert("Erreur: "+p.message)}},jt=m.useMemo(()=>{let p=v;return T||(p=p.filter($=>$.is_active!==!1)),P&&(p=p.filter($=>{var O,F,Q,ae;return((O=$.name)==null?void 0:O.toLowerCase().includes(P.toLowerCase()))||((F=$.code_produit)==null?void 0:F.toLowerCase().includes(P.toLowerCase()))||((Q=$.category)==null?void 0:Q.toLowerCase().includes(P.toLowerCase()))||((ae=$.variant_group)==null?void 0:ae.toLowerCase().includes(P.toLowerCase()))})),p},[v,T,P]);if(a)return o.jsx("div",{className:"p-8 text-center",children:o.jsx("div",{className:"text-gray-500",children:"Chargement..."})});if(l)return o.jsx("div",{className:"p-8",children:o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-700",children:["Erreur: ",l]})});const Vt=re(),ue=(e==null?void 0:e.role)==="admin",U=(p=>({"asutton@piano-tek.com":"allan","nlessard@piano-tek.com":"nicolas","jpreny@gmail.com":"jeanphilippe"})[p==null?void 0:p.toLowerCase()]||(p==null?void 0:p.split("@")[0])||"allan")(e==null?void 0:e.email),W=(()=>{const p=gr.find($=>$.username===U);return p?[p,...gr.filter($=>$.username!==U)]:gr})();return o.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" Inventaire"}),o.jsx("div",{className:"text-sm text-gray-600",children:(e==null?void 0:e.name)||"Utilisateur"})]}),o.jsxs("div",{className:"flex gap-2 mb-6 border-b border-gray-200",children:[o.jsx("button",{onClick:()=>d("inventaire"),className:`px-4 py-2 font-medium ${u==="inventaire"?"border-b-2 border-blue-500 text-blue-600":"text-gray-600 hover:text-gray-800"}`,children:"Inventaire"}),ue&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>d("transactions"),className:`px-4 py-2 font-medium ${u==="transactions"?"border-b-2 border-blue-500 text-blue-600":"text-gray-600 hover:text-gray-800"}`,children:"Transactions"}),o.jsx("button",{onClick:()=>{d("configuration"),w([...t])},className:`px-4 py-2 font-medium ${u==="configuration"?"border-b-2 border-blue-500 text-blue-600":"text-gray-600 hover:text-gray-800"}`,children:" Configuration"})]})]}),u==="inventaire"&&o.jsxs("div",{children:[o.jsxs("div",{className:`mb-4 bg-blue-50 border border-blue-200 rounded-lg ${Te?"p-3":"p-4"}`,children:[o.jsxs("label",{className:`block ${Te?"text-xs":"text-sm"} font-medium text-gray-700 mb-2`,children:[" Commentaire rapide ",!Te&&"(notifie le CTO via Slack)"]}),o.jsxs("div",{className:`flex ${Te?"flex-col":"flex-row"} gap-2`,children:[o.jsx("input",{type:"text",value:g,onChange:p=>b(p.target.value),onKeyDown:p=>p.key==="Enter"&&Ot(),placeholder:Te?"Commentaire...":"Ex: Besoin urgent de coupelles brunes...",className:`flex-1 border rounded ${Te?"px-2 py-2 text-base":"px-3 py-2 text-sm"}`}),o.jsx("button",{onClick:Ot,className:`${Te?"w-full px-4 py-2.5":"px-4 py-2"} bg-blue-600 text-white rounded hover:bg-blue-700 font-medium ${Te?"text-base":"text-sm"}`,children:"Envoyer"})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow overflow-auto",style:{maxHeight:Te?"80vh":"70vh"},children:o.jsxs("table",{className:"min-w-full border-collapse",children:[o.jsx("thead",{className:"bg-gray-50 sticky top-0 z-10",children:o.jsxs("tr",{children:[o.jsx("th",{className:`${Te?"px-2 py-2":"px-4 py-3"} text-left text-xs font-medium text-gray-500 uppercase border-b sticky left-0 bg-gray-50 z-20`,children:"Produit"}),W.map(p=>Te&&!ue&&p.username!==U?null:o.jsx("th",{className:`${Te?"px-2 py-2":"px-4 py-3"} text-center text-xs font-medium text-gray-500 uppercase border-b`,children:Te?p.name.substring(0,4):p.name},p.username))]})}),o.jsx("tbody",{children:Vt.map(p=>o.jsxs("tr",{className:"hover:bg-gray-50 border-b",children:[o.jsx("td",{className:`${Te?"px-2 py-2":"px-4 py-3"} text-sm text-gray-900 sticky left-0 bg-white border-r font-medium`,style:{minWidth:Te?"150px":"200px"},children:o.jsxs("div",{className:Te?"text-xs":"text-sm",children:[p.name,p.variant_label&&o.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",p.variant_label,")"]})]})}),W.map($=>{var G;if(Te&&!ue&&$.username!==U)return null;const O=((G=p.quantities)==null?void 0:G[$.username])||0,F=$.username===U,Q=p.code_produit+$.username,ae=y[Q];return o.jsx("td",{className:`${Te?"px-2 py-2":"px-4 py-3"} text-center`,children:o.jsx("input",{type:"number",min:"0",value:O,onChange:Z=>gt(p.code_produit,$.username,Z.target.value),onFocus:Z=>Z.target.select(),onClick:Z=>Z.target.select(),className:`${Te?"w-16 text-base":"w-20 text-sm"} px-2 py-1 text-center border rounded ${F?"bg-green-50 border-green-300 font-bold":"border-gray-300"} ${ae?"bg-green-200":""}`,style:ae?{transition:"background-color 0.3s"}:{}})},$.username)})]},p.code_produit))})]})})]}),u==="transactions"&&o.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Produit"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Technicien"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Quantit"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Motif"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(p=>{const $=t.find(F=>F.code_produit===p.code_produit),O=($==null?void 0:$.name)||p.code_produit;return o.jsxs("tr",{children:[o.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:new Date(p.created_at).toLocaleDateString("fr-CA")}),o.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:O}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:p.technicien}),o.jsx("td",{className:"px-4 py-3 text-sm",children:o.jsx("span",{className:`px-2 py-1 rounded text-xs ${p.type_transaction==="ajout"?"bg-green-100 text-green-700":p.type_transaction==="retrait"?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:p.type_transaction})}),o.jsxs("td",{className:"px-4 py-3 text-sm text-gray-700 font-medium",children:[p.quantite>0?"+":"",p.quantite]}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:p.motif||"-"})]},p.id)})})]}),r.length===0&&o.jsx("div",{className:"p-8 text-center text-gray-500",children:"Aucune transaction"})]}),u==="configuration"&&ue&&o.jsxs("div",{children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:" Configuration Inventaire"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Gestion du catalogue, synchronisation Gazelle et configuration des produits"})]}),o.jsxs("div",{className:"flex gap-2 mb-6 border-b border-gray-200",children:[o.jsx("button",{onClick:()=>Be("catalogue"),className:`px-4 py-2 font-medium ${je==="catalogue"?"border-b-2 border-green-500 text-green-600":"text-gray-600 hover:text-gray-800"}`,children:" Catalogue"}),o.jsx("button",{onClick:()=>Be("duplicates"),className:`px-4 py-2 font-medium ${je==="duplicates"?"border-b-2 border-purple-500 text-purple-600":"text-gray-600 hover:text-gray-800"}`,children:" Doublons Gazelle"}),o.jsx("button",{onClick:()=>Be("import"),className:`px-4 py-2 font-medium ${je==="import"?"border-b-2 border-blue-500 text-blue-600":"text-gray-600 hover:text-gray-800"}`,children:" Import Gazelle"})]}),je==="duplicates"&&o.jsxs("div",{children:[o.jsxs("div",{className:"mb-4 flex gap-3 flex-wrap",children:[o.jsx("button",{onClick:async()=>{try{pe(!0);const p=await fetch(`${me}/api/inventaire/catalogue/sync-gazelle-smart?force=false&max_age_hours=24`,{method:"POST"});if(!p.ok){const O=await p.json().catch(()=>({detail:"Erreur inconnue"}));throw new Error(O.detail||`Erreur ${p.status}`)}const $=await p.json();alert(` Synchronisation intelligente termine!

 ${$.updated} produits mis  jour
 ${$.skipped||0} produits dj  jour (synchronisation non ncessaire)
 ${$.total} produits associs  Gazelle
`+($.errors?`
 ${$.errors.length} erreurs`:"")),await Je()}catch(p){alert(" Erreur: "+p.message)}finally{pe(!1)}},disabled:Ce,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 font-semibold shadow-md",children:Ce?" Synchronisation...":" Sync auto (produits dj associs)"}),o.jsx("button",{onClick:async()=>{if(confirm(` Importer TOUS les items du Master Service List (MSL) ?

Cela va crer/mettre  jour tous les produits dans le catalogue local.
Ncessaire pour le calcul des commissions et la mise  jour automatique.`))try{pe(!0);const p=await fetch(`${me}/api/inventaire/catalogue/import-all-msl`,{method:"POST"});if(!p.ok){const O=await p.json().catch(()=>({detail:"Erreur inconnue"}));throw new Error(O.detail||`Erreur ${p.status}`)}const $=await p.json();alert(` Import MSL termin!

 ${$.created} nouveaux produits crs
 ${$.updated} produits mis  jour
 ${$.total_msl} items dans le MSL
`+($.errors?`
 ${$.errors.length} erreurs`:"")),await Je()}catch(p){alert(" Erreur: "+p.message)}finally{pe(!1)}},disabled:Ce,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 font-semibold shadow-md",children:Ce?" Import...":" Importer tous les items MSL"}),o.jsx("button",{onClick:async()=>{try{pe(!0);const p=await fetch(`${me}/api/inventaire/gazelle/find-duplicates?threshold=0.75`);if(!p.ok){const G=await p.json().catch(()=>({detail:"Erreur inconnue"}));throw new Error(G.detail||`Erreur ${p.status}`)}const $=await p.json(),O=$.duplicates||[],F=$.count!==void 0?$.count:O.length,Q=$.gazelle_available||!1;ce(O);let ae="";F>0?(ae=` ${F} doublon${F>1?"s":""} potentiel${F>1?"s":""} dtect${F>1?"s":""}`,Q||(ae+=`
(Comparaison uniquement dans le catalogue local - Gazelle non configur)`)):(ae=" Aucun doublon dtect avec un seuil de similarit de 75%",Q||(ae+=`
(Comparaison uniquement dans le catalogue local - Gazelle non configur)`)),alert(ae)}catch(p){alert("Erreur: "+p.message)}finally{pe(!1)}},disabled:Ce,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50",children:Ce?" Analyse...":" Dtecter nouveaux doublons"}),o.jsx("span",{className:"text-sm text-gray-600 self-center",children:xe.length>0&&`${xe.length} doublons trouvs`})]}),xe.length===0?o.jsx("div",{className:"text-center py-12 text-gray-500",children:'Cliquez sur "Dtecter les doublons" pour trouver les produits similaires entre votre catalogue et Gazelle'}):o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[" ",o.jsx("strong",{children:"Glissez-dposez"})," un produit Gazelle (violet) sur un produit local (bleu) pour les fusionner"]})}),xe.map((p,$)=>p.gazelle_id?o.jsxs("div",{className:"border border-gray-300 rounded-lg p-4 bg-white",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"border-2 border-blue-300 bg-blue-50 rounded p-3 relative",onDragOver:O=>O.preventDefault(),onDrop:async O=>{if(O.preventDefault(),Ae&&Ae.gazelle_id){try{if(!(await fetch(`${me}/api/inventaire/catalogue/map-gazelle`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code_produit:p.local_code,gazelle_product_id:Ae.gazelle_id,update_prices:!0})})).ok)throw new Error("Erreur association");ce(xe.filter((Q,ae)=>ae!==$)),await Je()}catch(F){alert(" Erreur: "+F.message)}he(null)}},children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("span",{className:"px-2 py-1 bg-blue-600 text-white text-xs font-bold rounded",children:"LOCAL"}),o.jsx("span",{className:"font-mono text-xs text-gray-600",children:p.local_code})]}),o.jsx("p",{className:"font-semibold text-gray-800 mb-1",children:p.local_nom}),o.jsxs("p",{className:"text-xs text-gray-600",children:["Prix: ",(p.local_price||0).toFixed(2),"$"]})]}),o.jsxs("div",{draggable:!0,onDragStart:()=>he(p),onDragEnd:()=>he(null),className:"border-2 border-purple-300 bg-purple-50 rounded p-3 cursor-move hover:shadow-lg transition-shadow",children:[o.jsx("div",{className:"flex items-center justify-between mb-2",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"px-2 py-1 bg-purple-600 text-white text-xs font-bold rounded",children:"GAZELLE"}),o.jsxs("span",{className:"text-xs font-bold text-green-600",children:[(p.similarity||0).toFixed(1),"%"]})]})}),o.jsx("p",{className:"font-semibold text-gray-800 mb-1",children:p.gazelle_nom||"N/A"}),o.jsxs("p",{className:"text-xs text-gray-600",children:["Prix: ",(p.gazelle_price||0).toFixed(2),"$"]}),o.jsxs("p",{className:"text-xs text-gray-600",children:["Diff: ",(p.price_diff||0).toFixed(2),"$"]})]})]}),o.jsxs("div",{className:"mt-3 flex gap-2",children:[o.jsx("button",{onClick:async()=>{try{if(!(await fetch(`${me}/api/inventaire/catalogue/map-gazelle`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code_produit:p.local_code,gazelle_product_id:p.gazelle_id,update_prices:!0})})).ok)throw new Error("Erreur");ce(xe.filter((F,Q)=>Q!==$)),await Je()}catch(O){alert(" Erreur: "+O.message)}},className:"px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700",children:" Associer"}),o.jsx("button",{onClick:()=>ce(xe.filter((O,F)=>F!==$)),className:"px-3 py-1 text-sm bg-gray-300 text-gray-700 rounded hover:bg-gray-400",children:" Ignorer"})]})]},$):null)]})]}),je==="import"&&o.jsxs("div",{children:[o.jsx("button",{onClick:async()=>{try{pe(!0);const $=await(await fetch(`${me}/api/inventaire/gazelle/products`)).json();Ne($.products||[]),alert(`${$.count} produits chargs`)}catch(p){alert("Erreur: "+p.message)}finally{pe(!1)}},disabled:Ce,className:"mb-4 px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 disabled:opacity-50",children:Ce?" Chargement...":" Charger Master Service Items"}),Y.length===0?o.jsx("div",{className:"text-center py-12 text-gray-500",children:"Chargez les Master Service Items pour voir tous les produits Gazelle"}):o.jsxs("div",{children:[o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded p-3 mb-3 text-sm text-blue-800",children:[" ",o.jsx("strong",{children:"Import automatique"})," : L'ID Gazelle sera utilis comme code produit (masqu dans l'interface)"]}),o.jsxs("div",{className:"bg-gray-50 border border-gray-300 rounded p-4 mb-4",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[o.jsxs("span",{className:"font-semibold text-sm",children:["Configuration batch (",Ee.size," slectionns)"]}),o.jsx("button",{onClick:()=>{Ee.size===Y.length?ye(new Set):ye(new Set(Y.map(p=>p.id)))},className:"text-sm text-blue-600 hover:underline",children:Ee.size===Y.length?" Tout dslectionner":" Tout slectionner"})]}),o.jsxs("div",{className:"flex gap-3 flex-wrap items-center",children:[o.jsxs("select",{value:Se,onChange:p=>Ye(p.target.value),className:"px-3 py-2 border rounded",children:[o.jsx("option",{value:"Services",children:"Services"}),o.jsx("option",{value:"Pices",children:"Pices"}),o.jsx("option",{value:"Fournitures",children:"Fournitures"}),o.jsx("option",{value:"Accessoires",children:"Accessoires"})]}),o.jsxs("select",{value:Me,onChange:p=>De(p.target.value),className:"px-3 py-2 border rounded",children:[o.jsx("option",{value:"service",children:"Service (pas d'inventaire)"}),o.jsx("option",{value:"produit",children:"Produit (avec inventaire)"}),o.jsx("option",{value:"fourniture",children:"Fourniture (inventaire, pas commission)"})]}),o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",checked:Fe,onChange:p=>$e(p.target.checked)}),o.jsx("span",{className:"text-sm",children:"Commission"})]}),o.jsx("input",{type:"number",value:Ue,onChange:p=>de(parseFloat(p.target.value)||0),placeholder:"Taux %",min:"0",max:"100",step:"0.1",className:"w-24 px-3 py-2 border rounded"}),o.jsxs("button",{onClick:async()=>{if(Ee.size===0){alert(" Aucun produit slectionn");return}const p=Y.filter(F=>Ee.has(F.id));let $=0,O=[];for(const F of p)try{const Q=await fetch(`${me}/api/inventaire/catalogue/import-gazelle`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({gazelle_product_id:F.id,has_commission:Fe,commission_rate:Ue,categorie:Se,type_produit:Me})});if(Q.ok)$++;else{const ae=await Q.json().catch(()=>({detail:"Erreur inconnue"}));O.push(`${F.name_fr}: ${ae.detail}`)}}catch(Q){O.push(`${F.name_fr}: ${Q.message}`)}Ne(Y.filter(F=>!Ee.has(F.id))),ye(new Set),alert(` Import termin!

${$} produits imports
`+(O.length>0?`
 ${O.length} erreurs:
${O.slice(0,5).join(`
`)}`:"")),await Je()},disabled:Ee.size===0,className:"ml-auto px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 font-semibold disabled:opacity-50",children:[" Importer slection (",Ee.size,")"]})]})]}),o.jsx("div",{className:"space-y-2 max-h-[500px] overflow-y-auto",children:Y.map((p,$)=>o.jsx("div",{className:`border rounded p-3 ${Ee.has(p.id)?"bg-blue-50 border-blue-300":"bg-white"}`,children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("input",{type:"checkbox",checked:Ee.has(p.id),onChange:O=>{const F=new Set(Ee);O.target.checked?F.add(p.id):F.delete(p.id),ye(F)},className:"mt-1"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-semibold text-gray-900",children:p.name_fr}),p.description_fr&&o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:p.description_fr}),o.jsxs("div",{className:"flex gap-3 mt-2 text-xs",children:[o.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded",children:["Prix: ",(parseFloat(p.amount||0)/100).toFixed(2),"$"]}),o.jsxs("span",{className:"bg-purple-100 text-purple-800 px-2 py-1 rounded",children:["Groupe: ",p.group_name_fr||"N/A"]})]})]}),o.jsx("button",{onClick:()=>{Ne(Y.filter((F,Q)=>Q!==$));const O=new Set(Ee);O.delete(p.id),ye(O)},className:"px-2 py-1 text-gray-400 hover:text-red-600 text-lg",title:"Masquer de la liste",children:""})]})},$))})]})]}),je==="catalogue"&&o.jsxs("div",{children:[I.size>0&&o.jsxs("div",{className:"mb-4 p-4 bg-blue-50 border-2 border-blue-300 rounded-lg shadow-md",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"px-3 py-1 bg-blue-600 text-white rounded-full font-bold text-sm",children:I.size}),o.jsxs("span",{className:"text-blue-900 font-medium",children:["produit",I.size>1?"s":""," slectionn",I.size>1?"s":""]}),o.jsx("span",{className:"text-blue-700 text-sm",children:" Glissez-dposez pour rorganiser en batch"})]}),o.jsx("button",{onClick:()=>{z(new Set),M(null)},className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:" Dslectionner tout"})]}),o.jsxs("div",{className:"flex gap-4 items-center flex-wrap",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Type:"}),o.jsxs("select",{value:D,onChange:p=>{X(p.target.value),p.target.value==="fourniture"&&J(!1)},className:"border rounded px-3 py-2 text-sm",children:[o.jsx("option",{value:"produit",children:"Produit"}),o.jsx("option",{value:"service",children:"Service"}),o.jsx("option",{value:"fourniture",children:"Fourniture"})]})]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[o.jsx("input",{type:"checkbox",checked:K,onChange:p=>J(p.target.checked),disabled:D==="fourniture",className:"w-4 h-4"}),o.jsx("span",{className:D==="fourniture"?"text-gray-400":"text-gray-700",children:"Commissionnable (10%)"})]})}),o.jsxs("button",{onClick:async()=>{if(I.size===0){alert("Slectionnez au moins un produit");return}try{const p=await fetch(`${me}/api/inventaire/catalogue/batch-type-commission`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({codes_produit:Array.from(I),type_produit:D,has_commission:K})});if(!p.ok)throw new Error("Erreur mise  jour");const $=await p.json();alert($.message),await Je(),z(new Set),M(null)}catch(p){alert("Erreur: "+p.message)}},disabled:I.size===0,className:`px-4 py-2 rounded font-medium ${I.size>0?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:["Appliquer  ",I.size," produit",I.size>1?"s":""]}),o.jsxs("button",{onClick:async()=>{var G,Z;if(I.size!==2){alert(" Vous devez slectionner exactement 2 produits  fusionner");return}const p=Array.from(I),$=v.find(ve=>ve.code_produit===p[0]),O=v.find(ve=>ve.code_produit===p[1]);if(!$||!O){alert(" Erreur: Produits non trouvs");return}const F=window.confirm(` Fusionner les produits:

[1] ${$.name} (${$.code_produit})
[2] ${O.name} (${O.code_produit})

Cliquez OK pour GARDER le produit [1] et transfrer les quantits de [2]
Cliquez Annuler pour GARDER le produit [2] et transfrer les quantits de [1]`),Q=F?$.code_produit:O.code_produit,ae=F?O.code_produit:$.code_produit;if(window.confirm(` CONFIRMATION FINALE:

Produit conserv: ${(G=v.find(ve=>ve.code_produit===Q))==null?void 0:G.name}
Produit supprim: ${(Z=v.find(ve=>ve.code_produit===ae))==null?void 0:Z.name}

Les quantits de tous les techniciens seront transfres.
Cette action est IRRVERSIBLE.

Continuer?`))try{const ve=await fetch(`${me}/api/inventaire/catalogue/merge`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({keep_code:Q,merge_code:ae})});if(!ve.ok){const Ve=await ve.json().catch(()=>({detail:"Erreur inconnue"}));throw new Error(Ve.detail||"Erreur fusion")}const se=await ve.json();alert(` ${se.message}

Quantits transfres pour ${se.technicians_updated||0} technicien(s)`),await Je(),z(new Set),M(null)}catch(ve){alert(" Erreur: "+ve.message)}},disabled:I.size!==2,className:`px-4 py-2 rounded font-medium ${I.size===2?"bg-purple-600 text-white hover:bg-purple-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,title:"Fusionner 2 produits (transfrer quantits et supprimer un produit)",children:[" Fusionner ",I.size===2?"(2 slectionns)":`(${I.size}/2)`]})]})]}),o.jsxs("div",{className:"mb-4 flex justify-between items-center flex-wrap gap-4",children:[o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("input",{type:"text",value:P,onChange:p=>A(p.target.value),placeholder:"Rechercher: nom, code, catgorie, variante...",className:"border rounded px-3 py-2 text-sm w-80"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"showInactive",checked:T,onChange:p=>E(p.target.checked),className:"w-4 h-4"}),o.jsxs("label",{htmlFor:"showInactive",className:"text-sm text-gray-600",children:["Afficher les produits inactifs (",v.filter(p=>p.is_active===!1).length,")"]})]})]}),o.jsxs("div",{className:"flex gap-2 flex-wrap items-center",children:[I.size>0&&o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>{const p=Array.from(I),$=[...v],O=p.map(F=>$.findIndex(Q=>Q.code_produit===F)).filter(F=>F!==-1).sort((F,Q)=>F-Q);if(O[0]===0){alert("Les produits slectionns sont dj en haut");return}O.forEach(F=>{F>0&&!p.includes($[F-1].code_produit)&&([$[F],$[F-1]]=[$[F-1],$[F]])}),$.forEach((F,Q)=>{F.display_order=Q+1}),w($),x(!0)},className:"px-3 py-2 bg-gray-600 text-white rounded font-medium hover:bg-gray-700 text-sm",title:"Dplacer la slection vers le haut",children:[" Monter (",I.size,")"]}),o.jsxs("button",{onClick:()=>{const p=Array.from(I),$=[...v],O=p.map(F=>$.findIndex(Q=>Q.code_produit===F)).filter(F=>F!==-1).sort((F,Q)=>Q-F);if(O[0]===$.length-1){alert("Les produits slectionns sont dj en bas");return}O.forEach(F=>{F<$.length-1&&!p.includes($[F+1].code_produit)&&([$[F],$[F+1]]=[$[F+1],$[F]])}),$.forEach((F,Q)=>{F.display_order=Q+1}),w($),x(!0)},className:"px-3 py-2 bg-gray-600 text-white rounded font-medium hover:bg-gray-700 text-sm",title:"Dplacer la slection vers le bas",children:[" Descendre (",I.size,")"]})]}),o.jsx(bk,{data:v,filename:"catalogue_admin"}),o.jsx("button",{onClick:Kt,className:`px-4 py-2 rounded font-medium ${f?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-600 cursor-not-allowed"}`,disabled:!f,children:" Sauvegarder l'ordre"})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow overflow-auto",children:[o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-center",children:o.jsx("input",{type:"checkbox",checked:I.size===jt.length&&jt.length>0,onChange:p=>{p.target.checked?z(new Set(jt.map($=>$.code_produit))):z(new Set),M(null)},className:"w-4 h-4",title:"Slectionner tous les produits"})}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Ordre"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Code"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Nom"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Catgorie"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Commission"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Variante"}),W.map(p=>o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:p.name},p.username)),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(()=>{const p=[...jt].sort(($,O)=>($.display_order||0)-(O.display_order||0));return p.map(($,O)=>{const F=I.has($.code_produit),Q=$.type_produit||"(non dfini)",ae=$.has_commission||!1;return o.jsxs("tr",{draggable:!0,onDragStart:G=>Oe(G,$),onDragOver:we,onDrop:G=>ke(G,$),onDragEnd:_t,className:`hover:bg-gray-50 cursor-move transition-all ${(_==null?void 0:_.code_produit)===$.code_produit?"opacity-30 bg-blue-100":""} ${$.is_active?"":"bg-gray-100 line-through text-gray-400"} ${F&&!_?"bg-blue-50 border-l-4 border-blue-500":""} ${F&&_?"opacity-60 bg-blue-200":""}`,children:[o.jsx("td",{className:"px-4 py-3 text-center",children:o.jsx("input",{type:"checkbox",checked:F,onMouseDown:G=>{G.preventDefault(),G.stopPropagation();const Z=G.shiftKey,ve=new Set(I);if(console.log("[Inventaire] Checkbox mousedown - shiftKey:",Z),Z&&H!==null){const se=Math.min(H,O),Ve=Math.max(H,O);console.log("[Shift+Click] Range selection:",{lastIndex:H,currentIndex:O,start:se,end:Ve,rangeSize:Ve-se+1});for(let ot=se;ot<=Ve;ot++)ve.add(p[ot].code_produit),console.log(`   Adding ${ot}: ${p[ot].code_produit}`);console.log("[Shift+Click] Total selected after range:",ve.size)}else ve.has($.code_produit)?(ve.delete($.code_produit),console.log("[Click] Removed:",$.code_produit)):(ve.add($.code_produit),console.log("[Click] Added:",$.code_produit));z(ve),M(O)},onChange:()=>{},className:"w-4 h-4","data-version":"v2-shift-fix"})}),o.jsx("td",{className:"px-4 py-3 text-sm",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"number",value:$.display_order||0,onChange:G=>{const Z=parseInt(G.target.value)||0,ve=v.map(se=>se.code_produit===$.code_produit?{...se,display_order:Z}:se);w(ve),x(!0)},className:`w-20 border-2 rounded px-3 py-1 text-sm font-medium ${P?"border-blue-500 bg-blue-50 text-blue-900":"border-gray-300"}`,title:"Modifier la position - Cliquez pour changer l'ordre d'affichage",placeholder:"Position"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("button",{onClick:()=>{if(O===0)return;const G=[...v],Z=G[O-1].display_order;G[O-1].display_order=G[O].display_order,G[O].display_order=Z,w(G),x(!0)},disabled:O===0,className:"text-gray-600 hover:text-blue-600 disabled:text-gray-300 text-xs",children:""}),o.jsx("button",{onClick:()=>{if(O===jt.length-1)return;const G=[...v],Z=G[O+1].display_order;G[O+1].display_order=G[O].display_order,G[O].display_order=Z,w(G),x(!0)},disabled:O===jt.length-1,className:"text-gray-600 hover:text-blue-600 disabled:text-gray-300 text-xs",children:""})]})]})}),o.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-400 italic",children:"***"}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:$.name}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:$.category}),o.jsx("td",{className:"px-4 py-3 text-sm",children:o.jsx("span",{className:`px-2 py-1 rounded text-xs ${$.type_produit?$.type_produit==="service"?"bg-purple-100 text-purple-700":$.type_produit==="fourniture"?"bg-orange-100 text-orange-700":"bg-green-100 text-green-700":"bg-gray-100 text-gray-500 italic"}`,children:Q})}),o.jsx("td",{className:"px-4 py-3 text-center text-sm",children:$.type_produit==="fourniture"?o.jsx("span",{className:"text-gray-400 text-xs",children:"- (bloqu)"}):ae?o.jsx("span",{className:"text-green-600 font-medium",children:" 10%"}):o.jsx("span",{className:"text-gray-400",children:""})}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:$.variant_group&&o.jsxs("div",{children:[o.jsx("strong",{children:$.variant_group}),$.variant_label&&` (${$.variant_label})`]})}),gr.map(G=>{var Ve;const Z=((Ve=$.quantities)==null?void 0:Ve[G.username])||0,ve=$.code_produit+G.username,se=y[ve];return o.jsx("td",{className:"px-4 py-3 text-sm text-center",children:o.jsx("input",{type:"number",min:"0",value:Z,onChange:ot=>gt($.code_produit,G.username,ot.target.value),onFocus:ot=>ot.target.select(),onClick:ot=>ot.target.select(),className:`w-20 px-2 py-1 text-center border rounded text-sm ${se?"bg-green-200 border-green-400":"border-gray-300"}`,style:se?{transition:"background-color 0.3s"}:{}})},G.username)}),o.jsx("td",{className:"px-4 py-3 text-sm",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>{R({...$}),j(!0)},className:"text-blue-600 hover:text-blue-800 font-medium text-xs",title:"Modifier le produit",children:""}),o.jsx("button",{onClick:async()=>{try{const G=await fetch(`${me}/api/inventaire/catalogue/${$.code_produit}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_active:!$.is_active})});if(!G.ok){const Z=await G.json().catch(()=>({detail:"Erreur inconnue"}));throw new Error(Z.detail||"Erreur toggle")}await Je()}catch(G){alert("Erreur: "+G.message)}},className:`font-medium text-xs ${$.is_active?"text-orange-600 hover:text-orange-800":"text-green-600 hover:text-green-800"}`,title:$.is_active?"Masquer de l'inventaire technicien (reste visible en Admin)":"Afficher dans l'inventaire technicien",children:$.is_active?"":""}),o.jsx("button",{onClick:async()=>{const G=$.is_active!==!1,Z=!G;if(window.confirm(G?` Archiver "${$.name}" (${$.code_produit}) ?

Le produit sera masqu de l'inventaire mais les donnes seront conserves.`:` Ractiver "${$.name}" (${$.code_produit}) ?

Le produit redeviendra visible dans l'inventaire.`))try{if(!(await fetch(`${me}/api/inventaire/catalogue`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code_produit:$.code_produit,is_active:Z})})).ok)throw new Error("Erreur mise  jour statut");alert(Z?" Produit ractiv":" Produit archiv"),await Je()}catch(ve){alert("Erreur: "+ve.message)}},className:`font-medium text-lg ${$.is_active!==!1?"text-red-600 hover:text-red-800":"text-green-600 hover:text-green-800"}`,title:$.is_active!==!1?"Archiver (masquer)":"Ractiver",children:$.is_active!==!1?"":""})]})})]},$.code_produit)})})()})]}),jt.length===0&&o.jsx("div",{className:"p-8 text-center text-gray-500",children:"Aucun produit trouv"})]})]})]}),L&&C&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>{j(!1),R(null)},children:o.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",onClick:p=>p.stopPropagation(),children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["Modifier: ",C.code_produit]}),o.jsx("button",{onClick:()=>{j(!1),R(null)},className:"text-gray-500 hover:text-gray-700 text-2xl",children:""})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom du produit"}),o.jsx("input",{type:"text",value:C.name||"",onChange:p=>R({...C,name:p.target.value}),className:"w-full border rounded px-3 py-2"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Catgorie"}),o.jsxs("select",{value:C.category||"",onChange:p=>R({...C,category:p.target.value}),className:"w-full border rounded px-3 py-2",children:[o.jsx("option",{value:"Cordes",children:"Cordes"}),o.jsx("option",{value:"Feutres",children:"Feutres"}),o.jsx("option",{value:"Accessoire",children:"Accessoire"}),o.jsx("option",{value:"Service",children:"Service"}),o.jsx("option",{value:"Fourniture",children:"Fourniture"}),o.jsx("option",{value:"Produit",children:"Produit"}),o.jsx("option",{value:"Frais",children:"Frais"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prix unitaire ($)"}),o.jsx("input",{type:"number",step:"0.01",value:C.prix_unitaire||"",onChange:p=>R({...C,prix_unitaire:parseFloat(p.target.value)||0}),className:"w-full border rounded px-3 py-2"})]}),o.jsxs("div",{className:"border-t pt-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("input",{type:"checkbox",id:"has_commission",checked:C.has_commission||!1,onChange:p=>R({...C,has_commission:p.target.checked,commission_rate:p.target.checked?C.commission_rate||15:0}),className:"w-4 h-4"}),o.jsx("label",{htmlFor:"has_commission",className:"text-sm font-medium text-gray-700",children:"Activer la commission"})]}),C.has_commission&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Taux de commission (%)"}),o.jsx("input",{type:"number",step:"0.01",value:C.commission_rate||0,onChange:p=>R({...C,commission_rate:parseFloat(p.target.value)||0}),className:"w-full border rounded px-3 py-2"})]})]}),o.jsxs("div",{className:"border-t pt-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Groupe de variantes"}),o.jsx("input",{type:"text",value:C.variant_group||"",onChange:p=>R({...C,variant_group:p.target.value}),placeholder:"Ex: Cordes Piano",className:"w-full border rounded px-3 py-2"})]}),o.jsxs("div",{className:"mt-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Label de variante"}),o.jsx("input",{type:"text",value:C.variant_label||"",onChange:p=>R({...C,variant_label:p.target.value}),placeholder:"Ex: Do#3",className:"w-full border rounded px-3 py-2"})]})]}),o.jsx("div",{className:"border-t pt-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"is_active",checked:C.is_active!==!1,onChange:p=>R({...C,is_active:p.target.checked}),className:"w-4 h-4"}),o.jsx("label",{htmlFor:"is_active",className:"text-sm font-medium text-gray-700",children:"Produit actif"})]})})]}),o.jsxs("div",{className:"mt-6 flex gap-3 justify-end",children:[o.jsx("button",{onClick:()=>{j(!1),R(null)},className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50",children:"Annuler"}),o.jsx("button",{onClick:async()=>{try{if(!(await fetch(`${me}/api/inventaire/catalogue/${C.code_produit}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({nom:C.name,categorie:C.category,prix_unitaire:C.prix_unitaire,has_commission:C.has_commission,commission_rate:C.commission_rate,variant_group:C.variant_group,variant_label:C.variant_label,is_active:C.is_active})})).ok)throw new Error("Erreur lors de la sauvegarde");j(!1),R(null),await Je(),alert("Produit mis  jour avec succs")}catch(p){alert("Erreur: "+p.message)}},className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Enregistrer"})]})]})})]})},qo=Ja.map(e=>({id:e.gazelleId,name:e.abbreviation,prenom:e.prenom,username:e.username})),jk=({currentUser:e,allowComment:t=!0})=>{const[n,r]=m.useState([]),[s,a]=m.useState(!0),[i,l]=m.useState(""),[c,u]=m.useState({}),[d,g]=m.useState(window.innerWidth<=768),b=m.useRef({}),h=(f=>({"asutton@piano-tek.com":"allan","nlessard@piano-tek.com":"nicolas","jpreny@gmail.com":"jeanphilippe"})[f==null?void 0:f.toLowerCase()]||(f==null?void 0:f.split("@")[0])||"test")(e==null?void 0:e.email);e==null||e.email,console.log(" DEBUG Colonne Verte:",{userEmail:e==null?void 0:e.email,mappedUsername:h,availableUsernames:qo.map(f=>f.username)}),m.useEffect(()=>{const f=()=>g(window.innerWidth<=768);return window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[]),m.useEffect(()=>{y()},[]);const y=async()=>{var f;try{a(!0);const x=await fetch(`${me}/api/inventaire/catalogue`);if(!x.ok)throw new Error("Erreur chargement catalogue");const _=await x.json(),k={};_.produits.forEach(C=>{const R={};qo.forEach(L=>{R[L.username]=0}),k[C.code_produit]={id:C.code_produit,code_produit:C.code_produit,name:C.nom,category:C.categorie||"Sans catgorie",variant_label:C.variant_label,display_order:C.display_order||0,is_active:C.is_active!==!1,quantities:R}});const P={Nicolas:"nicolas",Nick:"nicolas",nicolas:"nicolas","nicolas@example.com":"nicolas",Allan:"allan",allan:"allan","allan@example.com":"allan","Jean-Philippe":"jeanphilippe",jeanphilippe:"jeanphilippe","jeanphilippe@example.com":"jeanphilippe"},A=await fetch(`${me}/api/inventaire/techniciens/all`);A.ok&&((f=(await A.json()).inventory)==null||f.forEach(R=>{var L,j;if(k[R.code_produit]){let T=P[R.technicien];if(!T&&((L=R.technicien)!=null&&L.includes("@"))){const E=R.technicien.split("@")[0].toLowerCase();T=P[E]||E}T||(T=(j=R.technicien)==null?void 0:j.toLowerCase().replace("-","")),k[R.code_produit].quantities[T]!==void 0&&(k[R.code_produit].quantities[T]=R.quantite_stock||0)}})),r(Object.values(k).filter(C=>C.is_active))}catch(x){console.error("Erreur chargement inventaire:",x)}finally{a(!1)}},S=async(f,x,_,k=!1)=>{const P=parseInt(_)||0,A=f+x;r(R=>R.map(L=>L.code_produit===f?{...L,quantities:{...L.quantities,[x]:P}}:L)),u(R=>({...R,[A]:!0})),setTimeout(()=>{u(R=>{const L={...R};return delete L[A],L})},500),b.current[A]&&clearTimeout(b.current[A]);const C=async()=>{var R;try{const L=((R=qo.find(E=>E.username===x))==null?void 0:R.prenom)||x,j=await fetch(`${me}/api/inventaire/stock`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code_produit:f,technicien:L,quantite_stock:P,type_transaction:"ajustement",motif:"Ajustement manuel depuis interface"})});if(!j.ok){const E=await j.json().catch(()=>({detail:"Erreur inconnue"}));throw new Error(E.detail||`Erreur ${j.status}`)}const T=await j.json();console.log(" Stock mis  jour:",T),await y()}catch(L){console.error("Erreur sauvegarde:",L),await y()}finally{delete b.current[A]}};k?await C():b.current[A]=setTimeout(C,500)},v=async()=>{if(i.trim())try{const x=await(await fetch(`${me}/api/inventaire/comment`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:i,username:(e==null?void 0:e.name)||"Technicien"})})).json();x.success?(alert(" Commentaire envoy au CTO!"),l("")):alert(" "+(x.message||"Erreur envoi"))}catch(f){alert(" Erreur envoi commentaire: "+f.message)}},w=[...n].sort((f,x)=>{const _=(f.display_order||0)-(x.display_order||0);return _!==0?_:(f.name||"").localeCompare(x.name||"")});return s?o.jsx("div",{className:"p-8 text-center text-gray-500",children:"Chargement..."}):o.jsxs("div",{children:[t&&o.jsxs("div",{className:`mb-4 bg-blue-50 border border-blue-200 rounded-lg ${d?"p-3":"p-4"}`,children:[o.jsxs("label",{className:`block ${d?"text-xs":"text-sm"} font-medium text-gray-700 mb-2`,children:[" Commentaire rapide ",!d&&"(email au CTO)"]}),o.jsxs("div",{className:`flex ${d?"flex-col":"flex-row"} gap-2`,children:[o.jsx("input",{type:"text",value:i,onChange:f=>l(f.target.value),onKeyDown:f=>f.key==="Enter"&&v(),placeholder:d?"Commentaire...":"Ex: Besoin urgent de coupelles brunes...",className:`flex-1 border rounded ${d?"px-2 py-2 text-base":"px-3 py-2 text-sm"}`}),o.jsx("button",{onClick:v,className:`${d?"w-full px-4 py-2.5":"px-4 py-2"} bg-blue-600 text-white rounded hover:bg-blue-700 font-medium ${d?"text-base":"text-sm"}`,children:"Envoyer"})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow overflow-auto",style:{maxHeight:d?"80vh":"70vh"},children:o.jsxs("table",{className:"min-w-full border-collapse",children:[o.jsx("thead",{className:"bg-gray-50 sticky top-0 z-10",children:o.jsxs("tr",{children:[o.jsx("th",{className:`${d?"px-2 py-2":"px-4 py-3"} text-left text-xs font-medium text-gray-500 uppercase border-b sticky left-0 bg-gray-50 z-20`,children:"Produit"}),qo.map(f=>{const x={Allan:"Alla","Jean-Philippe":"J-Ph",Nick:"Nick"},_=f.username===h;return o.jsx("th",{className:`${d?"px-2 py-2":"px-4 py-3"} text-center text-xs font-medium uppercase border-b ${_?"bg-green-100 text-green-800 font-bold":"text-gray-500"}`,children:d?x[f.name]||f.name.substring(0,4):f.name},f.username)})]})}),o.jsx("tbody",{children:w.map(f=>o.jsxs("tr",{className:"hover:bg-gray-50 border-b",children:[o.jsx("td",{className:`${d?"px-2 py-2":"px-4 py-3"} text-sm text-gray-900 sticky left-0 bg-white border-r font-medium`,style:{minWidth:d?"150px":"200px"},children:o.jsxs("div",{className:d?"text-xs":"text-sm",children:[f.name,f.variant_label&&o.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",f.variant_label,")"]})]})}),qo.map(x=>{var C;const _=((C=f.quantities)==null?void 0:C[x.username])||0,k=x.username===h,P=f.code_produit+x.username,A=c[P];return o.jsx("td",{className:`${d?"px-1 py-2":"px-4 py-3"} text-center ${k?"bg-green-50":""}`,children:o.jsx("input",{type:"number",min:"0",value:_,onChange:R=>S(f.code_produit,x.username,R.target.value,!1),onBlur:R=>{const L=parseInt(R.target.value)||0;S(f.code_produit,x.username,L,!0)},onFocus:R=>R.target.select(),onClick:R=>R.target.select(),className:`${d?"w-14 text-sm":"w-20 text-sm"} px-2 py-1 text-center border rounded ${k?"bg-green-100 border-green-400 font-bold text-green-900":"border-gray-300"} ${A?"bg-green-300":""}`,style:A?{transition:"background-color 0.3s"}:{}})},x.username)})]},f.code_produit))})]})})]})},Ph=({currentUser:e})=>o.jsx("div",{className:"p-6",children:o.jsx(jk,{currentUser:e,allowComment:!0})});function Sk({item:e,index:t,rawText:n,currentUser:r,onCorrect:s}){const[a,i]=m.useState(!0),[l,c]=m.useState({appointment_date:e.appointment_date||"",room:e.room||"",for_who:e.for_who||"",diapason:e.diapason||"",piano:e.piano||"",time:e.time||"",requester:e.requester||""}),[u,d]=m.useState(!1),g=l.appointment_date!==(e.appointment_date||"")||l.room!==(e.room||"")||l.for_who!==(e.for_who||"")||l.diapason!==(e.diapason||"")||l.piano!==(e.piano||"")||l.time!==(e.time||"")||l.requester!==(e.requester||""),b=(S,v)=>{c(w=>({...w,[S]:v}))},N=async()=>{d(!0);try{await fetch(`${me}/api/place-des-arts/learn`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({original_text:n,parsed_date:e.appointment_date,parsed_room:e.room,parsed_for_who:e.for_who,parsed_diapason:e.diapason,parsed_piano:e.piano,parsed_time:e.time,parsed_requester:e.requester,parsed_confidence:e.confidence,corrected_date:l.appointment_date,corrected_room:l.room,corrected_for_who:l.for_who,corrected_diapason:l.diapason,corrected_piano:l.piano,corrected_time:l.time,corrected_requester:l.requester,corrected_by:(r==null?void 0:r.email)||"admin"})}),i(!1),s&&s(t,l)}catch(S){console.error("Erreur sauvegarde correction:",S),alert("Erreur lors de l'enregistrement de la correction")}finally{d(!1)}},h=e.confidence>=.8?"text-green-600 bg-green-50":e.confidence>=.6?"text-yellow-600 bg-yellow-50":"text-red-600 bg-red-50",y=e.confidence>=.8?" Haute confiance":e.confidence>=.6?" Moyenne confiance":" Faible confiance - Vrification requise";return a?o.jsxs("div",{className:"px-3 py-3 text-sm space-y-3 bg-blue-50 border-l-4 border-blue-400",children:[o.jsx("div",{className:"flex items-center justify-between mb-2",children:o.jsxs("span",{className:`text-xs px-2 py-1 rounded ${h}`,children:[y," (",Math.round(e.confidence*100),"%) - Mode dition"]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Date RDV"}),o.jsx("input",{type:"date",value:l.appointment_date,onChange:S=>b("appointment_date",S.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Heure"}),o.jsx("input",{type:"text",value:l.time,onChange:S=>b("time",S.target.value),placeholder:"Ex: 13h00",className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Salle"}),o.jsxs("select",{value:l.room,onChange:S=>b("room",S.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[o.jsx("option",{value:"",children:"-- Slectionner --"}),o.jsx("option",{value:"WP",children:"WP - Wilfrid-Pelletier"}),o.jsx("option",{value:"TM",children:"TM - Thtre Maisonneuve"}),o.jsx("option",{value:"MS",children:"MS - Maison Symphonique"}),o.jsx("option",{value:"SD",children:"SD - Salle D"}),o.jsx("option",{value:"5E",children:"5E - Cinquime Salle"}),o.jsx("option",{value:"C5",children:"C5 - Cinquime Salle (ancien)"}),o.jsx("option",{value:"SCL",children:"SCL - Studio Claude-Lveille"}),o.jsx("option",{value:"TJD",children:"TJD - Thtre Jean-Duceppe"}),o.jsx("option",{value:"ODM",children:"ODM - Opra de Montral"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Diapason"}),o.jsx("input",{type:"text",value:l.diapason,onChange:S=>b("diapason",S.target.value),placeholder:"Ex: 440",className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Pour qui (artiste/vnement)"}),o.jsx("input",{type:"text",value:l.for_who,onChange:S=>b("for_who",S.target.value),placeholder:"Ex: Clmence",className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Demandeur"}),o.jsx("input",{type:"text",value:l.requester,onChange:S=>b("requester",S.target.value),placeholder:"Ex: Isabelle",className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Piano"}),o.jsx("input",{type:"text",value:l.piano,onChange:S=>b("piano",S.target.value),placeholder:"Ex: Piano Baldwin (9')",className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),g&&o.jsx("div",{className:"flex gap-2 pt-2 border-t border-blue-200",children:o.jsx("button",{onClick:N,disabled:u,className:"px-3 py-1.5 text-sm bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50",children:u?"Enregistrement...":" Valider et apprendre"})}),e.warnings&&e.warnings.length>0&&o.jsxs("div",{className:"text-xs text-amber-700 bg-amber-50 border border-amber-200 rounded px-2 py-1",children:["Avertissements: ",e.warnings.join(" | ")]})]}):o.jsxs("div",{className:"px-3 py-3 text-sm space-y-2 bg-white hover:bg-gray-50",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("span",{className:`text-xs px-2 py-1 rounded ${h}`,children:[y," (",Math.round(e.confidence*100),"%)"]}),o.jsx("button",{onClick:()=>i(!0),className:"text-xs text-blue-600 hover:text-blue-800",children:" Modifier"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-gray-600",children:"Date RDV:"}),o.jsx("span",{className:"ml-2",children:e.appointment_date||""}),e.time&&o.jsx("span",{className:"ml-2 text-gray-600",children:e.time})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-gray-600",children:"Salle:"}),o.jsx("span",{className:"ml-2",children:e.room||""})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-gray-600",children:"Pour qui:"}),o.jsx("span",{className:"ml-2",children:e.for_who||""})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-gray-600",children:"Diapason:"}),o.jsx("span",{className:"ml-2",children:e.diapason||""})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("span",{className:"font-medium text-gray-600",children:"Piano:"}),o.jsx("span",{className:"ml-2",children:e.piano||""})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-gray-600",children:"Demandeur:"}),o.jsx("span",{className:"ml-2",children:e.requester||""})]})]}),e.warnings&&e.warnings.length>0&&o.jsxs("div",{className:"text-xs text-amber-700 bg-amber-50 border border-amber-200 rounded px-2 py-1",children:["Avertissements: ",e.warnings.join(" | ")]}),e.duplicate_of&&e.duplicate_of.length>0&&o.jsxs("div",{className:"text-xs text-red-700 bg-red-50 border border-red-200 rounded px-2 py-1",children:["Doublon potentiel : ",e.duplicate_of.join(", ")]})]})}function Nk(e){if(!e)return"";try{return new Date(e).toLocaleDateString("fr-CA")}catch{return""}}function Rh(e,t){return{checked:e>0&&e===t,indeterminate:e>0&&e<t}}function Ck(e){const[t,n]=m.useState(new Set),[r,s]=m.useState(null),a=(g,b)=>{const N=e.indexOf(g),h=e.indexOf(b);if(N===-1||h===-1)return[];const[y,S]=[Math.min(N,h),Math.max(N,h)];return e.slice(y,S+1)},i=(g,b)=>{n(N=>{const h=new Set(N);return b&&r?a(r,g).forEach(S=>h.add(S)):h.has(g)?h.delete(g):h.add(g),h}),b||s(g)},l=()=>n(new Set(e)),c=()=>{n(new Set),s(null)},u=g=>t.has(g),d=t.size;return{selectedIds:t,handleClick:i,selectAll:l,clearAll:c,isSelected:u,count:d}}function kk(){const[e,t]=m.useState([]),[n,r]=m.useState(!0),[s,a]=m.useState(null),[i,l]=m.useState(""),[c,u]=m.useState(!1),[d,g]=m.useState({field:"location",order:"asc"}),[b,N]=m.useState(!1),h=m.useRef(null),y=m.useMemo(()=>e.map(E=>E.gazelleId||E.id),[e]),{selectedIds:S,handleClick:v,selectAll:w,clearAll:f,isSelected:x,count:_}=Ck(y);m.useEffect(()=>{k()},[]);const k=async()=>{try{r(!0),a(null);const E=await fetch(`${me}/api/place-des-arts/pianos?include_inactive=true`);if(!E.ok)throw new Error(`HTTP ${E.status}`);const z=((await E.json()).pianos||[]).map(H=>({gazelleId:H.id||H.gazelleId,location:H.local||H.location||"",make:H.piano||H.make||"",model:H.modele||H.model||"",serialNumber:H.serie||H.serialNumber||"",type:H.type||"U",lastTuned:H.dernierAccord?new Date(H.dernierAccord):null,status:H.status||"normal",isHidden:H.hasNonTag||H.isHidden||!1,notes:H.observations||H.notes||null,travail:H.travail||null,aFaire:H.aFaire||null}));t(z)}catch(E){a(E.message)}finally{r(!1)}},P=m.useMemo(()=>{let E=[...e];if(i.trim()){const I=i.toLowerCase();E=E.filter(z=>(z.location||"").toLowerCase().includes(I)||(z.make||"").toLowerCase().includes(I)||(z.model||"").toLowerCase().includes(I)||(z.serialNumber||"").toLowerCase().includes(I))}return c&&(E=E.filter(I=>I.isHidden)),E.sort((I,z)=>{const H=I[d.field]||"",M=z[d.field]||"",D=d.order==="asc"?1:-1;if(d.field==="lastTuned"){const X=I.lastTuned?new Date(I.lastTuned).getTime():0,K=z.lastTuned?new Date(z.lastTuned).getTime():0;return(X-K)*D}return String(H).localeCompare(String(M))*D}),E},[e,i,c,d]);m.useEffect(()=>{if(h.current){const E=Rh(_,P.length);h.current.checked=E.checked,h.current.indeterminate=E.indeterminate}},[_,P.length]);const A=E=>{g(I=>({field:E,order:I.field===E&&I.order==="asc"?"desc":"asc"}))},C=E=>{E.target.checked?w():f()},R=async E=>{try{const I=!E.isHidden;t(H=>H.map(M=>M.gazelleId===E.gazelleId?{...M,isHidden:I}:M));const z=await fetch(`${me}/api/place-des-arts/pianos/${E.gazelleId}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({isHidden:I})});if(!z.ok){const H=await z.json().catch(()=>({detail:"Erreur HTTP "+z.status}));throw new Error(H.detail||"Erreur lors de la mise  jour")}}catch(I){console.error("Error toggling hidden:",I),t(z=>z.map(H=>H.gazelleId===E.gazelleId?{...H,isHidden:E.isHidden}:H)),alert("Erreur lors de la mise  jour")}},L=async()=>{if(_!==0){N(!0);try{t(E=>E.map(I=>S.has(I.gazelleId)?{...I,isHidden:!1}:I));for(const E of Array.from(S)){const I=await fetch(`${me}/api/place-des-arts/pianos/${E}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({isHidden:!1})});if(!I.ok){const z=await I.json().catch(()=>({detail:"Erreur HTTP "+I.status}));throw new Error(z.detail||"Erreur batch show")}}f(),await k()}catch(E){console.error("Error batch show:",E),alert("Erreur lors de l'affichage group"),await k()}finally{N(!1)}}},j=async()=>{if(_!==0&&confirm(`Masquer ${_} piano(s) de l'inventaire?`)){N(!0);try{t(E=>E.map(I=>S.has(I.gazelleId)?{...I,isHidden:!0}:I));for(const E of Array.from(S)){const I=await fetch(`${me}/api/place-des-arts/pianos/${E}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({isHidden:!0})});if(!I.ok){const z=await I.json().catch(()=>({detail:"Erreur HTTP "+I.status}));throw new Error(z.detail||"Erreur batch hide")}}f(),await k()}catch(E){console.error("Error batch hide:",E),alert("Erreur lors du masquage group"),await k()}finally{N(!1)}}};if(n&&e.length===0)return o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Chargement des pianos Place des Arts..."})]})});if(s)return o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[o.jsx("h3",{className:"text-red-800 font-semibold mb-2",children:"Erreur"}),o.jsx("p",{className:"text-red-600",children:s}),o.jsx("button",{onClick:k,className:"mt-3 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Ressayer"})]});const T=Rh(_,P.length);return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Inventaire Pianos"}),o.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[P.length," piano(s)  ",_," slectionn(s)"]})]}),o.jsx("button",{onClick:k,disabled:n,className:"px-4 py-2 text-sm bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors disabled:opacity-50",children:" Actualiser"})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("input",{type:"text",placeholder:"Rechercher piano, local, srie...",value:i,onChange:E=>l(E.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),o.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100",children:[o.jsx("input",{type:"checkbox",checked:c,onChange:E=>u(E.target.checked),className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Masqus uniquement"})]})]})]}),_>0&&o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-blue-900 font-medium",children:[_," piano(s) slectionn(s)"]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:L,disabled:b,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 text-sm font-medium",children:" Afficher"}),o.jsx("button",{onClick:j,disabled:b,className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors disabled:opacity-50 text-sm font-medium",children:" Masquer"}),o.jsx("button",{onClick:f,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors text-sm font-medium",children:"Annuler"})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:o.jsxs("div",{className:"overflow-x-auto",children:[o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left w-12",children:o.jsx("input",{ref:h,type:"checkbox",checked:T.checked,onChange:C,className:"w-4 h-4 rounded cursor-pointer",title:"Slectionner tout (Shift+Clic pour plage)"})}),o.jsx("th",{onClick:()=>A("location"),className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors select-none",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{children:"Local"}),o.jsx("span",{className:"text-gray-400",children:d.field==="location"?d.order==="asc"?"":"":""})]})}),o.jsx("th",{onClick:()=>A("make"),className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors select-none",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{children:"Piano"}),o.jsx("span",{className:"text-gray-400",children:d.field==="make"?d.order==="asc"?"":"":""})]})}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Type"}),o.jsx("th",{onClick:()=>A("lastTuned"),className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors select-none",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{children:"Dernier Accord"}),o.jsx("span",{className:"text-gray-400",children:d.field==="lastTuned"?d.order==="asc"?"":"":""})]})}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Statut"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Visibilit"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:P.map(E=>o.jsxs("tr",{className:`
                    bg-white
                    ${x(E.gazelleId)?"ring-2 ring-blue-500":""}
                    hover:shadow-sm transition-all duration-100
                  `,children:[o.jsx("td",{className:"px-4 py-3",children:o.jsx("input",{type:"checkbox",checked:x(E.gazelleId),onChange:I=>v(E.gazelleId,I.shiftKey),onClick:I=>I.stopPropagation(),className:"w-4 h-4 rounded cursor-pointer"})}),o.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:E.location||""}),o.jsx("td",{className:"px-4 py-3",children:o.jsxs("div",{className:"text-sm",children:[o.jsx("div",{className:"font-medium text-gray-900",children:E.make||""}),E.model&&o.jsx("div",{className:"text-gray-500 text-xs",children:E.model}),E.serialNumber&&o.jsxs("div",{className:"text-gray-400 text-xs mt-0.5",children:["Srie: ",E.serialNumber]})]})}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700",children:E.type==="G"?"Grand":E.type==="U"?"Droit":E.type||""})}),o.jsx("td",{className:"px-4 py-3",children:E.lastTuned?o.jsx("span",{className:"text-sm text-gray-600",children:Nk(E.lastTuned)}):o.jsx("span",{className:"text-sm text-gray-400",children:""})}),o.jsxs("td",{className:"px-4 py-3",children:[E.status==="normal"&&o.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700",children:"Normal"}),E.status==="proposed"&&o.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-700",children:" faire"}),E.status==="completed"&&o.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:"Complt"}),E.status==="top"&&o.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-amber-100 text-amber-700",children:"Top"})]}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("button",{onClick:()=>R(E),className:`
                        px-3 py-1 rounded-lg text-sm font-medium transition-colors
                        ${E.isHidden?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"}
                      `,children:E.isHidden?" Masqu":" Visible"})})]},E.gazelleId))})]}),P.length===0&&o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-gray-500",children:"Aucun piano trouv"})})]})})]})}function bu({currentUser:e}){const[t,n]=m.useState("demandes"),r=(e==null?void 0:e.role)==="nick",s=(e==null?void 0:e.role)==="admin",[a,i]=m.useState([]),[l,c]=m.useState(!1),[u,d]=m.useState(null),[g,b]=m.useState({imported:0,to_bill:0,this_month:0}),[N,h]=m.useState(!1),[y,S]=m.useState(!1),[v,w]=m.useState(!1),[f,x]=m.useState({appointment_date:"",room:"",for_who:"",piano:"",time:"",diapason:"",requester:"",technician_id:"",notes:"",billing_amount:"",parking:""}),[_,k]=m.useState(new Date().getFullYear()),[P,A]=m.useState(""),[C,R]=m.useState(""),[L,j]=m.useState(""),[T,E]=m.useState(""),[I,z]=m.useState(""),[H,M]=m.useState(""),[D,X]=m.useState("asc"),[K,J]=m.useState([]),[Y,Ne]=m.useState(""),[xe,ce]=m.useState([]),[je,Be]=m.useState(!1),[Ae,he]=m.useState(!1),[Ce,pe]=m.useState(null),Ee=m.useCallback(async()=>{try{c(!0),d(null);const p=await fetch(`${me}/api/place-des-arts/requests?limit=200`);if(!p.ok)throw new Error(`HTTP ${p.status}`);const $=await p.json();i($||[])}catch(p){d(p.message)}finally{c(!1)}},[]),ye=m.useCallback(async()=>{try{const p=await fetch(`${me}/api/place-des-arts/stats`);if(!p.ok)throw new Error(`HTTP ${p.status}`);const $=await p.json();b($||{imported:0,to_bill:0,this_month:0})}catch{}},[]);m.useEffect(()=>{Ee(),ye()},[Ee]);const Se=m.useMemo(()=>a.filter(p=>{if(P&&p.status!==P||C&&p.appointment_date&&!p.appointment_date.startsWith(C)||T&&p.technician_id!==T||I&&(p.room||"").toUpperCase()!==I.toUpperCase())return!1;if(L){const $=L.toLowerCase();if(![p.for_who,p.piano,p.room,p.requester,p.diapason,p.time].join(" ").toLowerCase().includes($))return!1}return!0}),[a,P,C,T,I,L]),Ye=m.useMemo(()=>{const p=[],$=new Date;for(let O=-2;O<=12;O++){const Q=new Date($.getFullYear(),$.getMonth()+O,1).toISOString().substring(0,7);p.push(Q)}return p},[]),Me=m.useMemo(()=>{if(!C)return null;let p=0,$=0;return Se.forEach(O=>{const F=parseFloat(O.billing_amount)||0;p+=F;const Q=parseFloat(O.parking)||0;$+=Q}),{billing:p,parking:$,total:p+$,count:Se.length}},[Se,C]),De=m.useMemo(()=>{if(!H)return Se;const p=D==="desc"?-1:1,$=(O,F)=>{const Q=(O==null?void 0:O[H])??"",ae=(F==null?void 0:F[H])??"";if(H==="request_date"||H==="appointment_date"){const G=Q?new Date(Q).getTime():0,Z=ae?new Date(ae).getTime():0;return(G-Z)*p}return String(Q).localeCompare(String(ae))*p};return[...Se].sort($)},[Se,H,D]),Fe=p=>{H===p?X($=>$==="asc"?"desc":"asc"):(M(p),X("asc"))},$e=p=>H!==p?"":D==="asc"?"":"",Ue=p=>{J($=>$.includes(p)?$.filter(O=>O!==p):[...$,p])},de=()=>{K.length===Se.length?J([]):J(Se.map(p=>p.id))},Te=async(p,$)=>{try{d(null);const O=await fetch(p,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($)});if(!O.ok){const F=await O.text();throw new Error(F||`HTTP ${O.status}`)}await Ee(),await ye(),pe("Action effectue"),J([])}catch(O){d(O.message)}},Ie=async(p,$=null)=>{const O=$||K;if(!(!p||O.length===0)){if(p==="ASSIGN_OK"){const F=prompt(`Assign  quel technicien?

1 - Nick
2 - Allan
3 - JP

Entrez le numro (1, 2 ou 3):`);if(!F)return;const ae={1:"usr_HcCiFk7o0vZ9xAI0",2:"usr_ofYggsCDt2JAVeNP",3:"usr_ReUSmIJmBF86ilY1"}[F.trim()];if(!ae){alert("Choix invalide. Veuillez entrer 1, 2 ou 3.");return}try{console.log(` Assignation de ${O.length} demande(s) au technicien ${ae}`),d(null),pe(null);for(const Z of O)console.log(`   Mise  jour demande ${Z}...`),await Oe(Z,"technician_id",ae),await Oe(Z,"status","ASSIGN_OK"),console.log(`   Demande ${Z} mise  jour`);console.log(" Rechargement des donnes..."),await Ee();const G=`Technicien assign pour ${O.length} lment(s)`;console.log(` ${G}`),pe(G),J([])}catch(G){console.error(" Erreur lors de l'assignation:",G),d(`Erreur: ${G.message}`)}return}if(p==="CREATED_IN_GAZELLE"){try{d(null),pe(" Validation en cours...");const F=[];for(const Q of O){const ae=a.find(ve=>ve.id===Q);if(!ae)continue;const G=await fetch(`${me}/api/place-des-arts/validate-gazelle-rv`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({request_id:Q,appointment_date:ae.appointment_date,room:ae.room})});if(!G.ok)throw new Error(`Erreur validation: ${G.status}`);(await G.json()).found||F.push({date:ae.appointment_date,room:ae.room,for_who:ae.for_who||"(sans nom)"})}if(F.length>0){const Q=F.map(ae=>`${ae.date} - ${ae.room} - ${ae.for_who}`).join(`
`);if(d(` ALERTE: ${F.length} RV non trouv(s) dans Gazelle:

${Q}

Voulez-vous quand mme marquer comme "Cr Gazelle"?`),!window.confirm(` ALERTE: ${F.length} RV non trouv(s) dans Gazelle:

${Q}

Voulez-vous quand mme marquer comme "Cr Gazelle"?`)){d(null),pe(null);return}}await Te(`${me}/api/place-des-arts/requests/update-status-batch`,{request_ids:O,status:p}),F.length===0&&pe(` ${O.length} demande(s) marque(s) "Cr Gazelle" (RV valids)`)}catch(F){d(F.message||"Erreur lors de la validation")}return}await Te(`${me}/api/place-des-arts/requests/update-status-batch`,{request_ids:O,status:p})}},Je=async()=>{K.length!==0&&await Te(`${me}/api/place-des-arts/requests/bill`,{request_ids:K,status:"BILLED"})},Qe=async()=>{K.length!==0&&await Te(`${me}/api/place-des-arts/requests/delete`,{request_ids:K})},gt=async()=>{try{d(null),pe(null);const p=await fetch(`${me}/api/place-des-arts/requests/find-duplicates`);if(!p.ok)throw new Error(`Erreur lors de la recherche de doublons: ${p.status}`);const O=(await p.json()).duplicates||[];if(O.length===0){pe("Aucun doublon dtect");return}const F=O.map((ae,G)=>`${G+1}. ${ae.appointment_date} - ${ae.room} - ${ae.for_who||"(sans nom)"} (ID: ${ae.id})`).join(`
`),Q=`${O.length} doublon(s) dtect(s):

${F}

Voulez-vous vraiment supprimer ces doublons?`;if(!window.confirm(Q)){pe("Suppression annule");return}await Te(`${me}/api/place-des-arts/requests/delete-duplicates`,{})}catch(p){d(p.message||"Erreur lors de la suppression des doublons")}},Ot=async()=>{try{d(null),pe(" Synchronisation complte en cours... (1/2)");const p=Se.map(G=>G.id),$=await fetch(`${me}/api/place-des-arts/sync-manual`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({request_ids:p})});if(!$.ok)throw new Error(`Erreur sync: ${$.status}`);const O=await $.json();pe(" Vrification des RV complts... (2/2)");const F=await fetch(`${me}/api/place-des-arts/check-completed`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!F.ok)throw new Error(`Erreur vrification complts: ${F.status}`);const Q=await F.json();await Ee();const ae=[];if(O.updated>0&&ae.push(`${O.updated} demande(s) lie(s)  un RV Gazelle`),Q.updated>0&&ae.push(`${Q.updated} demande(s) marque(s) comme complte(s)`),O.completed>0&&ae.push(`${O.completed} demande(s) complte(s) lors de la sync`),ae.length>0?pe(` Synchronisation termine: ${ae.join(", ")}`):pe(" Synchronisation termine - Aucune mise  jour ncessaire"),O.has_warnings&&O.warnings&&O.warnings.length>0){const G=O.warnings.map(Z=>` ${Z.error_code||"RV_NOT_FOUND"}
   ${Z.date} - ${Z.room} - ${Z.for_who||"(sans nom)"}`).join(`

`);d(` ${O.warnings.length} RV non trouv(s) dans Gazelle:

${G}`)}}catch(p){d(p.message||"Erreur lors de la synchronisation")}},re=()=>{window.open(`${me}/api/place-des-arts/export`,"_blank")},Oe=async(p,$,O,F=2)=>{try{console.log(` updateCellRaw: id=${p}, field=${$}, value=${O}`);const Q=new AbortController,ae=setTimeout(()=>Q.abort(),3e4);try{const G=await fetch(`${me}/api/place-des-arts/requests/update-cell`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({request_id:p,field:$,value:O}),signal:Q.signal});if(clearTimeout(ae),console.log(` Response status: ${G.status}`),!G.ok){const ve=await G.text();throw console.error(` Error response: ${ve}`),new Error(ve||`HTTP ${G.status}`)}const Z=await G.json();return console.log(" Update successful:",Z),Z}catch(G){if(clearTimeout(ae),F>0&&(G.name==="AbortError"||G.message==="Failed to fetch"))return console.log(` Retry ${3-F}/2 aprs erreur rseau...`),await new Promise(Z=>setTimeout(Z,2e3)),await Oe(p,$,O,F-1);throw G}}catch(Q){throw console.error(" updateCellRaw failed:",Q),Q.name==="AbortError"?new Error("Timeout: L'API met trop de temps  rpondre (peut-tre en train de se rveiller)"):Q}},we=async(p,$,O,F)=>{try{if(!$||!O||!F)return null;const Q=await fetch(`${me}/api/place-des-arts/requests/push-to-gazelle`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({request_id:p,piano_id:$,technician_id:O,summary:"Accord",comment:F,update_last_tuned:!0})});if(!Q.ok){const G=await Q.text();throw new Error(G||`HTTP ${Q.status}`)}return await Q.json()}catch(Q){throw console.error("Erreur push vers Gazelle:",Q),Q}},ke=async(p,$,O)=>{try{d(null);const F=K.includes(p)&&K.length>1?K:[p];let Q=!1;for(const G of F){const Z=a.find(ve=>ve.id===G);if(Z){if($==="technician_id"&&O&&O!==U&&Z.appointment_id)try{const ve=await fetch(`${me}/api/place-des-arts/requests/${G}/verify-technician`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({technician_id:O})});if(ve.ok&&!(await ve.json()).confirmed){d(" Le RV dans Gazelle n'a pas encore ce technicien. Vrifiez dans Gazelle d'abord.");return}}catch(ve){console.warn("Erreur vrification technicien dans Gazelle:",ve)}if(await Oe(G,$,O),$==="technician_id"&&O&&O!==U&&await Oe(G,"status","ASSIGN_OK"),$==="notes"&&O&&Z.technician_id)try{const ve=await fetch(`${me}/api/place-des-arts/requests/${G}/gazelle-piano-id`);if(ve.ok){const Ve=(await ve.json()).piano_id;if(Ve&&Z.technician_id){const ot=await we(G,Ve,Z.technician_id,O);ot&&ot.success&&(Q=!0)}else console.warn("Piano Gazelle ou technicien manquant pour push")}}catch(ve){console.warn("Push Gazelle chou (non bloquant):",ve)}}}await Ee();let ae=`Champ mis  jour pour ${F.length} lment(s)`;Q&&(ae+=" - Mis  jour dans Gazelle "),pe(ae)}catch(F){d(F.message)}},_t=async()=>{if(K.length)try{d(null);const p=parseInt(_,10);if(!p||p<2e3||p>2100)throw new Error("Anne invalide");for(const $ of K){const O=a.find(G=>G.id===$);if(!O)continue;const F=G=>{if(!G)return null;const Z=new Date(G);return Number.isNaN(Z.getTime())?null:(Z.setFullYear(p),Z.toISOString().slice(0,10))},Q=F(O.appointment_date),ae=F(O.request_date);Q&&await Oe($,"appointment_date",Q),ae&&await Oe($,"request_date",ae)}await Ee(),pe(`Anne mise  ${_} pour ${K.length} lment(s)`),J([])}catch(p){d(p.message)}},Kt=async()=>{var p;if(console.log(" handlePreview appel",{rawText:Y==null?void 0:Y.substring(0,50),API_URL:me}),!Y.trim()){console.log(" rawText vide, retour");return}try{Be(!0),pe(null),d(null),console.log(" Envoi requte preview...",`${me}/api/place-des-arts/preview`),console.log(" Texte envoy (preview):",{length:Y.length,first200:Y.substring(0,200),lines:Y.split(`
`).length,fullText:Y});const $=await fetch(`${me}/api/place-des-arts/preview`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({raw_text:Y,source:"email"})});if(console.log(" Rponse reue",$.status,$.statusText),!$.ok){const se=await $.text();throw console.error(" Erreur HTTP",$.status,se),new Error(se||`HTTP ${$.status}`)}const O=await $.json();console.log(" Donnes reues",{success:O.success,count:O.count,previewLength:(p=O.preview)==null?void 0:p.length,preview:O.preview,needs_validation:O.needs_validation,message:O.message,fullResponse:JSON.stringify(O,null,2)}),console.log(" Texte envoy  l'API:",Y.substring(0,200));const F=O.preview||[];if(console.log(" Mise  jour preview state",{previewItemsCount:F.length}),ce(F),F.length===0)ce([{appointment_date:null,room:null,for_who:null,diapason:null,requester:null,piano:null,time:null,service:null,notes:null,confidence:0,warnings:["Aucun champ dtect automatiquement - Compltez manuellement"],needs_validation:!0,learned:!1,duplicate_of:[]}]),pe("Aucun champ dtect automatiquement. Compltez les champs manuellement ci-dessous."),d(null),console.log(" Aucun preview item dtect, cration d'un preview vide pour dition manuelle");else{const se=`${F.length} demande(s) dtecte(s)${O.needs_validation?" - Vrification et compltion requises":""}`;pe(se),d(null),console.log(" Preview items  afficher:",F.length)}const Q=/^\s*\d{1,2}\s*(jan|fv|fev|mar|avr|mai|juin|juil|ao|aou|sep|oct|nov|dc|dec)/i,ae=Y.split(`
`),G=[];let Z=[];for(const se of ae)Q.test(se)&&Z.length>0?(G.push(Z.filter(Ve=>Ve.trim()).join(", ")),Z=[se.trim()]):se.trim()&&Z.push(se.trim());Z.length>0&&G.push(Z.filter(se=>se.trim()).join(", "));const ve=G.filter(se=>se.length>0).join(`
`);ve!==Y&&(Ne(ve),console.log(" Texte reformat")),console.log(" Preview termin",{previewCount:F.length})}catch($){console.error(" Erreur handlePreview",$),d($.message)}finally{Be(!1)}},jt=async()=>{if(!(!Y.trim()&&xe.length===0))try{he(!0),d(null),pe(null);let p;if(xe.length>0?p=await fetch(`${me}/api/place-des-arts/import-preview`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:xe})}):p=await fetch(`${me}/api/place-des-arts/import`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({raw_text:Y,source:"email"})}),!p.ok){const O=await p.text();throw new Error(O||`HTTP ${p.status}`)}const $=await p.json();pe($.message||`Import: ${$.imported||0}`),ce([]),Ne(""),await Ee()}catch(p){d(p.message)}finally{he(!1)}},Vt={usr_HcCiFk7o0vZ9xAI0:"Nick",usr_ofYggsCDt2JAVeNP:"Allan",usr_ReUSmIJmBF86ilY1:"JP",usr_HihJsEgkmpTEziJo:" attribuer",usr_QmEpdeM2xMgZVkDS:"JP",usr_U9E5bLxrFiXqTbE8:"Nick (ancien ID)",usr_allan:"Allan (ancien ID)",usr_jp:"JP (ancien ID)"},ue=new Set(["usr_HcCiFk7o0vZ9xAI0","usr_ofYggsCDt2JAVeNP","usr_ReUSmIJmBF86ilY1","usr_QmEpdeM2xMgZVkDS"]),St=p=>p?p==="usr_QmEpdeM2xMgZVkDS"?"usr_ReUSmIJmBF86ilY1":p:null,U="usr_HihJsEgkmpTEziJo",te=m.useMemo(()=>[{id:"usr_HcCiFk7o0vZ9xAI0",label:"Nick"},{id:"usr_ofYggsCDt2JAVeNP",label:"Allan"},{id:"usr_ReUSmIJmBF86ilY1",label:"JP"}],[]),W=p=>p===U;return o.jsxs("div",{className:`${N?"fixed inset-0 z-50 bg-white overflow-auto":"min-h-screen bg-gray-50"}`,children:[o.jsx("nav",{className:"bg-white border-b border-gray-200 shadow-sm sticky top-[60px] z-40",children:o.jsx("div",{className:"max-w-7xl mx-auto px-6",children:o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("button",{onClick:()=>n("inventaire-pianos"),className:`
                px-6 py-3 text-sm font-medium transition-colors
                border-b-2
                ${t==="inventaire-pianos"?"border-blue-600 text-blue-600 bg-blue-50":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300"}
              `,children:" Inventaire Pianos"}),o.jsx("button",{onClick:()=>n("demandes"),className:`
                px-6 py-3 text-sm font-medium transition-colors
                border-b-2
                ${t==="demandes"?"border-blue-600 text-blue-600 bg-blue-50":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300"}
              `,children:" Demandes"})]})})}),o.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-8",children:[t==="inventaire-pianos"&&o.jsx(kk,{}),t==="demandes"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Demandes Place des Arts"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Demandes importes (limite 200, tri date RDV desc)"}),o.jsxs("div",{className:"mt-3 p-3 bg-gray-50 border border-gray-200 rounded-md text-xs",children:[o.jsx("p",{className:"font-semibold text-gray-700 mb-2",children:" Lgende des couleurs (Louise & Nick) :"}),o.jsxs("div",{className:"flex flex-wrap gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 bg-red-50 border border-red-200 rounded"}),o.jsxs("span",{className:"text-gray-600",children:[o.jsx("strong",{children:"Rouge"}),' : Nouveau ou RV cr avec " attribuer" (action requise)']})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 bg-white border border-gray-200 rounded"}),o.jsxs("span",{className:"text-gray-600",children:[o.jsx("strong",{children:"Blanc"})," : RV assign  un technicien actif (Nick, Allan, JP) - Tout OK"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 bg-green-50 border border-green-200 rounded"}),o.jsxs("span",{className:"text-gray-600",children:[o.jsx("strong",{children:"Vert"})," : RV complt"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 bg-blue-50 border border-blue-200 rounded"}),o.jsxs("span",{className:"text-gray-600",children:[o.jsx("strong",{children:"Bleu"})," : Ligne slectionne"]})]})]}),o.jsx("p",{className:"text-gray-500 mt-2 text-xs italic",children:'Flux : Rouge (nouveau)  Rouge (cr Gazelle " attribuer")  Blanc (technicien assign)  Vert (complt)'})]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 text-gray-700 px-3 py-1 rounded-md text-sm",children:[o.jsx("span",{className:"font-semibold",children:g.imported??0}),o.jsx("span",{children:"nouvelles"})]}),o.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 text-gray-700 px-3 py-1 rounded-md text-sm",children:[o.jsx("span",{className:"font-semibold",children:g.to_bill??0}),o.jsx("span",{children:" facturer"})]}),o.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 text-gray-700 px-3 py-1 rounded-md text-sm",children:[o.jsx("span",{className:"font-semibold",children:g.this_month??0}),o.jsx("span",{children:"ce mois"})]}),o.jsx("button",{onClick:()=>{const p=!N;h(p);try{p&&document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():!p&&document.exitFullscreen&&document.exitFullscreen()}catch{}},className:"px-3 py-2 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:N?"Mode fentr":"Plein cran"})]})]})}),v&&o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 space-y-3",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Ajouter une demande"}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 text-sm",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-600",children:"Date RDV"}),o.jsx("input",{type:"date",value:f.appointment_date,onChange:p=>x({...f,appointment_date:p.target.value}),className:"w-full border border-gray-300 rounded px-2 py-1"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-600",children:"Salle"}),o.jsx("input",{type:"text",value:f.room,onChange:p=>x({...f,room:p.target.value}),className:"w-full border border-gray-300 rounded px-2 py-1"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-600",children:"Pour qui"}),o.jsx("input",{type:"text",value:f.for_who,onChange:p=>x({...f,for_who:p.target.value}),className:"w-full border border-gray-300 rounded px-2 py-1"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"text-xs text-gray-600",children:"Piano"}),o.jsx("input",{type:"text",value:f.piano,onChange:p=>x({...f,piano:p.target.value}),className:"w-full border border-gray-300 rounded px-2 py-1"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-600",children:"Heure"}),o.jsx("input",{type:"text",value:f.time,onChange:p=>x({...f,time:p.target.value}),className:"w-full border border-gray-300 rounded px-2 py-1"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-600",children:"Diapason"}),o.jsx("input",{type:"text",value:f.diapason,onChange:p=>x({...f,diapason:p.target.value}),className:"w-full border border-gray-300 rounded px-2 py-1"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-600",children:"Demandeur"}),o.jsx("input",{type:"text",value:f.requester,onChange:p=>x({...f,requester:p.target.value}),className:"w-full border border-gray-300 rounded px-2 py-1"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-600",children:"Technicien"}),o.jsxs("select",{value:f.technician_id,onChange:p=>x({...f,technician_id:p.target.value}),className:"w-full border border-gray-300 rounded px-2 py-1",children:[o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"usr_U9E5bLxrFiXqTbE8",children:"Nick"}),o.jsx("option",{value:"usr_allan",children:"Allan"}),o.jsx("option",{value:"usr_jp",children:"JP"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-600",children:"Facturation"}),o.jsx("input",{type:"number",step:"0.01",value:f.billing_amount,onChange:p=>x({...f,billing_amount:p.target.value}),className:"w-full border border-gray-300 rounded px-2 py-1"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-600",children:"Stationnement"}),o.jsx("input",{type:"text",value:f.parking,onChange:p=>x({...f,parking:p.target.value}),className:"w-full border border-gray-300 rounded px-2 py-1"})]}),o.jsxs("div",{className:"md:col-span-3",children:[o.jsx("label",{className:"text-xs text-gray-600",children:"Notes"}),o.jsx("input",{type:"text",value:f.notes,onChange:p=>x({...f,notes:p.target.value}),className:"w-full border border-gray-300 rounded px-2 py-1"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:async()=>{try{d(null),pe(null);const p=await fetch(`${me}/api/place-des-arts/requests/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(!p.ok){const $=await p.text();throw new Error($||`HTTP ${p.status}`)}pe("Demande ajoute"),w(!1),x({appointment_date:"",room:"",for_who:"",piano:"",time:"",diapason:"",requester:"",technician_id:"",notes:"",billing_amount:"",parking:""}),await Ee()}catch(p){d(p.message)}},className:"px-3 py-2 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Enregistrer"}),o.jsx("button",{onClick:()=>w(!1),className:"px-3 py-2 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Annuler"})]})]}),o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 space-y-3",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Import depuis email (copier-coller)"}),o.jsx("textarea",{value:Y,onChange:p=>Ne(p.target.value),placeholder:"Collez le texte de l'email ici...",className:"w-full min-h-[140px] border border-gray-300 rounded-md p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsx("button",{onClick:p=>{if(p.preventDefault(),p.stopPropagation(),console.log(" Bouton Prvisualiser cliqu",{rawTextLength:Y==null?void 0:Y.length,rawTextTrimmed:Y==null?void 0:Y.trim().length,previewLoading:je,API_URL:me,isDisabled:!Y.trim()||je}),!Y.trim()){d("Veuillez entrer du texte  prvisualiser");return}if(je){console.log(" Preview dj en cours, ignor");return}Kt()},disabled:!Y.trim()||je,className:"px-3 py-2 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed disabled:bg-gray-400",type:"button",children:je?" Prvisualisation...":" Prvisualiser"}),!Y.trim()&&o.jsx("span",{className:"text-xs text-gray-500",children:"(Entrez du texte pour activer)"}),o.jsx("button",{onClick:()=>{Ne(""),ce([]),pe(null),d(null)},className:"px-3 py-2 text-sm bg-white border border-gray-200 rounded-md hover:bg-gray-50",children:"Effacer"})]}),u&&o.jsxs("div",{className:"text-sm text-red-700 bg-red-50 border border-red-200 px-3 py-2 rounded",children:[" Erreur: ",u]}),Ce&&o.jsx("div",{className:"text-sm text-green-700 bg-green-50 border border-green-200 px-3 py-2 rounded",children:Ce}),je&&o.jsx("div",{className:"text-sm text-blue-700 bg-blue-50 border border-blue-200 px-3 py-2 rounded mt-3",children:" Prvisualisation en cours..."}),xe.length>0&&o.jsxs("div",{className:"border border-gray-200 rounded-md mt-3",children:[o.jsxs("div",{className:"bg-gray-50 px-3 py-2 text-sm font-medium text-gray-700 flex items-center justify-between",children:[o.jsx("span",{children:xe.some(p=>p.confidence===0)?" Prvisualisation (compltez manuellement)":` Prvisualisation (${xe.length} demande${xe.length>1?"s":""})`}),o.jsx("span",{className:"text-xs text-gray-500",children:xe.filter(p=>p.confidence<1||p.needs_validation).length>0&&`${xe.filter(p=>p.confidence<1||p.needs_validation).length} item(s) ncessitent une vrification`})]}),o.jsx("div",{className:"max-h-96 overflow-y-auto divide-y divide-gray-100",children:xe.map((p,$)=>o.jsx(Sk,{item:p,index:$,rawText:Y,currentUser:e,onCorrect:(O,F)=>{ce(Q=>Q.map((ae,G)=>G===O?{...ae,...F,confidence:1}:ae))}},$))}),o.jsxs("div",{className:"bg-gray-50 px-3 py-3 border-t border-gray-200 flex justify-between items-center",children:[o.jsxs("div",{className:"text-xs text-gray-600",children:[" ",o.jsx("strong",{children:"Astuce:"}),' Compltez les champs manquants, puis cliquez sur "Valider et apprendre" pour amliorer le systme, puis "Importer" pour enregistrer.']}),o.jsx("button",{onClick:jt,disabled:Ae,className:"px-4 py-2 text-sm bg-blue-600 text-white hover:bg-blue-700 rounded-md disabled:opacity-50 font-medium",children:Ae?"Import en cours...":` Importer ${xe.length} demande${xe.length>1?"s":""}`})]})]})]}),o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 flex flex-wrap items-center gap-2",children:[s&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:gt,className:"px-3 py-2 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50",title:"Admin uniquement",children:" Nettoyer doublons"}),o.jsx("button",{onClick:re,className:"px-3 py-2 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50",title:"Admin uniquement",children:" Export CSV"})]}),o.jsx("button",{onClick:()=>S(p=>!p),className:`px-3 py-2 text-sm border rounded-md ${y?"bg-blue-600 text-white border-blue-600":"bg-white border-gray-300 hover:bg-gray-50"}`,children:y?"Mode dition activ":"Mode dition"}),o.jsx("button",{onClick:()=>w(p=>!p),className:`px-3 py-2 text-sm rounded-md ${v?"bg-blue-600 text-white hover:bg-blue-700":"bg-white border border-gray-300 hover:bg-gray-50"}`,children:v?"Fermer ajout":" Ajouter manuellement"}),!r&&o.jsx("button",{onClick:Ot,className:"px-4 py-2 text-sm bg-blue-600 text-white border border-blue-700 rounded-md hover:bg-blue-700 font-medium",title:"Synchronise toutes les demandes avec Gazelle : lie les RV, met  jour les statuts et vrifie les complts",children:" Synchroniser tout avec Gazelle"}),o.jsxs("div",{className:"flex items-center gap-2 ml-auto flex-wrap",children:[o.jsxs("select",{value:C,onChange:p=>R(p.target.value),className:"border border-gray-300 rounded-md px-2 py-1 text-sm",children:[o.jsx("option",{value:"",children:"Toutes les dates"}),Ye.map(p=>{const[$,O]=p.split("-"),Q=new Date(parseInt($),parseInt(O)-1,1).toLocaleDateString("fr-FR",{year:"numeric",month:"long"});return o.jsx("option",{value:p,children:Q.charAt(0).toUpperCase()+Q.slice(1)},p)})]}),Me&&o.jsxs("div",{className:"flex items-center gap-4 bg-blue-50 border border-blue-200 rounded-md px-3 py-1 text-sm",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-xs text-gray-500",children:"Facturation"}),o.jsxs("span",{className:"font-semibold text-blue-700",children:[Me.billing.toFixed(2)," $"]})]}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-xs text-gray-500",children:"Stationnement"}),o.jsxs("span",{className:"font-semibold text-blue-700",children:[Me.parking.toFixed(2)," $"]})]}),o.jsxs("div",{className:"flex flex-col border-l border-blue-300 pl-4",children:[o.jsx("span",{className:"text-xs text-gray-500",children:"Total"}),o.jsxs("span",{className:"font-bold text-blue-900",children:[Me.total.toFixed(2)," $"]})]}),o.jsxs("span",{className:"text-xs text-gray-500",children:["(",Me.count," lment",Me.count>1?"s":"",")"]})]}),!r&&o.jsxs(o.Fragment,{children:[o.jsxs("select",{value:P,onChange:p=>A(p.target.value),className:"border border-gray-300 rounded-md px-2 py-1 text-sm",children:[o.jsx("option",{value:"",children:"Tous statuts"}),o.jsx("option",{value:"PENDING",children:"Nouveau"}),o.jsx("option",{value:"ASSIGN_OK",children:"Assign"}),o.jsx("option",{value:"CREATED_IN_GAZELLE",children:"Cr Gazelle"}),o.jsx("option",{value:"COMPLETED",children:"Complt"}),o.jsx("option",{value:"BILLED",children:"Factur"})]}),o.jsx("input",{type:"text",value:I,onChange:p=>z(p.target.value),placeholder:"Salle",className:"border border-gray-300 rounded-md px-2 py-1 text-sm"}),o.jsx("input",{type:"text",value:T,onChange:p=>E(p.target.value),placeholder:"Technicien id",className:"border border-gray-300 rounded-md px-2 py-1 text-sm"}),o.jsx("input",{type:"text",value:L,onChange:p=>j(p.target.value),placeholder:"Recherche (client/piano)",className:"border border-gray-300 rounded-md px-2 py-1 text-sm"}),o.jsx("button",{onClick:()=>{A(""),R(""),z(""),E(""),j("")},className:"px-3 py-1 text-sm bg-gray-100 border border-gray-200 rounded-md hover:bg-gray-200",children:"Rinitialiser"})]})]})]}),K.length>0&&o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 flex flex-wrap gap-2 items-center",children:[o.jsxs("span",{className:"text-sm text-blue-800 font-medium",children:[K.length," slectionn(s)"]}),o.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[o.jsx("input",{type:"number",value:_,onChange:p=>k(p.target.value),className:"w-20 border border-gray-300 rounded px-2 py-1",min:"2000",max:"2100"}),o.jsx("button",{onClick:_t,className:"px-2 py-1 text-xs bg-white border border-gray-300 rounded hover:bg-gray-50",children:"Changer l'anne"})]}),o.jsxs("select",{onChange:p=>Ie(p.target.value),defaultValue:"",className:"text-xs border border-gray-300 rounded px-2 py-1 bg-white",children:[o.jsx("option",{value:"",children:"Changer statut..."}),o.jsx("option",{value:"PENDING",children:"Nouveau"}),o.jsx("option",{value:"ASSIGN_OK",children:"Assign"}),o.jsx("option",{value:"CREATED_IN_GAZELLE",children:"Cr Gazelle"}),o.jsx("option",{value:"COMPLETED",children:"Complt"}),o.jsx("option",{value:"BILLED",children:"Factur"})]}),o.jsx("button",{onClick:()=>Ie("PENDING"),className:"px-2 py-1 text-xs bg-white border border-gray-300 rounded hover:bg-gray-50",children:"Statut: Nouveau"}),o.jsx("button",{onClick:()=>Ie("ASSIGN_OK"),className:"px-2 py-1 text-xs bg-white border border-gray-300 rounded hover:bg-gray-50",children:"Statut: Assign"}),o.jsx("button",{onClick:()=>Ie("CREATED_IN_GAZELLE"),className:"px-2 py-1 text-xs bg-white border border-gray-300 rounded hover:bg-gray-50",children:"Statut: Cr Gazelle"}),o.jsx("button",{onClick:()=>Ie("COMPLETED"),className:"px-2 py-1 text-xs bg-white border border-gray-300 rounded hover:bg-gray-50",children:"Statut: Complt"}),o.jsx("button",{onClick:Je,className:"px-2 py-1 text-xs bg-white border border-gray-300 rounded hover:bg-gray-50",children:"Facturer"}),o.jsx("button",{onClick:Qe,className:"px-2 py-1 text-xs bg-red-50 border border-red-200 text-red-700 rounded hover:bg-red-100",children:"Supprimer"}),o.jsx("button",{onClick:()=>J([]),className:"ml-auto px-2 py-1 text-xs text-blue-800",children:"Dslectionner"})]}),l&&o.jsx("div",{className:"text-gray-600",children:"Chargement..."}),u&&o.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-3 py-2 rounded",children:["Erreur: ",u]}),!l&&!u&&o.jsxs("div",{className:"overflow-x-auto",children:[o.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-2 py-2",children:o.jsx("input",{type:"checkbox",className:"h-4 w-4",checked:K.length>0&&K.length===Se.length,onChange:de})}),o.jsxs("th",{onClick:()=>Fe("request_date"),className:"px-3 py-2 text-left font-medium text-gray-700 cursor-pointer select-none",children:["Date demande ",$e("request_date")]}),o.jsxs("th",{onClick:()=>Fe("appointment_date"),className:"px-3 py-2 text-left font-medium text-gray-700 cursor-pointer select-none",children:["Date RDV ",$e("appointment_date")]}),o.jsxs("th",{onClick:()=>Fe("room"),className:"px-3 py-2 text-left font-medium text-gray-700 cursor-pointer select-none",children:["Salle ",$e("room")]}),o.jsxs("th",{onClick:()=>Fe("for_who"),className:"px-3 py-2 text-left font-medium text-gray-700 cursor-pointer select-none",children:["Pour qui ",$e("for_who")]}),o.jsxs("th",{onClick:()=>Fe("diapason"),className:"px-3 py-2 text-left font-medium text-gray-700 cursor-pointer select-none",children:["Diapason ",$e("diapason")]}),o.jsxs("th",{onClick:()=>Fe("requester"),className:"px-3 py-2 text-left font-medium text-gray-700 cursor-pointer select-none",children:["Demandeur ",$e("requester")]}),o.jsxs("th",{onClick:()=>Fe("piano"),className:"px-3 py-2 text-left font-medium text-gray-700 cursor-pointer select-none",children:["Piano ",$e("piano")]}),o.jsxs("th",{onClick:()=>Fe("time"),className:"px-3 py-2 text-left font-medium text-gray-700 cursor-pointer select-none",children:["Heure ",$e("time")]}),o.jsxs("th",{onClick:()=>Fe("technician_id"),className:"px-3 py-2 text-left font-medium text-gray-700 cursor-pointer select-none",children:["Qui le fait ",$e("technician_id")]}),o.jsxs("th",{onClick:()=>Fe("notes"),className:"px-3 py-2 text-left font-medium text-gray-700 cursor-pointer select-none",children:["Commentaire ",$e("notes")]}),o.jsxs("th",{onClick:()=>Fe("billing_amount"),className:"px-3 py-2 text-left font-medium text-gray-700 cursor-pointer select-none",children:["Facturation ",$e("billing_amount")]}),o.jsxs("th",{onClick:()=>Fe("parking"),className:"px-3 py-2 text-left font-medium text-gray-700 cursor-pointer select-none",children:["Stationnement ",$e("parking")]}),o.jsxs("th",{onClick:()=>Fe("status"),className:"px-3 py-2 text-left font-medium text-gray-700 cursor-pointer select-none",children:["Statut ",$e("status")]})]})}),o.jsxs("tbody",{className:"divide-y divide-gray-100 bg-white",children:[De.map(p=>{const $=p.status==="COMPLETED",O=St(p.technician_id),F=O&&ue.has(O),Q=W(p.technician_id),ae=!$&&(!p.appointment_id||p.appointment_id&&Q||p.appointment_id&&!F),G=K.includes(p.id)?"bg-blue-50":$?"bg-green-50":ae?"bg-red-50":"";return o.jsxs("tr",{className:G,children:[o.jsx("td",{className:"px-2 py-2",children:o.jsx("input",{type:"checkbox",className:"h-4 w-4",checked:K.includes(p.id),onChange:()=>Ue(p.id)})}),o.jsx("td",{className:"px-3 py-2 text-gray-800",children:y?o.jsx("input",{type:"date",value:p.request_date?p.request_date.slice(0,10):"",onChange:Z=>ke(p.id,"request_date",Z.target.value),className:"w-full border border-gray-200 rounded px-2 py-1 text-xs"}):p.request_date?p.request_date.slice(0,10):""}),o.jsx("td",{className:"px-3 py-2 text-gray-800",children:y?o.jsx("input",{type:"date",value:p.appointment_date?p.appointment_date.slice(0,10):"",onChange:Z=>ke(p.id,"appointment_date",Z.target.value),className:"w-full border border-gray-200 rounded px-2 py-1 text-xs"}):p.appointment_date?p.appointment_date.slice(0,10):""}),o.jsx("td",{className:"px-3 py-2 text-gray-800",children:y?o.jsx("input",{type:"text",value:p.room||"",onChange:Z=>ke(p.id,"room",Z.target.value),className:"w-full border border-gray-200 rounded px-2 py-1 text-xs"}):p.room||""}),o.jsx("td",{className:"px-3 py-2 text-gray-800",children:y?o.jsx("input",{type:"text",defaultValue:p.for_who||"",onBlur:Z=>ke(p.id,"for_who",Z.target.value),className:"w-full border border-gray-200 rounded px-2 py-1 text-xs"}):p.for_who||""}),o.jsx("td",{className:"px-3 py-2 text-gray-800",children:y?o.jsx("input",{type:"text",defaultValue:p.diapason||"",onBlur:Z=>ke(p.id,"diapason",Z.target.value),className:"w-full border border-gray-200 rounded px-2 py-1 text-xs"}):p.diapason||""}),o.jsx("td",{className:"px-3 py-2 text-gray-800",children:y?o.jsx("input",{type:"text",defaultValue:p.requester||"",onBlur:Z=>ke(p.id,"requester",Z.target.value),className:"w-full border border-gray-200 rounded px-2 py-1 text-xs"}):p.requester||""}),o.jsx("td",{className:"px-3 py-2 text-gray-800",children:y?o.jsx("input",{type:"text",defaultValue:p.piano||"",onBlur:Z=>ke(p.id,"piano",Z.target.value),className:"w-full border border-gray-200 rounded px-2 py-1 text-xs"}):p.piano||""}),o.jsx("td",{className:"px-3 py-2 text-gray-800",children:y?o.jsx("input",{type:"text",defaultValue:p.time||"",onBlur:Z=>ke(p.id,"time",Z.target.value),className:"w-full border border-gray-200 rounded px-2 py-1 text-xs"}):p.time||""}),o.jsx("td",{className:"px-3 py-2 text-gray-800",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsxs("select",{value:p.technician_id||"",onChange:Z=>ke(p.id,"technician_id",Z.target.value),className:`w-full border border-gray-200 rounded px-1 py-1 text-xs font-medium hover:bg-gray-50 cursor-pointer ${W(p.technician_id)||p.technician_mismatch?"bg-yellow-50 border-yellow-300 text-yellow-700":"bg-white"}`,title:p.technician_mismatch?` Incohrence: PDA=${Vt[p.technician_id]||p.technician_id}, Gazelle=${Vt[p.gazelle_technician_id]||p.gazelle_technician_id||" attribuer"}`:Vt[p.technician_id]||"Choisir technicien",style:{width:"90px"},children:[o.jsx("option",{value:"",children:""}),p.appointment_id&&(p.technician_id===U||p.technician_from_gazelle&&p.technician_id===U||p.gazelle_technician_id===U)&&o.jsx("option",{value:U,className:"text-yellow-700 font-medium",children:"  attribuer"}),te.map(Z=>o.jsx("option",{value:Z.id,children:Z.label},Z.id))]}),W(p.technician_id)&&p.appointment_id&&o.jsx("span",{className:"text-xs text-yellow-600",title:"RV cr dans Gazelle mais technicien  attribuer - Assignez un technicien dans Gazelle",children:""}),p.technician_mismatch&&p.gazelle_technician_id&&o.jsx("span",{className:"text-xs text-yellow-600 cursor-help",title:` Incohrence: Dans Gazelle, le technicien est "${Vt[p.gazelle_technician_id]||p.gazelle_technician_id||" attribuer"}" mais PDA a "${Vt[p.technician_id]||p.technician_id}". Cliquez pour synchroniser avec Gazelle.`,onClick:async()=>{confirm(`Synchroniser avec Gazelle ? Le technicien sera chang pour "${Vt[p.gazelle_technician_id]||p.gazelle_technician_id||" attribuer"}"`)&&await ke(p.id,"technician_id",p.gazelle_technician_id)},children:""})]})}),o.jsx("td",{className:"px-3 py-2 text-gray-800",children:y?o.jsx("input",{type:"text",defaultValue:p.notes||"",onBlur:Z=>ke(p.id,"notes",Z.target.value),className:"w-full border border-gray-200 rounded px-2 py-1 text-xs"}):p.notes||""}),o.jsx("td",{className:"px-3 py-2 text-gray-800",children:y?o.jsx("input",{type:"number",step:"0.01",defaultValue:p.billing_amount??"",onBlur:Z=>ke(p.id,"billing_amount",Z.target.value),className:"w-full border border-gray-200 rounded px-2 py-1 text-xs"}):p.billing_amount??""}),o.jsx("td",{className:"px-3 py-2 text-gray-800",children:y?o.jsx("input",{type:"text",defaultValue:p.parking||"",onBlur:Z=>ke(p.id,"parking",Z.target.value),className:"w-full border border-gray-200 rounded px-2 py-1 text-xs"}):p.parking||""}),o.jsx("td",{className:"px-3 py-2",children:o.jsxs("select",{value:p.status||"",onChange:Z=>{const ve=K.includes(p.id)&&K.length>1?K:[p.id];Ie(Z.target.value,ve)},className:"text-xs border border-gray-300 rounded px-2 py-1 bg-white",children:[o.jsx("option",{value:"PENDING",children:"Nouveau"}),o.jsx("option",{value:"ASSIGN_OK",children:"Assign"}),o.jsx("option",{value:"CREATED_IN_GAZELLE",children:"Cr Gazelle"}),o.jsx("option",{value:"COMPLETED",children:"Complt"}),o.jsx("option",{value:"BILLED",children:"Factur"})]})})]},p.id)}),Se.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:14,className:"px-3 py-4 text-center text-gray-500",children:"Aucune donne"})})]})]}),o.jsx("datalist",{id:"tech-options",children:te.map(p=>o.jsx("option",{value:p.id,children:p.label},p.id))})]})]})]})]})}function Ek({clientId:e,onClose:t,onAskQuestion:n}){const[r,s]=m.useState(!0),[a,i]=m.useState(null),[l,c]=m.useState(null);return m.useEffect(()=>{e&&(async()=>{try{s(!0),i(null);const d=encodeURIComponent(e),g=await fetch(`${me}/api/assistant/client/${d}`);if(!g.ok)throw new Error(`HTTP ${g.status}`);const b=await g.json();c(b)}catch(d){console.error("Erreur chargement dtails client:",d),i(d.message)}finally{s(!1)}})()},[e]),o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:u=>{u.target===u.currentTarget&&t()},children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center z-10",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Dtails Client"}),o.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl font-bold",children:""})]}),o.jsxs("div",{className:"p-6",children:[r&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Chargement des dtails..."})]}),a&&o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded p-4 text-red-800",children:[" Erreur: ",a]}),l&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Informations"}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded space-y-2",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Nom:"})," ",l.name]}),l.address&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Adresse:"})," ",l.address]}),l.city&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Ville:"})," ",l.city]}),l.postal_code&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Code postal:"})," ",l.postal_code]}),l.phone&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Tlphone:"})," ",l.phone]}),l.email&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Email:"})," ",l.email]}),l.type&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Type:"})," ",o.jsx("span",{className:`px-2 py-1 rounded text-xs ${l.type==="client"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:l.type==="client"?"Client":"Contact"})]})]})]}),l.client_notes&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Notes Client"}),o.jsx("div",{className:"bg-yellow-50 p-4 rounded border-l-4 border-yellow-400",children:o.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:l.client_notes})})]}),l.associated_contacts&&l.associated_contacts.length>0&&o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold mb-2",children:["Contacts Associs (",l.associated_contacts.length,")"]}),o.jsx("div",{className:"space-y-2",children:l.associated_contacts.map((u,d)=>o.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[o.jsx("p",{className:"font-medium",children:u.name||"N/A"}),u.role&&o.jsx("p",{className:"text-sm text-gray-600",children:u.role}),u.phone&&o.jsxs("p",{className:"text-sm",children:[" ",u.phone]}),u.email&&o.jsxs("p",{className:"text-sm",children:[" ",u.email]})]},d))})]}),l.pianos&&l.pianos.length>0&&o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold mb-2",children:[" Pianos (",l.pianos.length,")"]}),o.jsx("div",{className:"space-y-3",children:l.pianos.map((u,d)=>o.jsxs("div",{className:"bg-gray-50 p-4 rounded border-l-4 border-blue-400",children:[o.jsxs("p",{className:"font-medium",children:[u.make||""," ",u.model||"",u.serial_number&&o.jsxs("span",{className:"text-gray-600 text-sm ml-2",children:["(S/N: ",u.serial_number,")"]})]}),o.jsxs("div",{className:"mt-2 space-y-1 text-sm",children:[u.year&&o.jsxs("p",{className:"text-gray-600",children:["Anne: ",u.year]}),u.type&&o.jsxs("p",{className:"text-gray-600",children:["Type: ",u.type]}),u.location&&o.jsxs("p",{className:"text-gray-600",children:[" ",u.location]}),u.notes&&o.jsx("div",{className:"mt-2 p-2 bg-blue-50 rounded",children:o.jsx("p",{className:"text-xs text-gray-700 whitespace-pre-wrap",children:u.notes})})]})]},d))})]}),l.service_history&&l.service_history.length>0&&o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold mb-2",children:[" Historique de Service (",l.service_history.length,")"]}),o.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:l.service_history.map((u,d)=>o.jsx("div",{className:"bg-blue-50 p-3 rounded border-l-4 border-blue-400",children:o.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:u})},d))})]}),l.timeline_summary&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:" Timeline"}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded border border-gray-200 space-y-2",children:[o.jsxs("div",{className:"text-sm text-gray-700",children:["Total: ",l.timeline_summary.total_entries||0,l.timeline_summary.first_entry_date&&l.timeline_summary.last_entry_date&&o.jsxs("span",{className:"ml-2 text-gray-500",children:["(",l.timeline_summary.first_entry_date,"  ",l.timeline_summary.last_entry_date,")"]})]}),l.timeline_summary.recent_entries&&l.timeline_summary.recent_entries.length>0&&o.jsx("div",{className:"space-y-1 text-sm text-gray-700",children:l.timeline_summary.recent_entries.map((u,d)=>o.jsxs("div",{className:"flex gap-2",children:[o.jsx("span",{className:"text-gray-500 min-w-[80px]",children:u.date||""}),o.jsx("span",{className:"whitespace-pre-wrap",children:u.text})]},d))})]})]}),l.upcoming_appointments&&l.upcoming_appointments.length>0&&o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold mb-2",children:[" Prochains Rendez-vous (",l.upcoming_appointments.length,")"]}),o.jsx("div",{className:"space-y-2",children:l.upcoming_appointments.map((u,d)=>o.jsxs("div",{className:"bg-green-50 p-3 rounded border-l-4 border-green-400",children:[o.jsxs("p",{className:"font-medium",children:[u.date,"  ",u.time]}),u.title&&o.jsx("p",{className:"text-sm text-gray-600",children:u.title}),u.description&&o.jsx("p",{className:"text-sm text-gray-600",children:u.description}),u.assigned_to&&o.jsxs("p",{className:"text-sm",children:["Technicien: ",u.assigned_to]})]},d))})]}),n&&o.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:" Questions rapides"}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx("button",{onClick:()=>{n(`frais de dplacement pour ${l.name}`),t()},className:"px-3 py-1.5 text-sm bg-blue-50 text-blue-700 border border-blue-200 rounded hover:bg-blue-100 transition-colors",children:" Frais de dplacement"}),o.jsx("button",{onClick:()=>{n(`prochains rendez-vous pour ${l.name}`),t()},className:"px-3 py-1.5 text-sm bg-green-50 text-green-700 border border-green-200 rounded hover:bg-green-100 transition-colors",children:" Prochains RV"}),o.jsx("button",{onClick:()=>{n(`montre-moi l'historique complet de ${l.name} avec toutes les notes de service`),t()},className:"px-3 py-1.5 text-sm bg-purple-50 text-purple-700 border border-purple-200 rounded hover:bg-purple-100 transition-colors",children:" Rsum historique"})]})]})]})]})]})})}function _k({content:e,entities:t=[],currentUser:n,onAskQuestion:r,onSelectClient:s}){const[a,i]=m.useState(null);if(!t||t.length===0)return o.jsx("div",{className:"whitespace-pre-wrap",children:e});let l=e;t.forEach(u=>{const d=u.name.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),g=new RegExp(`\\*\\*${d}\\*\\*`,"g");l=l.replace(g,`<a href="#" data-client-id="${u.id}" class="text-blue-600 hover:text-blue-800 font-bold underline cursor-pointer">${u.name}</a>`)});const c=u=>{u.preventDefault();const d=u.target.getAttribute("data-client-id");if(d){if(s){const g=t.find(b=>b.id===d);g&&s(g)}i(d)}};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:l},onClick:c}),a&&o.jsx(Ek,{clientId:a,onClose:()=>i(null),onAskQuestion:r})]})}function gy(e,t){return function(){return e.apply(t,arguments)}}const{toString:Tk}=Object.prototype,{getPrototypeOf:gf}=Object,{iterator:Rc,toStringTag:xy}=Symbol,Ic=(e=>t=>{const n=Tk.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),er=e=>(e=e.toLowerCase(),t=>Ic(t)===e),Ac=e=>t=>typeof t===e,{isArray:Eo}=Array,vo=Ac("undefined");function Ya(e){return e!==null&&!vo(e)&&e.constructor!==null&&!vo(e.constructor)&&xn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const yy=er("ArrayBuffer");function $k(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&yy(e.buffer),t}const Pk=Ac("string"),xn=Ac("function"),vy=Ac("number"),Qa=e=>e!==null&&typeof e=="object",Rk=e=>e===!0||e===!1,Ui=e=>{if(Ic(e)!=="object")return!1;const t=gf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(xy in e)&&!(Rc in e)},Ik=e=>{if(!Qa(e)||Ya(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Ak=er("Date"),Ok=er("File"),zk=er("Blob"),Lk=er("FileList"),Mk=e=>Qa(e)&&xn(e.pipe),Dk=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||xn(e.append)&&((t=Ic(e))==="formdata"||t==="object"&&xn(e.toString)&&e.toString()==="[object FormData]"))},Fk=er("URLSearchParams"),[Bk,Vk,Hk,Wk]=["ReadableStream","Request","Response","Headers"].map(er),qk=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Xa(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),Eo(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(Ya(e))return;const a=n?Object.getOwnPropertyNames(e):Object.keys(e),i=a.length;let l;for(r=0;r<i;r++)l=a[r],t.call(null,e[l],l,e)}}function by(e,t){if(Ya(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const fs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,wy=e=>!vo(e)&&e!==fs;function Ad(){const{caseless:e,skipUndefined:t}=wy(this)&&this||{},n={},r=(s,a)=>{const i=e&&by(n,a)||a;Ui(n[i])&&Ui(s)?n[i]=Ad(n[i],s):Ui(s)?n[i]=Ad({},s):Eo(s)?n[i]=s.slice():(!t||!vo(s))&&(n[i]=s)};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&Xa(arguments[s],r);return n}const Uk=(e,t,n,{allOwnKeys:r}={})=>(Xa(t,(s,a)=>{n&&xn(s)?e[a]=gy(s,n):e[a]=s},{allOwnKeys:r}),e),Gk=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Kk=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Jk=(e,t,n,r)=>{let s,a,i;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)i=s[a],(!r||r(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=n!==!1&&gf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Yk=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},Qk=e=>{if(!e)return null;if(Eo(e))return e;let t=e.length;if(!vy(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Xk=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&gf(Uint8Array)),Zk=(e,t)=>{const r=(e&&e[Rc]).call(e);let s;for(;(s=r.next())&&!s.done;){const a=s.value;t.call(e,a[0],a[1])}},eE=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},tE=er("HTMLFormElement"),nE=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Ih=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),rE=er("RegExp"),jy=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Xa(n,(s,a)=>{let i;(i=t(s,a,e))!==!1&&(r[a]=i||s)}),Object.defineProperties(e,r)},sE=e=>{jy(e,(t,n)=>{if(xn(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(xn(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},oE=(e,t)=>{const n={},r=s=>{s.forEach(a=>{n[a]=!0})};return Eo(e)?r(e):r(String(e).split(t)),n},aE=()=>{},iE=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function lE(e){return!!(e&&xn(e.append)&&e[xy]==="FormData"&&e[Rc])}const cE=e=>{const t=new Array(10),n=(r,s)=>{if(Qa(r)){if(t.indexOf(r)>=0)return;if(Ya(r))return r;if(!("toJSON"in r)){t[s]=r;const a=Eo(r)?[]:{};return Xa(r,(i,l)=>{const c=n(i,s+1);!vo(c)&&(a[l]=c)}),t[s]=void 0,a}}return r};return n(e,0)},uE=er("AsyncFunction"),dE=e=>e&&(Qa(e)||xn(e))&&xn(e.then)&&xn(e.catch),Sy=((e,t)=>e?setImmediate:t?((n,r)=>(fs.addEventListener("message",({source:s,data:a})=>{s===fs&&a===n&&r.length&&r.shift()()},!1),s=>{r.push(s),fs.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",xn(fs.postMessage)),pE=typeof queueMicrotask<"u"?queueMicrotask.bind(fs):typeof process<"u"&&process.nextTick||Sy,fE=e=>e!=null&&xn(e[Rc]),V={isArray:Eo,isArrayBuffer:yy,isBuffer:Ya,isFormData:Dk,isArrayBufferView:$k,isString:Pk,isNumber:vy,isBoolean:Rk,isObject:Qa,isPlainObject:Ui,isEmptyObject:Ik,isReadableStream:Bk,isRequest:Vk,isResponse:Hk,isHeaders:Wk,isUndefined:vo,isDate:Ak,isFile:Ok,isBlob:zk,isRegExp:rE,isFunction:xn,isStream:Mk,isURLSearchParams:Fk,isTypedArray:Xk,isFileList:Lk,forEach:Xa,merge:Ad,extend:Uk,trim:qk,stripBOM:Gk,inherits:Kk,toFlatObject:Jk,kindOf:Ic,kindOfTest:er,endsWith:Yk,toArray:Qk,forEachEntry:Zk,matchAll:eE,isHTMLForm:tE,hasOwnProperty:Ih,hasOwnProp:Ih,reduceDescriptors:jy,freezeMethods:sE,toObjectSet:oE,toCamelCase:nE,noop:aE,toFiniteNumber:iE,findKey:by,global:fs,isContextDefined:wy,isSpecCompliantForm:lE,toJSONObject:cE,isAsyncFn:uE,isThenable:dE,setImmediate:Sy,asap:pE,isIterable:fE};function Pe(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}V.inherits(Pe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:V.toJSONObject(this.config),code:this.code,status:this.status}}});const Ny=Pe.prototype,Cy={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Cy[e]={value:e}});Object.defineProperties(Pe,Cy);Object.defineProperty(Ny,"isAxiosError",{value:!0});Pe.from=(e,t,n,r,s,a)=>{const i=Object.create(Ny);V.toFlatObject(e,i,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return Pe.call(i,l,c,n,r,s),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",a&&Object.assign(i,a),i};const mE=null;function Od(e){return V.isPlainObject(e)||V.isArray(e)}function ky(e){return V.endsWith(e,"[]")?e.slice(0,-2):e}function Ah(e,t,n){return e?e.concat(t).map(function(s,a){return s=ky(s),!n&&a?"["+s+"]":s}).join(n?".":""):t}function hE(e){return V.isArray(e)&&!e.some(Od)}const gE=V.toFlatObject(V,{},null,function(t){return/^is[A-Z]/.test(t)});function Oc(e,t,n){if(!V.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=V.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,S){return!V.isUndefined(S[y])});const r=n.metaTokens,s=n.visitor||d,a=n.dots,i=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&V.isSpecCompliantForm(t);if(!V.isFunction(s))throw new TypeError("visitor must be a function");function u(h){if(h===null)return"";if(V.isDate(h))return h.toISOString();if(V.isBoolean(h))return h.toString();if(!c&&V.isBlob(h))throw new Pe("Blob is not supported. Use a Buffer instead.");return V.isArrayBuffer(h)||V.isTypedArray(h)?c&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function d(h,y,S){let v=h;if(h&&!S&&typeof h=="object"){if(V.endsWith(y,"{}"))y=r?y:y.slice(0,-2),h=JSON.stringify(h);else if(V.isArray(h)&&hE(h)||(V.isFileList(h)||V.endsWith(y,"[]"))&&(v=V.toArray(h)))return y=ky(y),v.forEach(function(f,x){!(V.isUndefined(f)||f===null)&&t.append(i===!0?Ah([y],x,a):i===null?y:y+"[]",u(f))}),!1}return Od(h)?!0:(t.append(Ah(S,y,a),u(h)),!1)}const g=[],b=Object.assign(gE,{defaultVisitor:d,convertValue:u,isVisitable:Od});function N(h,y){if(!V.isUndefined(h)){if(g.indexOf(h)!==-1)throw Error("Circular reference detected in "+y.join("."));g.push(h),V.forEach(h,function(v,w){(!(V.isUndefined(v)||v===null)&&s.call(t,v,V.isString(w)?w.trim():w,y,b))===!0&&N(v,y?y.concat(w):[w])}),g.pop()}}if(!V.isObject(e))throw new TypeError("data must be an object");return N(e),t}function Oh(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function xf(e,t){this._pairs=[],e&&Oc(e,this,t)}const Ey=xf.prototype;Ey.append=function(t,n){this._pairs.push([t,n])};Ey.toString=function(t){const n=t?function(r){return t.call(this,r,Oh)}:Oh;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function xE(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function _y(e,t,n){if(!t)return e;const r=n&&n.encode||xE;V.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let a;if(s?a=s(t,n):a=V.isURLSearchParams(t)?t.toString():new xf(t,n).toString(r),a){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class zh{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){V.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Ty={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},yE=typeof URLSearchParams<"u"?URLSearchParams:xf,vE=typeof FormData<"u"?FormData:null,bE=typeof Blob<"u"?Blob:null,wE={isBrowser:!0,classes:{URLSearchParams:yE,FormData:vE,Blob:bE},protocols:["http","https","file","blob","url","data"]},yf=typeof window<"u"&&typeof document<"u",zd=typeof navigator=="object"&&navigator||void 0,jE=yf&&(!zd||["ReactNative","NativeScript","NS"].indexOf(zd.product)<0),SE=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",NE=yf&&window.location.href||"http://localhost",CE=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:yf,hasStandardBrowserEnv:jE,hasStandardBrowserWebWorkerEnv:SE,navigator:zd,origin:NE},Symbol.toStringTag,{value:"Module"})),en={...CE,...wE};function kE(e,t){return Oc(e,new en.classes.URLSearchParams,{visitor:function(n,r,s,a){return en.isNode&&V.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function EE(e){return V.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function _E(e){const t={},n=Object.keys(e);let r;const s=n.length;let a;for(r=0;r<s;r++)a=n[r],t[a]=e[a];return t}function $y(e){function t(n,r,s,a){let i=n[a++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=a>=n.length;return i=!i&&V.isArray(s)?s.length:i,c?(V.hasOwnProp(s,i)?s[i]=[s[i],r]:s[i]=r,!l):((!s[i]||!V.isObject(s[i]))&&(s[i]=[]),t(n,r,s[i],a)&&V.isArray(s[i])&&(s[i]=_E(s[i])),!l)}if(V.isFormData(e)&&V.isFunction(e.entries)){const n={};return V.forEachEntry(e,(r,s)=>{t(EE(r),s,n,0)}),n}return null}function TE(e,t,n){if(V.isString(e))try{return(t||JSON.parse)(e),V.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Za={transitional:Ty,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,a=V.isObject(t);if(a&&V.isHTMLForm(t)&&(t=new FormData(t)),V.isFormData(t))return s?JSON.stringify($y(t)):t;if(V.isArrayBuffer(t)||V.isBuffer(t)||V.isStream(t)||V.isFile(t)||V.isBlob(t)||V.isReadableStream(t))return t;if(V.isArrayBufferView(t))return t.buffer;if(V.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return kE(t,this.formSerializer).toString();if((l=V.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Oc(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||s?(n.setContentType("application/json",!1),TE(t)):t}],transformResponse:[function(t){const n=this.transitional||Za.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(V.isResponse(t)||V.isReadableStream(t))return t;if(t&&V.isString(t)&&(r&&!this.responseType||s)){const i=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(i)throw l.name==="SyntaxError"?Pe.from(l,Pe.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:en.classes.FormData,Blob:en.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};V.forEach(["delete","get","head","post","put","patch"],e=>{Za.headers[e]={}});const $E=V.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),PE=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(i){s=i.indexOf(":"),n=i.substring(0,s).trim().toLowerCase(),r=i.substring(s+1).trim(),!(!n||t[n]&&$E[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Lh=Symbol("internals");function Uo(e){return e&&String(e).trim().toLowerCase()}function Gi(e){return e===!1||e==null?e:V.isArray(e)?e.map(Gi):String(e)}function RE(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const IE=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function wu(e,t,n,r,s){if(V.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!V.isString(t)){if(V.isString(r))return t.indexOf(r)!==-1;if(V.isRegExp(r))return r.test(t)}}function AE(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function OE(e,t){const n=V.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,a,i){return this[r].call(this,t,s,a,i)},configurable:!0})})}let yn=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function a(l,c,u){const d=Uo(c);if(!d)throw new Error("header name must be a non-empty string");const g=V.findKey(s,d);(!g||s[g]===void 0||u===!0||u===void 0&&s[g]!==!1)&&(s[g||c]=Gi(l))}const i=(l,c)=>V.forEach(l,(u,d)=>a(u,d,c));if(V.isPlainObject(t)||t instanceof this.constructor)i(t,n);else if(V.isString(t)&&(t=t.trim())&&!IE(t))i(PE(t),n);else if(V.isObject(t)&&V.isIterable(t)){let l={},c,u;for(const d of t){if(!V.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?V.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(l,n)}else t!=null&&a(n,t,r);return this}get(t,n){if(t=Uo(t),t){const r=V.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return RE(s);if(V.isFunction(n))return n.call(this,s,r);if(V.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Uo(t),t){const r=V.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||wu(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function a(i){if(i=Uo(i),i){const l=V.findKey(r,i);l&&(!n||wu(r,r[l],l,n))&&(delete r[l],s=!0)}}return V.isArray(t)?t.forEach(a):a(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const a=n[r];(!t||wu(this,this[a],a,t,!0))&&(delete this[a],s=!0)}return s}normalize(t){const n=this,r={};return V.forEach(this,(s,a)=>{const i=V.findKey(r,a);if(i){n[i]=Gi(s),delete n[a];return}const l=t?AE(a):String(a).trim();l!==a&&delete n[a],n[l]=Gi(s),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return V.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&V.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[Lh]=this[Lh]={accessors:{}}).accessors,s=this.prototype;function a(i){const l=Uo(i);r[l]||(OE(s,i),r[l]=!0)}return V.isArray(t)?t.forEach(a):a(t),this}};yn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);V.reduceDescriptors(yn.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});V.freezeMethods(yn);function ju(e,t){const n=this||Za,r=t||n,s=yn.from(r.headers);let a=r.data;return V.forEach(e,function(l){a=l.call(n,a,s.normalize(),t?t.status:void 0)}),s.normalize(),a}function Py(e){return!!(e&&e.__CANCEL__)}function _o(e,t,n){Pe.call(this,e??"canceled",Pe.ERR_CANCELED,t,n),this.name="CanceledError"}V.inherits(_o,Pe,{__CANCEL__:!0});function Ry(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Pe("Request failed with status code "+n.status,[Pe.ERR_BAD_REQUEST,Pe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function zE(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function LE(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,a=0,i;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=r[a];i||(i=u),n[s]=c,r[s]=u;let g=a,b=0;for(;g!==s;)b+=n[g++],g=g%e;if(s=(s+1)%e,s===a&&(a=(a+1)%e),u-i<t)return;const N=d&&u-d;return N?Math.round(b*1e3/N):void 0}}function ME(e,t){let n=0,r=1e3/t,s,a;const i=(u,d=Date.now())=>{n=d,s=null,a&&(clearTimeout(a),a=null),e(...u)};return[(...u)=>{const d=Date.now(),g=d-n;g>=r?i(u,d):(s=u,a||(a=setTimeout(()=>{a=null,i(s)},r-g)))},()=>s&&i(s)]}const Tl=(e,t,n=3)=>{let r=0;const s=LE(50,250);return ME(a=>{const i=a.loaded,l=a.lengthComputable?a.total:void 0,c=i-r,u=s(c),d=i<=l;r=i;const g={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-i)/u:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(g)},n)},Mh=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Dh=e=>(...t)=>V.asap(()=>e(...t)),DE=en.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,en.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(en.origin),en.navigator&&/(msie|trident)/i.test(en.navigator.userAgent)):()=>!0,FE=en.hasStandardBrowserEnv?{write(e,t,n,r,s,a,i){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];V.isNumber(n)&&l.push(`expires=${new Date(n).toUTCString()}`),V.isString(r)&&l.push(`path=${r}`),V.isString(s)&&l.push(`domain=${s}`),a===!0&&l.push("secure"),V.isString(i)&&l.push(`SameSite=${i}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function BE(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function VE(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Iy(e,t,n){let r=!BE(t);return e&&(r||n==!1)?VE(e,t):t}const Fh=e=>e instanceof yn?{...e}:e;function Cs(e,t){t=t||{};const n={};function r(u,d,g,b){return V.isPlainObject(u)&&V.isPlainObject(d)?V.merge.call({caseless:b},u,d):V.isPlainObject(d)?V.merge({},d):V.isArray(d)?d.slice():d}function s(u,d,g,b){if(V.isUndefined(d)){if(!V.isUndefined(u))return r(void 0,u,g,b)}else return r(u,d,g,b)}function a(u,d){if(!V.isUndefined(d))return r(void 0,d)}function i(u,d){if(V.isUndefined(d)){if(!V.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function l(u,d,g){if(g in t)return r(u,d);if(g in e)return r(void 0,u)}const c={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(u,d,g)=>s(Fh(u),Fh(d),g,!0)};return V.forEach(Object.keys({...e,...t}),function(d){const g=c[d]||s,b=g(e[d],t[d],d);V.isUndefined(b)&&g!==l||(n[d]=b)}),n}const Ay=e=>{const t=Cs({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:a,headers:i,auth:l}=t;if(t.headers=i=yn.from(i),t.url=_y(Iy(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),V.isFormData(n)){if(en.hasStandardBrowserEnv||en.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(V.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,g])=>{u.includes(d.toLowerCase())&&i.set(d,g)})}}if(en.hasStandardBrowserEnv&&(r&&V.isFunction(r)&&(r=r(t)),r||r!==!1&&DE(t.url))){const c=s&&a&&FE.read(a);c&&i.set(s,c)}return t},HE=typeof XMLHttpRequest<"u",WE=HE&&function(e){return new Promise(function(n,r){const s=Ay(e);let a=s.data;const i=yn.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,d,g,b,N,h;function y(){N&&N(),h&&h(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let S=new XMLHttpRequest;S.open(s.method.toUpperCase(),s.url,!0),S.timeout=s.timeout;function v(){if(!S)return;const f=yn.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),_={data:!l||l==="text"||l==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:f,config:e,request:S};Ry(function(P){n(P),y()},function(P){r(P),y()},_),S=null}"onloadend"in S?S.onloadend=v:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(v)},S.onabort=function(){S&&(r(new Pe("Request aborted",Pe.ECONNABORTED,e,S)),S=null)},S.onerror=function(x){const _=x&&x.message?x.message:"Network Error",k=new Pe(_,Pe.ERR_NETWORK,e,S);k.event=x||null,r(k),S=null},S.ontimeout=function(){let x=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const _=s.transitional||Ty;s.timeoutErrorMessage&&(x=s.timeoutErrorMessage),r(new Pe(x,_.clarifyTimeoutError?Pe.ETIMEDOUT:Pe.ECONNABORTED,e,S)),S=null},a===void 0&&i.setContentType(null),"setRequestHeader"in S&&V.forEach(i.toJSON(),function(x,_){S.setRequestHeader(_,x)}),V.isUndefined(s.withCredentials)||(S.withCredentials=!!s.withCredentials),l&&l!=="json"&&(S.responseType=s.responseType),u&&([b,h]=Tl(u,!0),S.addEventListener("progress",b)),c&&S.upload&&([g,N]=Tl(c),S.upload.addEventListener("progress",g),S.upload.addEventListener("loadend",N)),(s.cancelToken||s.signal)&&(d=f=>{S&&(r(!f||f.type?new _o(null,e,S):f),S.abort(),S=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const w=zE(s.url);if(w&&en.protocols.indexOf(w)===-1){r(new Pe("Unsupported protocol "+w+":",Pe.ERR_BAD_REQUEST,e));return}S.send(a||null)})},qE=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const a=function(u){if(!s){s=!0,l();const d=u instanceof Error?u:this.reason;r.abort(d instanceof Pe?d:new _o(d instanceof Error?d.message:d))}};let i=t&&setTimeout(()=>{i=null,a(new Pe(`timeout ${t} of ms exceeded`,Pe.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),e=null)};e.forEach(u=>u.addEventListener("abort",a));const{signal:c}=r;return c.unsubscribe=()=>V.asap(l),c}},UE=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},GE=async function*(e,t){for await(const n of KE(e))yield*UE(n,t)},KE=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Bh=(e,t,n,r)=>{const s=GE(e,t);let a=0,i,l=c=>{i||(i=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){l(),c.close();return}let g=d.byteLength;if(n){let b=a+=g;n(b)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},Vh=64*1024,{isFunction:Ei}=V,JE=(({Request:e,Response:t})=>({Request:e,Response:t}))(V.global),{ReadableStream:Hh,TextEncoder:Wh}=V.global,qh=(e,...t)=>{try{return!!e(...t)}catch{return!1}},YE=e=>{e=V.merge.call({skipUndefined:!0},JE,e);const{fetch:t,Request:n,Response:r}=e,s=t?Ei(t):typeof fetch=="function",a=Ei(n),i=Ei(r);if(!s)return!1;const l=s&&Ei(Hh),c=s&&(typeof Wh=="function"?(h=>y=>h.encode(y))(new Wh):async h=>new Uint8Array(await new n(h).arrayBuffer())),u=a&&l&&qh(()=>{let h=!1;const y=new n(en.origin,{body:new Hh,method:"POST",get duplex(){return h=!0,"half"}}).headers.has("Content-Type");return h&&!y}),d=i&&l&&qh(()=>V.isReadableStream(new r("").body)),g={stream:d&&(h=>h.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(h=>{!g[h]&&(g[h]=(y,S)=>{let v=y&&y[h];if(v)return v.call(y);throw new Pe(`Response type '${h}' is not supported`,Pe.ERR_NOT_SUPPORT,S)})});const b=async h=>{if(h==null)return 0;if(V.isBlob(h))return h.size;if(V.isSpecCompliantForm(h))return(await new n(en.origin,{method:"POST",body:h}).arrayBuffer()).byteLength;if(V.isArrayBufferView(h)||V.isArrayBuffer(h))return h.byteLength;if(V.isURLSearchParams(h)&&(h=h+""),V.isString(h))return(await c(h)).byteLength},N=async(h,y)=>{const S=V.toFiniteNumber(h.getContentLength());return S??b(y)};return async h=>{let{url:y,method:S,data:v,signal:w,cancelToken:f,timeout:x,onDownloadProgress:_,onUploadProgress:k,responseType:P,headers:A,withCredentials:C="same-origin",fetchOptions:R}=Ay(h),L=t||fetch;P=P?(P+"").toLowerCase():"text";let j=qE([w,f&&f.toAbortSignal()],x),T=null;const E=j&&j.unsubscribe&&(()=>{j.unsubscribe()});let I;try{if(k&&u&&S!=="get"&&S!=="head"&&(I=await N(A,v))!==0){let K=new n(y,{method:"POST",body:v,duplex:"half"}),J;if(V.isFormData(v)&&(J=K.headers.get("content-type"))&&A.setContentType(J),K.body){const[Y,Ne]=Mh(I,Tl(Dh(k)));v=Bh(K.body,Vh,Y,Ne)}}V.isString(C)||(C=C?"include":"omit");const z=a&&"credentials"in n.prototype,H={...R,signal:j,method:S.toUpperCase(),headers:A.normalize().toJSON(),body:v,duplex:"half",credentials:z?C:void 0};T=a&&new n(y,H);let M=await(a?L(T,R):L(y,H));const D=d&&(P==="stream"||P==="response");if(d&&(_||D&&E)){const K={};["status","statusText","headers"].forEach(xe=>{K[xe]=M[xe]});const J=V.toFiniteNumber(M.headers.get("content-length")),[Y,Ne]=_&&Mh(J,Tl(Dh(_),!0))||[];M=new r(Bh(M.body,Vh,Y,()=>{Ne&&Ne(),E&&E()}),K)}P=P||"text";let X=await g[V.findKey(g,P)||"text"](M,h);return!D&&E&&E(),await new Promise((K,J)=>{Ry(K,J,{data:X,headers:yn.from(M.headers),status:M.status,statusText:M.statusText,config:h,request:T})})}catch(z){throw E&&E(),z&&z.name==="TypeError"&&/Load failed|fetch/i.test(z.message)?Object.assign(new Pe("Network Error",Pe.ERR_NETWORK,h,T),{cause:z.cause||z}):Pe.from(z,z&&z.code,h,T)}}},QE=new Map,Oy=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:s}=t,a=[r,s,n];let i=a.length,l=i,c,u,d=QE;for(;l--;)c=a[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:YE(t)),d=u;return u};Oy();const vf={http:mE,xhr:WE,fetch:{get:Oy}};V.forEach(vf,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Uh=e=>`- ${e}`,XE=e=>V.isFunction(e)||e===null||e===!1;function ZE(e,t){e=V.isArray(e)?e:[e];const{length:n}=e;let r,s;const a={};for(let i=0;i<n;i++){r=e[i];let l;if(s=r,!XE(r)&&(s=vf[(l=String(r)).toLowerCase()],s===void 0))throw new Pe(`Unknown adapter '${l}'`);if(s&&(V.isFunction(s)||(s=s.get(t))))break;a[l||"#"+i]=s}if(!s){const i=Object.entries(a).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=n?i.length>1?`since :
`+i.map(Uh).join(`
`):" "+Uh(i[0]):"as no adapter specified";throw new Pe("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s}const zy={getAdapter:ZE,adapters:vf};function Su(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new _o(null,e)}function Gh(e){return Su(e),e.headers=yn.from(e.headers),e.data=ju.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),zy.getAdapter(e.adapter||Za.adapter,e)(e).then(function(r){return Su(e),r.data=ju.call(e,e.transformResponse,r),r.headers=yn.from(r.headers),r},function(r){return Py(r)||(Su(e),r&&r.response&&(r.response.data=ju.call(e,e.transformResponse,r.response),r.response.headers=yn.from(r.response.headers))),Promise.reject(r)})}const Ly="1.13.2",zc={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{zc[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Kh={};zc.transitional=function(t,n,r){function s(a,i){return"[Axios v"+Ly+"] Transitional option '"+a+"'"+i+(r?". "+r:"")}return(a,i,l)=>{if(t===!1)throw new Pe(s(i," has been removed"+(n?" in "+n:"")),Pe.ERR_DEPRECATED);return n&&!Kh[i]&&(Kh[i]=!0,console.warn(s(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,i,l):!0}};zc.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function e_(e,t,n){if(typeof e!="object")throw new Pe("options must be an object",Pe.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const a=r[s],i=t[a];if(i){const l=e[a],c=l===void 0||i(l,a,e);if(c!==!0)throw new Pe("option "+a+" must be "+c,Pe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Pe("Unknown option "+a,Pe.ERR_BAD_OPTION)}}const Ki={assertOptions:e_,validators:zc},sr=Ki.validators;let xs=class{constructor(t){this.defaults=t||{},this.interceptors={request:new zh,response:new zh}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Cs(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:a}=n;r!==void 0&&Ki.assertOptions(r,{silentJSONParsing:sr.transitional(sr.boolean),forcedJSONParsing:sr.transitional(sr.boolean),clarifyTimeoutError:sr.transitional(sr.boolean)},!1),s!=null&&(V.isFunction(s)?n.paramsSerializer={serialize:s}:Ki.assertOptions(s,{encode:sr.function,serialize:sr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Ki.assertOptions(n,{baseUrl:sr.spelling("baseURL"),withXsrfToken:sr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=a&&V.merge(a.common,a[n.method]);a&&V.forEach(["delete","get","head","post","put","patch","common"],h=>{delete a[h]}),n.headers=yn.concat(i,a);const l=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(c=c&&y.synchronous,l.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let d,g=0,b;if(!c){const h=[Gh.bind(this),void 0];for(h.unshift(...l),h.push(...u),b=h.length,d=Promise.resolve(n);g<b;)d=d.then(h[g++],h[g++]);return d}b=l.length;let N=n;for(;g<b;){const h=l[g++],y=l[g++];try{N=h(N)}catch(S){y.call(this,S);break}}try{d=Gh.call(this,N)}catch(h){return Promise.reject(h)}for(g=0,b=u.length;g<b;)d=d.then(u[g++],u[g++]);return d}getUri(t){t=Cs(this.defaults,t);const n=Iy(t.baseURL,t.url,t.allowAbsoluteUrls);return _y(n,t.params,t.paramsSerializer)}};V.forEach(["delete","get","head","options"],function(t){xs.prototype[t]=function(n,r){return this.request(Cs(r||{},{method:t,url:n,data:(r||{}).data}))}});V.forEach(["post","put","patch"],function(t){function n(r){return function(a,i,l){return this.request(Cs(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:i}))}}xs.prototype[t]=n(),xs.prototype[t+"Form"]=n(!0)});let t_=class My{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(s=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](s);r._listeners=null}),this.promise.then=s=>{let a;const i=new Promise(l=>{r.subscribe(l),a=l}).then(s);return i.cancel=function(){r.unsubscribe(a)},i},t(function(a,i,l){r.reason||(r.reason=new _o(a,i,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new My(function(s){t=s}),cancel:t}}};function n_(e){return function(n){return e.apply(null,n)}}function r_(e){return V.isObject(e)&&e.isAxiosError===!0}const Ld={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Ld).forEach(([e,t])=>{Ld[t]=e});function Dy(e){const t=new xs(e),n=gy(xs.prototype.request,t);return V.extend(n,xs.prototype,t,{allOwnKeys:!0}),V.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return Dy(Cs(e,s))},n}const bt=Dy(Za);bt.Axios=xs;bt.CanceledError=_o;bt.CancelToken=t_;bt.isCancel=Py;bt.VERSION=Ly;bt.toFormData=Oc;bt.AxiosError=Pe;bt.Cancel=bt.CanceledError;bt.all=function(t){return Promise.all(t)};bt.spread=n_;bt.isAxiosError=r_;bt.mergeConfig=Cs;bt.AxiosHeaders=yn;bt.formToJSON=e=>$y(V.isHTMLForm(e)?new FormData(e):e);bt.getAdapter=zy.getAdapter;bt.HttpStatusCode=Ld;bt.default=bt;const{Axios:f_,AxiosError:m_,CanceledError:h_,isCancel:g_,CancelToken:x_,VERSION:y_,all:v_,Cancel:b_,isAxiosError:w_,spread:j_,toFormData:S_,AxiosHeaders:N_,HttpStatusCode:C_,formToJSON:k_,getAdapter:E_,mergeConfig:__}=bt;function s_({currentUser:e}){var L,j;const[t,n]=m.useState("aujourd'hui"),[r,s]=m.useState(null),[a,i]=m.useState(!1),[l,c]=m.useState(null),[u,d]=m.useState(!1),[g,b]=m.useState(!1),[N,h]=m.useState(null),y=(e==null?void 0:e.role)||"admin",S=(e==null?void 0:e.gazelleId)||(e==null?void 0:e.id)||null,v=(e==null?void 0:e.name)||"Utilisateur",w=(e==null?void 0:e.email)||"",f=()=>{if(y==="technician")return!0;const T=v.toLowerCase(),E=w.toLowerCase();return!!(T==="nick"||T==="nicolas"||T==="jp"||T==="jean-philippe"||T.includes("jean-philippe")||T==="allan"||E.includes("nicolas@")||E.includes("nick@")||E.includes("jp@")||E.includes("jean-philippe@")||E.includes("allan@")||E.includes("asutton@"))},x=()=>y==="admin"?" Vue d'ensemble":f()?" Mes journes, nos clients":" Planification & Clients",_=()=>y==="admin"||f()?[{label:"Aujourd'hui",query:"aujourd'hui"},{label:"Demain",query:"demain"},{label:"Aprs-demain",query:"aprs-demain"}]:[{label:"RV de Nick",query:"rv de nick demain"},{label:"RV de JP",query:"rv de jean-philippe demain"},{label:"Tous les RV demain",query:"tous les rv demain"}],k=()=>y==="admin"?"Ex: Tous les RV demain, Stats du mois, Client Anne-Marie...":f()?"Ex: Ma journe demain, Cette semaine, Client Anne-Marie...":"Ex: RV de Nick demain, Client Anne-Marie, Qui va  Place des Arts...";m.useEffect(()=>{A("aujourd'hui")},[]);const P=async()=>{i(!0);try{const T=await bt.post(`${me}/api/chat/query`,{query:t,technician_id:S,user_role:y});s(T.data)}catch(T){console.error("Erreur query:",T),alert("Erreur lors de la requte")}finally{i(!1)}},A=async T=>{var I;n(T),i(!0);const E={query:T,technician_id:S,user_role:y};console.log("[ChatIntelligent] Sending query:",E);try{const z=await bt.post(`${me}/api/chat/query`,E);console.log("[ChatIntelligent] Query response:",z.data),s(z.data)}catch(z){console.error("[ChatIntelligent] Query error:",z),console.error("[ChatIntelligent] Error response:",(I=z.response)==null?void 0:I.data)}finally{i(!1)}},C=async T=>{c(T),d(!0),b(!0);try{const E=await bt.get(`${me}/api/chat/appointment/${T.appointment_id}`);h(E.data)}catch(E){console.error("Erreur dtails:",E),alert("Erreur lors du chargement des dtails")}finally{b(!1)}},R=()=>{d(!1),c(null),h(null)};return o.jsxs(Tt,{sx:{p:2,maxWidth:800,mx:"auto"},children:[o.jsxs(Tt,{sx:{mb:3},children:[o.jsx(On,{variant:"h4",gutterBottom:!0,sx:{fontWeight:"bold"},children:x()}),o.jsx(Tt,{sx:{display:"flex",gap:1,mb:2,flexWrap:"wrap"},children:_().map((T,E)=>o.jsx(ur,{label:T.label,onClick:()=>A(T.query),color:"primary",variant:"outlined"},E))}),o.jsxs(Tt,{sx:{display:"flex",gap:1},children:[o.jsx(ck,{fullWidth:!0,placeholder:k(),value:t,onChange:T=>n(T.target.value),onKeyPress:T=>T.key==="Enter"&&P(),size:"small"}),o.jsx(uC,{variant:"contained",onClick:P,disabled:a,children:a?o.jsx(za,{size:24}):"Go"})]})]}),(r==null?void 0:r.day_overview)&&o.jsx(Tt,{sx:{mb:3},children:o.jsxs(Tt,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[o.jsx(ur,{icon:o.jsx(py,{}),label:`${r.day_overview.total_appointments} RDV`,color:"primary"}),o.jsx(ur,{icon:o.jsx(fy,{}),label:`${r.day_overview.total_pianos} pianos`}),o.jsx(ur,{label:`~${r.day_overview.estimated_duration_hours.toFixed(1)}h`}),r.day_overview.neighborhoods.map((T,E)=>o.jsx(ur,{icon:o.jsx(dk,{}),label:T,variant:"outlined",size:"small"},E))]})}),(r==null?void 0:r.text_response)&&o.jsx(Tt,{sx:{mb:3,p:2,bgcolor:"info.light",borderRadius:2,borderLeft:"4px solid",borderColor:"info.main"},children:o.jsx(On,{variant:"body1",sx:{whiteSpace:"pre-wrap",color:"info.contrastText"},children:r.text_response})}),a&&o.jsx(Tt,{sx:{textAlign:"center",py:4},children:o.jsx(za,{})}),(L=r==null?void 0:r.day_overview)==null?void 0:L.appointments.map((T,E)=>o.jsx(o_,{appointment:T,onClick:()=>C(T)},T.appointment_id||T.external_id||`apt-${E}`)),((j=r==null?void 0:r.day_overview)==null?void 0:j.appointments.length)===0&&!(r!=null&&r.text_response)&&o.jsx(Tt,{sx:{textAlign:"center",py:4,color:"text.secondary"},children:o.jsx(On,{children:"Aucun rendez-vous pour cette journe"})}),o.jsx(KC,{anchor:"bottom",open:u,onClose:R,PaperProps:{sx:{maxHeight:"90vh",borderTopLeftRadius:16,borderTopRightRadius:16}},children:o.jsx(a_,{appointment:l,detail:N,loading:g,onClose:R})})]})}function o_({appointment:e,onClick:t}){return o.jsx(mC,{sx:{mb:2,cursor:"pointer","&:hover":{boxShadow:4,transform:"translateY(-2px)"},transition:"all 0.2s",borderLeft:e.priority==="high"?"4px solid #ff9800":"4px solid transparent"},onClick:t,children:o.jsxs(yC,{sx:{pb:1.5,"&:last-child":{pb:1.5}},children:[o.jsxs(Tt,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:1},children:[o.jsxs(Tt,{sx:{display:"flex",alignItems:"center",gap:.5},children:[o.jsx(py,{fontSize:"small",color:"primary"}),o.jsx(On,{variant:"h6",sx:{fontWeight:"bold",fontSize:"1.1rem"},children:e.time_slot}),e.is_new_client&&o.jsx(ur,{label:"Nouveau",size:"small",color:"success",sx:{height:20,fontSize:"0.7rem"}}),e.has_alerts&&o.jsx(pk,{fontSize:"small",color:"error"}),e.priority==="high"&&o.jsx(ur,{label:"URGENT",size:"small",color:"warning",sx:{height:20,fontSize:"0.7rem",fontWeight:"bold"}})]}),e.neighborhood&&o.jsx(Tt,{sx:{bgcolor:"primary.main",color:"white",px:1.5,py:.5,borderRadius:1,fontWeight:"bold",fontSize:"1rem"},children:e.neighborhood})]}),o.jsxs(Tt,{sx:{display:"flex",alignItems:"center",gap:.75,mb:.5},children:[o.jsx(On,{variant:"body1",sx:{fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.client_name}),e.has_dampp_chaser&&o.jsx(ur,{label:"PLS",size:"small",color:"info",sx:{height:"20px",fontSize:"0.7rem",fontWeight:"bold"}})]}),o.jsxs(Tt,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5,flexWrap:"wrap"},children:[e.piano_brand&&o.jsxs(Tt,{sx:{display:"flex",alignItems:"center",gap:.5},children:[o.jsx(fy,{fontSize:"small",color:"action"}),o.jsxs(On,{variant:"body2",sx:{fontWeight:600},children:[e.piano_brand," ",e.piano_model]})]}),e.address_short&&o.jsxs(o.Fragment,{children:[o.jsx(On,{variant:"body2",color:"text.secondary",children:""}),o.jsx(On,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.85rem"},children:e.address_short})]})]}),e.action_items.length>0&&o.jsxs(Tt,{sx:{display:"flex",gap:.5,flexWrap:"wrap",mt:1},children:[e.action_items.slice(0,3).map((n,r)=>o.jsx(ur,{label:n,size:"small",variant:"outlined",color:"primary",sx:{height:"22px",fontSize:"0.7rem"}},r)),e.action_items.length>3&&o.jsx(ur,{label:`+${e.action_items.length-3}`,size:"small",variant:"outlined",sx:{height:"22px",fontSize:"0.7rem"}})]}),e.last_visit_date&&o.jsxs(On,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:.5,fontSize:"0.7rem"},children:["Dernire visite: ",e.last_visit_date,e.days_since_last_visit&&` (${e.days_since_last_visit}j)`]})]})})}function a_({appointment:e,detail:t,loading:n,onClose:r}){if(n)return o.jsxs(Tt,{sx:{p:3,textAlign:"center"},children:[o.jsx(za,{}),o.jsx(On,{sx:{mt:2},children:"Chargement des dtails..."})]});if(!t)return o.jsx(Tt,{sx:{p:3},children:"Aucun dtail disponible"});const{overview:s,comfort:a,timeline_summary:i,timeline_entries:l}=t,d=new Date(s.date)<new Date,b=(()=>{const N=[];if(a.dog_name||a.cat_name){const y=[];a.dog_name&&y.push(`chien ${a.dog_name}${a.dog_breed?` (${a.dog_breed})`:""}`),a.cat_name&&y.push(`chat ${a.cat_name}`),N.push(` ${y.join(", ")}`)}a.access_code&&N.push(` Code: ${a.access_code}`),a.access_instructions&&N.push(a.access_instructions),a.floor_number&&N.push(`tage ${a.floor_number}`),a.parking_info&&N.push(a.parking_info),a.contact_phone&&N.push(` ${a.contact_phone}`);const h=[];return a.preferred_tuning_hz&&h.push(`accordage ${a.preferred_tuning_hz}Hz`),a.climate_sensitive&&h.push("sensible au climat"),h.length>0&&N.push(` ${h.join(", ")}`),a.preferred_language&&N.push(`Langue: ${a.preferred_language}`),a.temperament&&N.push(`${a.temperament}`),a.special_notes&&N.push(` ${a.special_notes}`),t.client_smart_summary&&N.push(t.client_smart_summary),t.piano_smart_summary&&d&&N.push(t.piano_smart_summary),i&&N.push(i),N.filter(y=>y).join(". ")})();return o.jsxs(Tt,{sx:{p:3},children:[o.jsxs(Tt,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[o.jsx(On,{variant:"h5",sx:{fontWeight:"bold"},children:s.client_name}),o.jsx(NN,{onClick:r,children:o.jsx(uk,{})})]}),b&&o.jsx(Tt,{sx:{mb:3},children:o.jsx(On,{variant:"body1",sx:{p:2,bgcolor:"grey.50",borderRadius:1,lineHeight:1.8,fontSize:"1rem"},children:b})})]})}function i_({currentUser:e,role:t="admin",compact:n=!1,onBackToDashboard:r,useChatIntelligent:s=!1,onOpenMaJournee:a}){const[i,l]=m.useState(!1);m.useEffect(()=>{const x=()=>{l(window.innerWidth<768)};return x(),window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[]);const[c,u]=m.useState(!1),[d,g]=m.useState([]),[b,N]=m.useState(""),[h,y]=m.useState(!1),S=m.useRef(null);m.useEffect(()=>{var x;(x=S.current)==null||x.scrollIntoView({behavior:"smooth"})},[d]);const v=()=>{const x={admin:" Bonjour Allan ! Je peux vous aider avec les stats, les imports, les recherches de clients, etc.",nick:" Salut Nick ! Je peux t'aider avec tes tournes, tes rendez-vous et ton inventaire.",louise:" Bonjour Louise ! Je peux t'aider avec les rendez-vous, les recherches de clients et les stats.",jeanphilippe:" Salut Jean-Philippe ! Je peux t'aider avec tes rendez-vous, les pianos et ton stock."};return x[t]||x.admin},w=()=>{const x={admin:[{text:".aide",description:"Voir toutes les commandes"},{text:".mes rv",description:"Mes prochains rendez-vous"},{text:".stats",description:"Statistiques du systme"},{text:".cherche Yamaha",description:"Chercher un client/piano"}],nick:[{text:".mes rv",description:"Mes prochains rendez-vous"},{text:".prochaines tournes",description:"Mes tournes  venir"},{text:".stock cordes",description:"Stock de cordes disponible"},{text:".aide",description:"Voir toutes les commandes"}],louise:[{text:".rv demain",description:"Rendez-vous de demain"},{text:".cherche client",description:"Chercher un client"},{text:".stats mois",description:"Stats du mois"},{text:".aide",description:"Voir toutes les commandes"}],jeanphilippe:[{text:".mes rv",description:"Mes prochains rendez-vous"},{text:".piano [numro]",description:"Infos d'un piano"},{text:".stock marteaux",description:"Stock de marteaux"},{text:".aide",description:"Voir toutes les commandes"}]};return x[t]||x.admin},f=async(x=b)=>{var k;if(!x.trim())return;const _={role:"user",content:x};g(P=>[...P,_]),N(""),y(!0);try{const P=await fetch(`${me}/api/assistant/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:x,user_id:(e==null?void 0:e.email)||"anonymous"})});if(!P.ok)throw new Error(`HTTP ${P.status}`);const A=await P.json(),C=((k=A.structured_data)==null?void 0:k.clickable_entities)||[],R=new Map;C.forEach(T=>{if(!(T!=null&&T.name))return;const E=`${T.name.trim().toLowerCase()}|${(T.city||"").trim().toLowerCase()}`,I=R.get(E);(!I||I.type!=="client"&&T.type==="client")&&R.set(E,T)});const L=Array.from(R.values()),j={role:"assistant",content:A.answer||"Dsol, je n'ai pas pu traiter votre demande.",metadata:{query_type:A.query_type,confidence:A.confidence,clickable_entities:L},structured_data:A.structured_data||null};g(T=>[...T,j])}catch(P){console.error("Erreur assistant:",P),g(A=>[...A,{role:"assistant",content:` Erreur: ${P.message}. Vrifiez que l'API est dmarre.`,error:!0}])}finally{y(!1)}};return c?s&&c?o.jsxs("div",{className:`fixed ${i?"inset-0 w-full h-full rounded-none":"bottom-6 right-6 rounded-lg"} bg-white shadow-2xl border border-gray-200 z-50 flex flex-col`,style:i?{}:{width:"600px",maxWidth:"90vw",height:"80vh",maxHeight:"800px"},children:[o.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4 rounded-t-lg flex justify-between items-center",children:[o.jsx("h2",{className:"text-lg font-bold",children:"mes journes, nos clients"}),o.jsx("button",{onClick:()=>u(!1),className:"text-white/80 hover:text-white transition-colors",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsx("div",{className:"flex-1 overflow-auto",children:o.jsx(s_,{currentUser:e})})]}):o.jsxs("div",{className:`fixed ${i?"inset-0 w-full h-full rounded-none":"bottom-6 right-6 w-96 rounded-lg"} bg-white shadow-2xl border border-gray-200 z-50 flex flex-col`,style:i?{}:{height:n?"400px":"600px"},children:[o.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4 rounded-t-lg flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[r&&o.jsx("button",{onClick:r,className:"text-white/80 hover:text-white mr-2 md:hidden",title:"Retour au dashboard",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})}),o.jsx("h3",{className:"font-semibold",children:"Assistant Gazelle"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>g([]),className:"text-white/80 hover:text-white text-sm",title:"Effacer l'historique",children:""}),o.jsx("button",{onClick:()=>u(!1),className:"text-white/80 hover:text-white",title:"Fermer",children:""})]})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50",children:[d.map((x,_)=>{var k,P;return o.jsx("div",{className:`flex ${x.role==="user"?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-[80%] rounded-lg p-3 ${x.role==="user"?"bg-blue-600 text-white":x.error?"bg-red-100 text-red-800 border border-red-300":"bg-white border border-gray-200 text-gray-800"}`,children:[x.role==="assistant"&&((k=x.metadata)!=null&&k.clickable_entities)&&x.metadata.clickable_entities.length>0?(()=>{const A=new Map;x.metadata.clickable_entities.forEach(T=>{if(!(T!=null&&T.name))return;const E=`${T.name.trim().toLowerCase()}|${(T.city||"").trim().toLowerCase()}`,I=A.get(E);(!I||I.type!=="client"&&T.type==="client")&&A.set(E,T)});const C=Array.from(A.values()),R=` **${C.length} clients trouvs:**

`,L=C.map(T=>{const E=T.city?` (${T.city})`:"",I=T.type==="contact"?" [Contact]":"";return`- **${T.name}**${E}${I}`}).join(`
`),j=C.length>0?`${R}${L}`:x.content;return o.jsx(_k,{content:j,entities:C,currentUser:e,onAskQuestion:f,onSelectClient:T=>{console.log("Client slectionn:",T)}})})():o.jsx("div",{className:"text-sm whitespace-pre-wrap",children:x.content}),((P=x.structured_data)==null?void 0:P.appointments)&&o.jsx("div",{className:"mt-3 space-y-2",children:x.structured_data.appointments.map((A,C)=>o.jsxs("div",{className:"p-2 bg-gray-50 rounded border border-gray-200 hover:bg-gray-100 cursor-pointer transition-colors",onClick:()=>{A.client_external_id&&f(`cherche client ${A.client_external_id}`)},title:A.client_external_id?"Cliquer pour voir les dtails du client":"",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-blue-600 hover:text-blue-800",children:A.client_name}),A.location&&o.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",A.location,")"]})]}),o.jsx("div",{className:"text-xs text-gray-400",children:A.appointment_time})]}),A.description&&o.jsx("div",{className:"text-xs text-gray-600 mt-1",children:A.description})]},C))}),x.metadata&&o.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-200 text-xs text-gray-500",children:[o.jsxs("div",{children:["Type: ",x.metadata.query_type]}),x.metadata.confidence&&o.jsxs("div",{children:["Confiance: ",(x.metadata.confidence*100).toFixed(0),"%"]})]})]})},_)}),h&&o.jsx("div",{className:"flex justify-start",children:o.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:o.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),o.jsx("span",{className:"text-sm",children:"Rflexion en cours..."})]})})}),o.jsx("div",{ref:S})]}),d.length<=1&&o.jsxs("div",{className:"px-4 py-2 border-t border-gray-200 bg-gray-50",children:[o.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Suggestions :"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:w().map((x,_)=>o.jsx("button",{onClick:()=>f(x.text),className:"px-3 py-1 text-xs bg-white border border-gray-300 rounded-full hover:bg-blue-50 hover:border-blue-300 transition-colors",title:x.description,children:x.text},_))})]}),o.jsxs("div",{className:"p-4 border-t border-gray-200 bg-white rounded-b-lg",children:[o.jsxs("form",{onSubmit:x=>{x.preventDefault(),f()},className:"flex gap-2",children:[o.jsx("input",{type:"text",value:b,onChange:x=>N(x.target.value),placeholder:"Posez votre question...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",disabled:h}),o.jsx("button",{type:"submit",disabled:h||!b.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors text-sm font-medium",children:"Envoyer"})]}),o.jsxs("div",{className:"mt-2 text-xs text-gray-500 text-center",children:["Tapez ",o.jsx("code",{className:"bg-gray-100 px-1 rounded",children:".aide"})," pour voir les commandes"]})]})]}):o.jsxs("button",{onClick:()=>{if(console.log("[AssistantWidget] Bouton cliqu!",{onOpenMaJournee:!!a,currentUser:e}),a){console.log("[AssistantWidget] Appel onOpenMaJournee()"),a();return}console.log("[AssistantWidget] Ouverture widget classique"),u(!0),d.length===0&&g([{role:"assistant",content:v()}])},className:"fixed bottom-6 right-6 bg-blue-600 hover:bg-blue-700 text-white rounded-full p-4 shadow-lg transition-all hover:scale-110 z-50",title:a?"Ouvrir Ma Journe":"Ouvrir l'assistant",children:[o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})}),o.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:"?"})]})}function l_({briefing:e,currentUser:t,onFeedbackSaved:n}){var z,H,M,D,X,K;const[r,s]=m.useState(!1),[a,i]=m.useState(!1),[l,c]=m.useState(""),[u,d]=m.useState(!1),[g,b]=m.useState(null),N=(t==null?void 0:t.email)==="asutton@piano-tek.com",{appointment:h,profile:y,piano:S,technical_history:v,estimate_items:w,client_name:f,client_since:x,confidence_score:_,follow_ups:k,extraction_mode:P}=e,A=[];(y==null?void 0:y.language)==="EN"&&A.push({icon:"",label:"Anglophone"}),(y==null?void 0:y.language)==="BI"&&A.push({icon:"",label:"Bilingue"}),((z=y==null?void 0:y.pets)==null?void 0:z.length)>0&&A.push({icon:"",label:y.pets.join(", ")}),(H=y==null?void 0:y.courtesies)!=null&&H.includes("enlever chaussures")&&A.push({icon:"",label:"Enlever chaussures"}),(M=y==null?void 0:y.courtesies)!=null&&M.includes("appeler avant")&&A.push({icon:"",label:"Appeler avant"}),y!=null&&y.payment_method&&A.push({icon:"",label:y.payment_method});const C=(h==null?void 0:h.collaboration)||[],R=v==null?void 0:v[0],L=((D=S==null?void 0:S.warnings)==null?void 0:D.length)>0,j=(k==null?void 0:k.length)>0,T=(S==null?void 0:S.pls_status)||{},E=async()=>{if(l.trim()){d(!0);try{(await fetch(`${me}/api/briefing/feedback`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:e.client_id,note:l.trim(),created_by:(t==null?void 0:t.email)||"asutton@piano-tek.com"})})).ok&&(i(!1),c(""),n==null||n())}catch(J){console.error("Erreur feedback:",J)}finally{d(!1)}}},I=async J=>{b(J);try{(await fetch(`${me}/api/briefing/follow-up/resolve`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({item_id:J,resolved_by:(t==null?void 0:t.gazelleId)||(t==null?void 0:t.email)})})).ok&&(n==null||n())}catch(Y){console.error("Erreur rsolution:",Y)}finally{b(null)}};return o.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden mb-4 border border-gray-100",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-4 py-3 text-white",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-2xl font-bold font-mono",children:(h==null?void 0:h.time)||"--:--"}),o.jsxs("div",{children:[o.jsxs("div",{className:"font-semibold text-lg",children:[f||"Client",x&&o.jsx("span",{className:"text-blue-200 text-sm font-normal ml-2",children:x})]}),(h==null?void 0:h.title)&&h.title!==f&&o.jsx("div",{className:"text-blue-100 text-sm",children:h.title})]})]}),o.jsx("div",{className:"flex items-center gap-2",children:_<.5&&o.jsx("span",{className:"bg-yellow-400 text-yellow-900 text-xs px-2 py-1 rounded-full",children:"Donnees limitees"})})]})}),o.jsxs("div",{className:"p-4 space-y-3",children:[A.length>0&&o.jsx("div",{className:"flex flex-wrap gap-2",children:A.map((J,Y)=>o.jsxs("span",{className:"bg-gray-100 px-3 py-1 rounded-full text-sm flex items-center gap-1",title:J.label,children:[o.jsx("span",{className:"text-lg",children:J.icon}),o.jsx("span",{className:"text-gray-600 hidden sm:inline",children:J.label})]},Y))}),(S==null?void 0:S.make)&&o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-xl",children:""}),o.jsxs("div",{children:[o.jsxs("div",{className:"font-medium text-gray-900",children:[S.make," ",S.model,S.year>0&&o.jsxs("span",{className:"text-gray-500 ml-1",children:["(",S.year,")"]})]}),S.age_years>0&&o.jsxs("div",{className:"text-sm text-gray-500",children:[S.age_years," ans ",S.type&&` ${S.type}`]})]})]}),L&&o.jsx("div",{className:"space-y-1",children:S.warnings.map((J,Y)=>o.jsx("div",{className:"bg-orange-50 border-l-4 border-orange-400 px-3 py-2 text-sm text-orange-800",children:J},Y))}),C.length>0&&o.jsxs("div",{className:"bg-indigo-50 border-l-4 border-indigo-400 px-3 py-2 text-sm text-indigo-800",children:["En collaboration avec ",C.map((J,Y)=>o.jsxs("span",{className:"font-semibold",children:[J.technician_name,J.time?` (${J.time})`:"",Y<C.length-1?", ":""]},Y))]}),R&&o.jsxs("div",{className:"text-sm text-gray-600",children:["Dernier: ",o.jsx("span",{className:"font-medium",children:R.technician}),", ",R.date]}),j&&!r&&o.jsxs("div",{className:"bg-amber-50 border-l-4 border-amber-400 px-3 py-2 text-sm text-amber-800",children:[" ",k.length," suivi(s) en attente",k.length<=2&&k.map((J,Y)=>o.jsxs("div",{className:"ml-4 mt-1 text-amber-700",children:[" ",J.description]},Y))]}),o.jsx("button",{onClick:()=>s(!r),className:"w-full text-center text-sm text-blue-600 hover:text-blue-800 font-medium py-1 border-t border-gray-100 mt-2",children:r?"Voir moins ":"Voir plus "})]}),r&&o.jsxs("div",{className:"border-t border-gray-200 p-4 space-y-4 bg-gray-50",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Profil client"}),o.jsxs("div",{className:"space-y-1 text-sm",children:[(y==null?void 0:y.language)&&o.jsxs("div",{children:["Langue: ",o.jsx("span",{className:"font-medium",children:y.language==="FR"?"Francais":y.language==="EN"?"Anglais":"Bilingue"})]}),((X=y==null?void 0:y.pets)==null?void 0:X.length)>0&&o.jsxs("div",{children:["Animaux: ",o.jsx("span",{className:"font-medium",children:y.pets.join(", ")})]}),((K=y==null?void 0:y.courtesies)==null?void 0:K.length)>0&&(()=>{const J=(y.parking_info||"").toLowerCase().trim(),Y=(y.access_notes||"").toLowerCase().trim(),Ne=y.courtesies.filter(xe=>{const ce=xe.toLowerCase().trim();return ce!==J&&ce!==Y});return Ne.length>0?o.jsxs("div",{children:["Courtoisies:",Ne.map((xe,ce)=>o.jsx("span",{className:"ml-1 inline-block bg-blue-100 text-blue-800 text-xs px-2 py-0.5 rounded-full",children:xe},ce))]}):null})(),(y==null?void 0:y.personality)&&o.jsxs("div",{children:["Temperament: ",o.jsx("span",{className:"font-medium",children:y.personality})]}),(y==null?void 0:y.payment_method)&&o.jsxs("div",{children:["Paiement habituel: ",o.jsx("span",{className:"font-medium",children:y.payment_method})]}),(y==null?void 0:y.parking_info)&&o.jsxs("div",{children:["Stationnement: ",o.jsx("span",{className:"font-medium",children:y.parking_info})]}),(y==null?void 0:y.access_code)&&o.jsxs("div",{children:["Code: ",o.jsx("span",{className:"font-medium",children:y.access_code})]}),(y==null?void 0:y.access_notes)&&o.jsxs("div",{children:["Acces: ",o.jsx("span",{className:"font-medium",children:y.access_notes})]})]})]}),(v==null?void 0:v.length)>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Historique technique"}),o.jsx("div",{className:"space-y-2",children:v.map((J,Y)=>o.jsxs("div",{className:"text-sm border-l-2 border-gray-300 pl-3",children:[o.jsxs("div",{className:"font-medium text-gray-800",children:[J.date,"  ",J.technician||"Tech inconnu"]}),J.summary&&o.jsx("div",{className:"text-gray-600 mt-0.5 text-xs leading-relaxed",children:J.summary.length>150?J.summary.substring(0,150)+"...":J.summary})]},Y))})]}),(w==null?void 0:w.length)>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Soumission"}),o.jsx("div",{className:"space-y-2",children:w.map((J,Y)=>o.jsxs("div",{className:"text-sm border-l-2 border-green-400 pl-3 bg-green-50 rounded-r py-1.5 pr-2",children:[J.date&&o.jsx("div",{className:"text-xs text-gray-500 mb-0.5",children:J.date}),o.jsx("div",{className:"text-gray-800 whitespace-pre-wrap",children:J.text})]},Y))})]}),(S==null?void 0:S.dampp_chaser)&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Piano Life Saver (PLS)"}),o.jsxs("div",{className:"text-sm space-y-1",children:[T.last_service&&o.jsxs("div",{children:["Dernier service: ",o.jsx("span",{className:"font-medium",children:T.last_service.date})," ","(",T.last_service.type==="basic"?"test + buvards":T.last_service.type==="annual"?"entretien annuel":"type inconnu",")",T.last_service.source&&o.jsxs("div",{className:"text-xs text-gray-400 mt-0.5 italic",children:[" ",T.last_service.source]})]}),T.last_annual&&T.last_annual!==T.last_service&&o.jsxs("div",{children:["Dernier entretien annuel: ",o.jsx("span",{className:"font-medium",children:T.last_annual.date}),T.months_since_annual&&o.jsxs("span",{className:"text-gray-500 ml-1",children:["(",T.months_since_annual," mois)"]})]}),T.reason&&o.jsx("div",{className:`text-xs mt-1 ${T.needs_annual?"text-orange-700 font-medium":"text-gray-500"}`,children:T.reason})]})]}),j&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Suivis en attente"}),o.jsx("div",{className:"space-y-2",children:k.map((J,Y)=>o.jsxs("div",{className:"flex items-start justify-between bg-amber-50 rounded-lg px-3 py-2",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-sm font-medium text-amber-900",children:J.description}),o.jsxs("div",{className:"text-xs text-amber-600 mt-0.5",children:[J.category&&o.jsx("span",{className:"capitalize",children:J.category}),J.detected_at&&o.jsxs("span",{children:["  ",J.detected_at.substring(0,10)]})]}),J.source_citation&&o.jsxs("div",{className:"text-xs text-amber-500 italic mt-0.5",children:[" ",J.source_citation]})]}),J.id&&o.jsx("button",{onClick:()=>I(J.id),disabled:g===J.id,className:"ml-2 text-green-600 hover:text-green-800 text-xs font-medium px-2 py-1 rounded border border-green-300 hover:bg-green-50 disabled:opacity-50 flex-shrink-0",children:g===J.id?"...":"Fait "})]},J.id||Y))})]}),N&&P&&o.jsxs("div",{className:"text-xs text-gray-400 text-right",children:["Mode: ",P==="ai"?"IA":"Regex"," | ",e.notes_analyzed||0," notes"]})]}),N&&o.jsx("div",{className:"border-t border-gray-100 px-4 py-2 bg-gray-50",children:a?o.jsxs("div",{className:"space-y-2",children:[o.jsx("textarea",{value:l,onChange:J=>c(J.target.value),placeholder:"Ex: Le client parle anglais, il a un chien nomme Rex, stationnement a l'arriere...",className:"w-full text-sm border border-gray-300 rounded px-3 py-2 resize-none",rows:3}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:E,disabled:u||!l.trim(),className:"bg-purple-600 text-white text-sm px-3 py-1 rounded hover:bg-purple-700 disabled:opacity-50",children:u?"...":"Enregistrer"}),o.jsx("button",{onClick:()=>i(!1),className:"text-gray-600 text-sm px-3 py-1",children:"Annuler"})]})]}):o.jsxs("button",{onClick:()=>i(!0),className:"text-sm text-purple-600 hover:text-purple-800 font-medium flex items-center gap-1",children:[o.jsx("span",{children:""})," Ajuster l'Intelligence"]})})]})}function rs({currentUser:e}){const[t,n]=m.useState([]),[r,s]=m.useState(!0),[a,i]=m.useState(null),l=()=>{const w=new Date,f=w.getFullYear(),x=String(w.getMonth()+1).padStart(2,"0"),_=String(w.getDate()).padStart(2,"0");return`${f}-${x}-${_}`},[c,u]=m.useState(l()),d=(e==null?void 0:e.gazelleId)||(e==null?void 0:e.id)||null,g=(e==null?void 0:e.email)==="asutton@piano-tek.com",[b,N]=m.useState(!1);console.log("[MaJournee] currentUser:",e==null?void 0:e.email,"gazelleId:",e==null?void 0:e.gazelleId,"id:",e==null?void 0:e.id," technicianId:",d),m.useEffect(()=>{h()},[c,d,b]);const h=async()=>{s(!0),i(null);try{let w=`${me}/api/briefing/daily?date=${c}`;d&&(g&&b?w+=`&exclude_technician_id=${d}`:w+=`&technician_id=${d}`);const f=await fetch(w);if(!f.ok)throw new Error(`Erreur ${f.status}`);const x=await f.json();n(x.briefings||[])}catch(w){console.error("Erreur chargement briefings:",w),i(w.message)}finally{s(!1)}},y=w=>{const f=new Date(c+"T00:00:00");f.setDate(f.getDate()+w);const x=f.getFullYear(),_=String(f.getMonth()+1).padStart(2,"0"),k=String(f.getDate()).padStart(2,"0");u(`${x}-${_}-${k}`)},S=c===l(),v=w=>{const f=new Date(w+"T00:00:00"),x={weekday:"long",day:"numeric",month:"long"};return f.toLocaleDateString("fr-CA",x)};return o.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-1",children:" Ma Journe"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Briefings intelligents pour vos rendez-vous"})]}),o.jsxs("div",{className:"flex items-center justify-between mb-6 bg-white rounded-xl shadow px-4 py-3",children:[o.jsx("button",{onClick:()=>y(-1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:""}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"font-semibold text-gray-800 capitalize",children:v(c)}),S&&o.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full",children:"Aujourd'hui"})]}),o.jsx("button",{onClick:()=>y(1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:""})]}),!r&&o.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl px-4 py-3 mb-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-2xl font-bold text-blue-600",children:t.length}),o.jsx("span",{className:"text-gray-600",children:"rendez-vous"})]}),o.jsx("button",{onClick:h,disabled:r,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:" Actualiser"})]}),g&&o.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[o.jsx("button",{onClick:()=>N(!1),className:`px-3 py-1 text-sm rounded-full transition-colors ${b?"bg-white text-gray-600 hover:bg-gray-100":"bg-blue-600 text-white"}`,children:"Mes RV"}),o.jsx("button",{onClick:()=>N(!0),className:`px-3 py-1 text-sm rounded-full transition-colors ${b?"bg-blue-600 text-white":"bg-white text-gray-600 hover:bg-gray-100"}`,children:"Autres techs"})]})]}),r&&o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600"})}),a&&o.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl mb-4",children:[" ",a]}),!r&&!a&&t.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-6xl mb-4",children:""}),o.jsx("div",{className:"text-gray-600",children:"Aucun rendez-vous pour cette date"}),!S&&o.jsx("button",{onClick:()=>u(l()),className:"mt-4 text-blue-600 hover:text-blue-800 font-medium",children:"Retour  aujourd'hui"})]}),!r&&!a&&t.length>0&&o.jsx("div",{className:"space-y-4",children:t.map((w,f)=>{var x;return o.jsx(l_,{briefing:w,currentUser:e,onFeedbackSaved:h},((x=w.appointment)==null?void 0:x.id)||`${w.client_id}-${f}`)})}),g&&o.jsxs("div",{className:"mt-8 bg-purple-50 border border-purple-200 rounded-xl px-4 py-3",children:[o.jsxs("div",{className:"flex items-center gap-2 text-purple-800",children:[o.jsx("span",{className:"text-xl",children:""}),o.jsx("span",{className:"font-medium",children:"Mode Super-Utilisateur"})]}),o.jsx("p",{className:"text-sm text-purple-700 mt-1",children:`Cliquez sur "Ajuster l'Intelligence" sur une carte pour corriger les donnes. Vos corrections entranent l'IA pour les prochaines analyses.`})]})]})}function _i(){const[e,t]=m.useState(""),[n,r]=m.useState(""),[s,a]=m.useState(!1),[i,l]=m.useState(null),[c,u]=m.useState(null),[d,g]=m.useState([]),[b,N]=m.useState(!1),[h,y]=m.useState(null),S=async()=>{if(!n.trim()){g([]),y(null);return}N(!0),g([]),y(null);try{const x=await(await fetch(`${me}/api/admin/travel-fees/search-client?client_name=${encodeURIComponent(n)}`)).json();x.results&&x.results.length>0?(g(x.results),x.results.length===1&&v(x.results[0])):(g([]),alert("Aucun client trouv"))}catch(f){g([]),alert("Erreur recherche client: "+f.message)}finally{N(!1)}},v=f=>{y(f),r(f.client_name);const x=f.address_full||f.address||f.postal_code||"";t(x),g([])},w=async(f=null,x=null)=>{const _=f??e,k=typeof _=="string"?_.trim():_?String(_).trim():"";if(!k){alert("Veuillez entrer une adresse ou code postal");return}a(!0),u(null),l(null);try{const P=await fetch(`${me}/api/admin/travel-fees/calculate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({destination:k,client_name:h?h.client_name:x||n.trim()||null})});if(!P.ok){let C="Erreur de calcul";try{C=(await P.json()).detail||C}catch{C=await P.text()}throw new Error(C)}const A=await P.json();l(A)}catch(P){u(P.message)}finally{a(!1)}};return o.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[o.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:" Calculateur de frais de dplacement"}),o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" Rechercher un client"}),o.jsxs("div",{className:"flex gap-2 relative",children:[o.jsx("input",{type:"text",value:n,onChange:f=>{r(f.target.value),y(null),g([])},placeholder:"Ex: Carretta ou Michelle",className:"flex-1 border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onKeyPress:f=>f.key==="Enter"&&S()}),o.jsx("button",{onClick:S,disabled:b,className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 disabled:bg-gray-400 transition-colors",children:b?"":"Chercher"}),d.length>0&&o.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-10 max-h-96 overflow-y-auto",children:d.map((f,x)=>o.jsxs("button",{onClick:()=>v(f),className:`w-full text-left px-4 py-3 hover:bg-blue-50 transition-colors border-b border-gray-100 last:border-b-0 ${(h==null?void 0:h.client_id)===f.client_id?"bg-blue-100":""}`,children:[o.jsxs("div",{className:"font-semibold text-gray-800 mb-1",children:[f.client_name,f.type==="contact"&&o.jsx("span",{className:"ml-2 text-xs bg-purple-100 text-purple-700 px-2 py-0.5 rounded",children:"Contact"})]}),f.address_full&&o.jsxs("div",{className:"text-sm text-gray-600 mb-1",children:[" ",f.address_full]}),o.jsxs("div",{className:"flex flex-wrap gap-3 text-xs text-gray-500",children:[f.phone&&o.jsxs("span",{children:[" ",f.phone]}),f.email&&o.jsxs("span",{children:[" ",f.email]}),f.postal_code&&o.jsxs("span",{children:[" ",f.postal_code]})]}),f.notes&&o.jsx("div",{className:"text-xs text-gray-400 mt-1 italic truncate",children:f.notes})]},x))})]}),h&&o.jsxs("div",{className:"mt-2 p-3 bg-green-50 border border-green-200 rounded-lg text-sm text-green-800 space-y-1",children:[o.jsxs("p",{className:"font-semibold",children:["Client : ",h.client_name]}),h.address_full&&o.jsxs("p",{children:[" ",h.address_full]}),h.phone&&o.jsxs("p",{children:[" ",h.phone]}),h.email&&o.jsxs("p",{children:[" ",h.email]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" Adresse ou code postal"}),o.jsx("input",{type:"text",value:e,onChange:f=>t(f.target.value),placeholder:"Ex: H3B 4W8 ou 123 rue Example, Montral",className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onKeyPress:f=>f.key==="Enter"&&w()}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Accepte : code postal, adresse partielle ou complte"})]})]}),o.jsx("button",{onClick:w,disabled:s||!e.trim(),className:"w-full md:w-auto px-8 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:s?" Calcul en cours...":" Calculer les Frais"})]}),c&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:o.jsxs("p",{className:"text-red-800",children:[" ",c]})}),i&&o.jsxs("div",{className:"space-y-4",children:[i.recommendation&&o.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:o.jsx("p",{className:"text-green-800 font-semibold",children:i.recommendation})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:i.results.map((f,x)=>{const _=f.technician_name===i.cheapest_technician,k=f.is_free;return o.jsxs("div",{className:`bg-white rounded-lg shadow-lg p-6 border-2 ${_?"border-green-500 ring-2 ring-green-200":k?"border-green-300":"border-gray-200"}`,children:[_&&o.jsx("div",{className:"mb-3",children:o.jsx("span",{className:"inline-block bg-green-500 text-white text-xs font-bold px-3 py-1 rounded-full",children:" Recommand"})}),o.jsxs("h3",{className:"text-xl font-bold mb-4 text-gray-800",children:[" ",f.technician_name]}),o.jsx("div",{className:"mb-4",children:k?o.jsx("div",{className:"text-3xl font-bold text-green-600",children:"GRATUIT"}):o.jsxs("div",{className:"text-3xl font-bold text-orange-600",children:[f.total_fee.toFixed(2),"$"]})}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:" Distance:"}),o.jsxs("span",{className:"font-semibold",children:[f.distance_km," km"]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:" Temps:"}),o.jsxs("span",{className:"font-semibold",children:[f.duration_minutes.toFixed(0)," min"]})]}),!k&&o.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[o.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Dtail:"}),f.breakdown.distance_fee>0&&o.jsxs("div",{className:"flex justify-between text-xs",children:[o.jsx("span",{children:"Distance:"}),o.jsxs("span",{children:[f.breakdown.distance_fee.toFixed(2),"$"]})]}),f.breakdown.time_fee>0&&o.jsxs("div",{className:"flex justify-between text-xs",children:[o.jsx("span",{children:"Temps:"}),o.jsxs("span",{children:[f.breakdown.time_fee.toFixed(2),"$"]})]})]})]})]},f.technician_name)})}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-sm text-gray-600",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Destination:"})," ",i.destination]}),h&&o.jsxs("p",{children:[o.jsx("strong",{children:"Client:"})," ",h.client_name]}),i.client_name&&!h&&o.jsxs("p",{children:[o.jsx("strong",{children:"Client:"})," ",i.client_name]})]})]})]})}function Ti(){const[e,t]=m.useState("usr_HcCiFk7o0vZ9xAI0"),[n,r]=m.useState(new Date().toISOString().split("T")[0]),[s,a]=m.useState(""),[i,l]=m.useState(""),[c,u]=m.useState(!1),[d,g]=m.useState(null),[b,N]=m.useState(null),h=[{id:"usr_HcCiFk7o0vZ9xAI0",name:"Nicolas"},{id:"usr_ofYggsCDt2JAVeNP",name:"Allan"},{id:"usr_ReUSmIJmBF86ilY1",name:"Jean-Philippe"}],y=async()=>{if(!e){alert("Veuillez slectionner un technicien");return}if(!n&&!i){alert("Choisissez soit une date, soit une plage (date de fin), soit un trimestre");return}u(!0),N(null),g(null);try{const S=await fetch(`${me}/api/admin/kilometers/calculate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({technician_id:e,date:n,date_end:s||null,quarter:i||null})});if(!S.ok){const w=await S.json();throw new Error(w.detail||"Erreur de calcul")}const v=await S.json();g(v)}catch(S){N(S.message)}finally{u(!1)}};return o.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[o.jsx("h2",{className:"text-3xl font-bold mb-6 text-gray-800",children:" Calculateur de Kilomtres Parcourus"}),o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" Technicien"}),o.jsx("select",{value:e,onChange:S=>t(S.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:h.map(S=>o.jsx("option",{value:S.id,children:S.name},S.id))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:" Dates (jour ou plage) / Trimestre"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[o.jsx("input",{type:"date",value:n,onChange:S=>r(S.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),o.jsx("input",{type:"date",value:s,onChange:S=>a(S.target.value),placeholder:"Date de fin (optionnel)",className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),o.jsxs("div",{className:"flex gap-2 flex-wrap",children:[["Q1","Q2","Q3","Q4"].map(S=>o.jsx("button",{onClick:()=>l(S),className:`px-3 py-1 text-sm rounded border ${i===S?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300"}`,children:S},S)),i&&o.jsx("button",{onClick:()=>l(""),className:"px-3 py-1 text-sm rounded border bg-gray-100 text-gray-700 border-gray-300",children:"Effacer trimestre"})]}),o.jsxs("p",{className:"text-xs text-gray-500",children:["- Renseignez une date unique OU une plage (date dbut + fin) OU un trimestre (Q1=jan-mars, Q2=avr-juin, Q3=jul-sep, Q4=oct-dc).",o.jsx("br",{}),"- Le trimestre crase la plage de dates si slectionn."]})]})]}),o.jsx("button",{onClick:y,disabled:c,className:"w-full md:w-auto px-8 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:c?" Calcul en cours...":" Calculer les Kilomtres"})]}),b&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:o.jsxs("p",{className:"text-red-800",children:[" ",b]})}),d&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg shadow-lg p-6",children:[o.jsxs("h3",{className:"text-2xl font-bold mb-4",children:[" Rsum - ",d.technician_name]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm opacity-90",children:"Distance Totale"}),o.jsxs("p",{className:"text-3xl font-bold",children:[d.total_km," km"]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm opacity-90",children:"Temps Total"}),o.jsxs("p",{className:"text-3xl font-bold",children:[d.total_duration_minutes," min"]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm opacity-90",children:"Remboursement"}),o.jsxs("p",{className:"text-3xl font-bold",children:[d.reimbursement.toFixed(2),"$"]}),o.jsx("p",{className:"text-xs opacity-75",children:"(0.72$/km)"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm opacity-90",children:"Priode"}),o.jsx("p",{className:"text-lg font-semibold",children:d.date_start===d.date_end?new Date(d.date_start).toLocaleDateString("fr-FR"):`${new Date(d.date_start).toLocaleDateString("fr-FR")} - ${new Date(d.date_end).toLocaleDateString("fr-FR")}`})]})]})]}),d.segments&&d.segments.length>0&&o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[o.jsx("h4",{className:"text-xl font-bold mb-4 text-gray-800",children:" Segments Dtaills"}),o.jsx("div",{className:"space-y-3",children:d.segments.map((S,v)=>o.jsx("div",{className:"border-l-4 border-blue-500 pl-4 py-2 bg-gray-50 rounded",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("p",{className:"font-semibold text-gray-800",children:[v+1,". ",S.from,"  ",S.to]})}),o.jsxs("div",{className:"text-right text-sm text-gray-600",children:[o.jsx("p",{children:o.jsxs("strong",{children:[S.distance_km," km"]})}),o.jsx("p",{children:S.duration_text})]})]})},v))})]})]})]})}class at extends jn.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,n){console.error(" ErrorBoundary a captur une erreur:",t,n),this.setState({error:t,errorInfo:n})}render(){return this.state.hasError?o.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:o.jsxs("div",{className:"text-center bg-white p-6 rounded-lg shadow max-w-md w-full",children:[o.jsx("div",{className:"text-red-600 mb-2 text-lg font-semibold",children:" Erreur d'affichage"}),o.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:["Une erreur s'est produite lors du chargement de ",this.props.componentName||"ce composant","."]}),this.state.error&&o.jsxs("details",{className:"text-left text-xs text-gray-500 mb-4 p-2 bg-gray-50 rounded",children:[o.jsx("summary",{className:"cursor-pointer font-medium mb-2",children:"Dtails de l'erreur"}),o.jsxs("pre",{className:"whitespace-pre-wrap overflow-auto",children:[this.state.error.toString(),this.state.errorInfo&&this.state.errorInfo.componentStack]})]}),o.jsx("button",{onClick:()=>{this.setState({hasError:!1,error:null,errorInfo:null}),window.location.reload()},className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Recharger la page"})]})}):this.props.children}}function c_(){var f,x,_,k,P,A,C;const[e,t]=m.useState(null),[n,r]=m.useState("chat"),[s,a]=m.useState(null),[i,l]=m.useState(!1),[c,u]=m.useState(!1),[d,g]=m.useState([]),[b,N]=m.useState("vincent-dindy");m.useEffect(()=>{(async()=>{var L;try{const T=await fetch("https://assistant-gazelle-v5-api.onrender.com/api/institutions/list");if(T.ok){const E=await T.json();g(E.institutions||[]),console.log("[App.jsx] Institutions charges:",((L=E.institutions)==null?void 0:L.length)||0)}else console.error("[App.jsx] Erreur chargement institutions:",T.status),g([{slug:"vincent-dindy",name:"Vincent d'Indy"},{slug:"place-des-arts",name:"Place des Arts"},{slug:"orford",name:"Orford Musique"}])}catch(j){console.error("[App.jsx] Erreur chargement institutions:",j),g([{slug:"vincent-dindy",name:"Vincent d'Indy"},{slug:"place-des-arts",name:"Place des Arts"},{slug:"orford",name:"Orford Musique"}])}})()},[]),m.useEffect(()=>{console.log("[App.jsx] useEffect chargement utilisateur - dbut");try{const R=localStorage.getItem("currentUser");if(console.log("[App.jsx] Utilisateur sauvegard trouv:",R?"OUI":"NON"),R)try{const L=JSON.parse(R);console.log("[App.jsx] Utilisateur pars:",(L==null?void 0:L.email)||(L==null?void 0:L.name)),t(L)}catch(L){console.error("[App.jsx] Erreur parsing utilisateur:",L),localStorage.removeItem("currentUser")}console.log("[App.jsx] useEffect chargement utilisateur - fin")}catch(R){console.error("[App.jsx] Erreur dans useEffect chargement utilisateur:",R),alert(`Erreur au chargement utilisateur: ${R.message}

Stack: ${R.stack}`)}},[]),m.useEffect(()=>{if(!c)return;const R=j=>{j.target.closest('[data-dropdown="institutions"]')||u(!1)},L=setTimeout(()=>{document.addEventListener("click",R)},0);return()=>{clearTimeout(L),document.removeEventListener("click",R)}},[c]);const h=s||ta(e==null?void 0:e.email);m.useEffect(()=>{u(!1)},[h]);const y=s?{...e,email:((f=dn[s])==null?void 0:f.email)||(e==null?void 0:e.email),name:((x=dn[s])==null?void 0:x.name.split(" ")[0])||(e==null?void 0:e.name),role:s,id:((_=dn[s])==null?void 0:_.gazelleId)||(e==null?void 0:e.gazelleId)||(e==null?void 0:e.id),gazelleId:((k=dn[s])==null?void 0:k.gazelleId)||(e==null?void 0:e.gazelleId)}:{...e,id:(e==null?void 0:e.gazelleId)||((P=dn[h])==null?void 0:P.gazelleId)||(e==null?void 0:e.id),gazelleId:(e==null?void 0:e.gazelleId)||((A=dn[h])==null?void 0:A.gazelleId)};s&&(console.log("[App.jsx] simulatedRole:",s,"ROLES[simulatedRole]:",dn[s]),console.log("[App.jsx] effectiveUser.gazelleId:",y.gazelleId));const S=R=>{t(R)},v=()=>{localStorage.removeItem("currentUser"),t(null),a(null)};if(!e)return o.jsx(yk,{onLogin:S});const w=()=>{switch(h){case"nick":return n==="inventaire"?o.jsx(Ph,{currentUser:y}):n==="place-des-arts"?o.jsx(bu,{currentUser:y}):n==="vincent-dindy-v7"?o.jsx(at,{componentName:"Vincent d'Indy",children:o.jsx(Ds,{currentUser:y,institution:"vincent-dindy"})}):n==="orford"?o.jsx(at,{componentName:"Orford",children:o.jsx($h,{currentUser:y,institution:"orford"})}):n==="chat"?o.jsx(at,{componentName:"Ma Journe",children:o.jsx(rs,{currentUser:y})}):n==="calculateur-frais"?o.jsx(at,{componentName:"Calculateur Frais",children:o.jsxs("div",{className:"space-y-8",children:[o.jsx(_i,{}),o.jsx("div",{className:"border-t border-gray-200 pt-8",children:o.jsx(Ti,{})})]})}):o.jsx(at,{componentName:"Ma Journe",children:o.jsx(rs,{currentUser:y})});case"louise":case"margot":return n==="inventaire"?o.jsx(at,{componentName:"Inventaire Dashboard",children:o.jsx(vu,{currentUser:y})}):n==="chat"?o.jsx(at,{componentName:"Ma Journe",children:o.jsx(rs,{currentUser:y})}):n==="calculateur-frais"?o.jsx(at,{componentName:"Calculateur Frais",children:o.jsxs("div",{className:"space-y-8",children:[o.jsx(_i,{}),o.jsx("div",{className:"border-t border-gray-200 pt-8",children:o.jsx(Ti,{})})]})}):n==="vincent-dindy-v7"?o.jsx(at,{componentName:"Vincent d'Indy",children:o.jsx(Ds,{currentUser:y,institution:"vincent-dindy"})}):n==="orford"?o.jsx(at,{componentName:"Orford",children:o.jsx($h,{currentUser:y,institution:"orford"})}):n==="place-des-arts"?o.jsx(at,{componentName:"Place des Arts",children:o.jsx(bu,{currentUser:y})}):o.jsx(at,{componentName:"Ma Journe",children:o.jsx(rs,{currentUser:y})});case"jeanphilippe":return n==="inventaire"?o.jsx(at,{componentName:"Inventaire Dashboard",children:o.jsx("div",{className:"w-full max-w-md mx-auto px-4 py-4 sm:px-3 sm:py-2",children:o.jsx("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 overflow-hidden",children:o.jsx(vu,{currentUser:y})})})}):n==="tournees"?o.jsx(at,{componentName:"Vincent d'Indy (Tournes)",children:o.jsx(Ds,{currentUser:y,initialView:"technicien",hideNickView:!0,hideLocationSelector:!0})}):n==="calculateur-frais"?o.jsx(at,{componentName:"Calculateur Frais",children:o.jsx("div",{className:"w-full max-w-md mx-auto px-4 py-4 sm:px-3 sm:py-2",children:o.jsx("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 overflow-hidden p-4",children:o.jsxs("div",{className:"space-y-8",children:[o.jsx(_i,{}),o.jsx("div",{className:"border-t border-gray-200 pt-8",children:o.jsx(Ti,{})})]})})})}):n==="chat"?o.jsx(at,{componentName:"Ma Journe",children:o.jsx(rs,{currentUser:y})}):o.jsx(at,{componentName:"Ma Journe",children:o.jsx(rs,{currentUser:y})});case"admin":default:return n==="sync-dashboard"||n==="tableau-de-bord"||n==="dashboard"?o.jsx(at,{componentName:"Tableau de Bord",children:o.jsx(vk,{currentUser:y})}):n==="inventaire"?o.jsx(at,{componentName:"Inventaire Dashboard",children:o.jsx(vu,{currentUser:y})}):n==="tournees"?o.jsx(at,{componentName:"Nick Dashboard",children:o.jsx(Ph,{currentUser:y})}):n==="place-des-arts"?o.jsx(at,{componentName:"Place des Arts",children:o.jsx(bu,{currentUser:y})}):n==="chat"?o.jsx(at,{componentName:"Ma Journe",children:o.jsx(rs,{currentUser:y})}):n==="calculateur-frais"?o.jsx(at,{componentName:"Calculateur Frais",children:o.jsxs("div",{className:"space-y-8",children:[o.jsx(_i,{}),o.jsx("div",{className:"border-t border-gray-200 pt-8",children:o.jsx(Ti,{})})]})}):n==="vincent-dindy-v7"?o.jsx(at,{componentName:"Vincent d'Indy",children:o.jsx(Ds,{currentUser:y,institution:"vincent-dindy"})}):n==="orford"?o.jsx(at,{componentName:"Orford",children:o.jsx(Ds,{currentUser:y,institution:"orford"})}):o.jsx(at,{componentName:"Vincent d'Indy",children:o.jsx(Ds,{currentUser:y,institution:"vincent-dindy"})})}};return o.jsxs(o.Fragment,{children:[o.jsx(at,{componentName:"Application principale",children:o.jsxs("div",{className:"App",children:[o.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-3 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-2xl",children:""}),o.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"Assistant Gazelle V5"})]}),(h==="admin"||h==="nick"||h==="louise"||h==="margot"||h==="jeanphilippe")&&o.jsx("nav",{className:"flex gap-2",children:h==="nick"?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>r("inventaire"),className:`px-4 py-2 text-sm rounded-lg transition-colors ${n==="inventaire"?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:" Inventaire"}),o.jsx("button",{onClick:()=>r("chat"),className:`px-4 py-2 text-sm rounded-lg transition-colors ${n==="chat"?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:" Ma Journe"}),o.jsxs("div",{className:"relative","data-dropdown":"institutions",children:[o.jsxs("button",{onClick:R=>{R.stopPropagation(),u(!c)},className:`px-4 py-2 text-sm rounded-lg transition-colors flex items-center gap-1 ${n==="vincent-dindy-v7"||n==="place-des-arts"?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:[n==="vincent-dindy-v7"?" Vincent d'Indy":n==="place-des-arts"?" Place des Arts":" Institutions",o.jsx("span",{className:"text-xs",children:""})]}),c&&o.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50 min-w-[200px]",onClick:R=>R.stopPropagation(),children:d.map(R=>{const j={"vincent-dindy":"vincent-dindy-v7","place-des-arts":"place-des-arts",orford:"orford"}[R.slug]||R.slug,T=n===j,I={"vincent-dindy":"","place-des-arts":"",orford:""}[R.slug]||"";return o.jsxs("button",{onClick:z=>{z.stopPropagation(),r(j),N(R.slug),u(!1)},className:`w-full text-left px-4 py-2 text-sm transition-colors ${T?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 hover:bg-blue-50 hover:text-blue-700"}`,children:[I," ",R.name]},R.slug)})})]})]}):h==="jeanphilippe"?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>r("inventaire"),className:`px-4 py-2 text-sm rounded-lg transition-colors ${n==="inventaire"?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:" Inventaire"}),o.jsx("button",{onClick:()=>r("chat"),className:`px-4 py-2 text-sm rounded-lg transition-colors ${n==="chat"?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:" Ma Journe"}),o.jsx("button",{onClick:()=>r("tournees"),className:`px-4 py-2 text-sm rounded-lg transition-colors ${n==="tournees"?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:" Tournes"}),o.jsx("button",{onClick:()=>r("calculateur-frais"),className:`px-4 py-2 text-sm rounded-lg transition-colors ${n==="calculateur-frais"?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:" Calculateur"})]}):o.jsxs(o.Fragment,{children:[h==="admin"&&o.jsx("button",{onClick:()=>r("sync-dashboard"),className:`px-4 py-2 text-sm rounded-lg transition-colors ${n==="sync-dashboard"||n==="tableau-de-bord"||n==="dashboard"?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:" Tableau de Bord"}),o.jsx("button",{onClick:()=>r("inventaire"),className:`px-4 py-2 text-sm rounded-lg transition-colors ${n==="inventaire"?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:" Inventaire"}),(h==="louise"||h==="margot")&&o.jsx("button",{onClick:()=>r("chat"),className:`px-4 py-2 text-sm rounded-lg transition-colors ${n==="chat"?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:" Ma Journe"}),(h==="admin"||h==="louise"||h==="margot"||h==="nick"||h==="jeanphilippe")&&o.jsx("button",{onClick:()=>r("calculateur-frais"),className:`px-4 py-2 text-sm rounded-lg transition-colors ${n==="calculateur-frais"?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:" Calculateur"}),(h==="admin"||h==="louise"||h==="margot")&&o.jsxs("div",{className:"relative","data-dropdown":"institutions",children:[o.jsxs("button",{onClick:R=>{R.stopPropagation(),u(!c)},className:`px-4 py-2 text-sm rounded-lg transition-colors flex items-center gap-1 ${n==="vincent-dindy-v7"||n==="place-des-arts"?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:[n==="vincent-dindy-v7"?" Vincent d'Indy":n==="place-des-arts"?" Place des Arts":" Institutions",o.jsx("span",{className:"text-xs",children:""})]}),c&&o.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50 min-w-[200px]",onClick:R=>R.stopPropagation(),children:d.map(R=>{const j={"vincent-dindy":"vincent-dindy-v7","place-des-arts":"place-des-arts",orford:"orford"}[R.slug]||R.slug,T=n===j,I={"vincent-dindy":"","place-des-arts":"",orford:""}[R.slug]||"";return o.jsxs("button",{onClick:z=>{z.stopPropagation(),r(j),N(R.slug),u(!1)},className:`w-full text-left px-4 py-2 text-sm transition-colors ${T?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 hover:bg-blue-50 hover:text-blue-700"}`,children:[I," ",R.name]},R.slug)})})]})]})})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[(e==null?void 0:e.email)==="asutton@piano-tek.com"&&o.jsxs("select",{value:s||h,onChange:R=>a(R.target.value),className:"px-3 py-1 text-sm border border-gray-300 rounded bg-yellow-50",title:"Slecteur de rle (temporaire pour test)",children:[o.jsx("option",{value:"admin",children:"Admin"}),o.jsx("option",{value:"nick",children:"Nick"}),o.jsx("option",{value:"louise",children:"Louise"}),o.jsx("option",{value:"margot",children:"Margot"}),o.jsx("option",{value:"jeanphilippe",children:"Jean-Philippe"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-sm font-medium text-gray-800",children:(e==null?void 0:e.name)||"Test User"}),o.jsx("div",{className:"text-xs text-gray-500",children:((C=dn[h])==null?void 0:C.name)||"Administrateur"})]}),o.jsx("button",{onClick:v,className:"px-4 py-2 text-sm bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors",children:"Dconnexion"})]})]})}),w()]})}),o.jsx(i_,{currentUser:y,role:h,onBackToDashboard:n==="assistant"?()=>r("dashboard"):void 0,useChatIntelligent:!0,onOpenMaJournee:()=>{console.log("[App.jsx] onOpenMaJournee appel, currentView avant:",n),r("chat"),console.log('[App.jsx] setCurrentView("chat") appel')}})]})}console.log("[main.jsx] Fichier charg - ligne 1");console.log("[main.jsx] Avant ReactDOM.createRoot");Cu.createRoot(document.getElementById("root")).render(o.jsx(jn.StrictMode,{children:o.jsx(c_,{})}));console.log("[main.jsx] Aprs ReactDOM.createRoot");
