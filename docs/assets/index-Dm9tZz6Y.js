var Uy=Object.defineProperty;var Gy=(e,t,n)=>t in e?Uy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Po=(e,t,n)=>Gy(e,typeof t!="symbol"?t+"":t,n);function Ky(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function Qh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Xh={exports:{}},Pl={},Zh={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ma=Symbol.for("react.element"),Jy=Symbol.for("react.portal"),Yy=Symbol.for("react.fragment"),Qy=Symbol.for("react.strict_mode"),Xy=Symbol.for("react.profiler"),Zy=Symbol.for("react.provider"),ev=Symbol.for("react.context"),tv=Symbol.for("react.forward_ref"),nv=Symbol.for("react.suspense"),rv=Symbol.for("react.memo"),sv=Symbol.for("react.lazy"),Sf=Symbol.iterator;function ov(e){return e===null||typeof e!="object"?null:(e=Sf&&e[Sf]||e["@@iterator"],typeof e=="function"?e:null)}var eg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tg=Object.assign,ng={};function wo(e,t,n){this.props=e,this.context=t,this.refs=ng,this.updater=n||eg}wo.prototype.isReactComponent={};wo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};wo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function rg(){}rg.prototype=wo.prototype;function Ld(e,t,n){this.props=e,this.context=t,this.refs=ng,this.updater=n||eg}var Dd=Ld.prototype=new rg;Dd.constructor=Ld;tg(Dd,wo.prototype);Dd.isPureReactComponent=!0;var Nf=Array.isArray,sg=Object.prototype.hasOwnProperty,Fd={current:null},og={key:!0,ref:!0,__self:!0,__source:!0};function ag(e,t,n){var r,s={},a=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)sg.call(t,r)&&!og.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Ma,type:e,key:a,ref:i,props:s,_owner:Fd.current}}function av(e,t){return{$$typeof:Ma,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Bd(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ma}function iv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Cf=/\/+/g;function Lc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?iv(""+e.key):t.toString(36)}function Pi(e,t,n,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Ma:case Jy:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+Lc(i,0):r,Nf(s)?(n="",e!=null&&(n=e.replace(Cf,"$&/")+"/"),Pi(s,t,n,"",function(u){return u})):s!=null&&(Bd(s)&&(s=av(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Cf,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",Nf(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+Lc(a,l);i+=Pi(a,t,n,c,s)}else if(c=ov(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+Lc(a,l++),i+=Pi(a,t,n,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function ri(e,t,n){if(e==null)return e;var r=[],s=0;return Pi(e,r,"","",function(a){return t.call(n,a,s++)}),r}function lv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ln={current:null},Ri={transition:null},cv={ReactCurrentDispatcher:ln,ReactCurrentBatchConfig:Ri,ReactCurrentOwner:Fd};function ig(){throw Error("act(...) is not supported in production builds of React.")}Le.Children={map:ri,forEach:function(e,t,n){ri(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ri(e,function(){t++}),t},toArray:function(e){return ri(e,function(t){return t})||[]},only:function(e){if(!Bd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Le.Component=wo;Le.Fragment=Yy;Le.Profiler=Xy;Le.PureComponent=Ld;Le.StrictMode=Qy;Le.Suspense=nv;Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cv;Le.act=ig;Le.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=tg({},e.props),s=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=Fd.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)sg.call(t,c)&&!og.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Ma,type:e.type,key:s,ref:a,props:r,_owner:i}};Le.createContext=function(e){return e={$$typeof:ev,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Zy,_context:e},e.Consumer=e};Le.createElement=ag;Le.createFactory=function(e){var t=ag.bind(null,e);return t.type=e,t};Le.createRef=function(){return{current:null}};Le.forwardRef=function(e){return{$$typeof:tv,render:e}};Le.isValidElement=Bd;Le.lazy=function(e){return{$$typeof:sv,_payload:{_status:-1,_result:e},_init:lv}};Le.memo=function(e,t){return{$$typeof:rv,type:e,compare:t===void 0?null:t}};Le.startTransition=function(e){var t=Ri.transition;Ri.transition={};try{e()}finally{Ri.transition=t}};Le.unstable_act=ig;Le.useCallback=function(e,t){return ln.current.useCallback(e,t)};Le.useContext=function(e){return ln.current.useContext(e)};Le.useDebugValue=function(){};Le.useDeferredValue=function(e){return ln.current.useDeferredValue(e)};Le.useEffect=function(e,t){return ln.current.useEffect(e,t)};Le.useId=function(){return ln.current.useId()};Le.useImperativeHandle=function(e,t,n){return ln.current.useImperativeHandle(e,t,n)};Le.useInsertionEffect=function(e,t){return ln.current.useInsertionEffect(e,t)};Le.useLayoutEffect=function(e,t){return ln.current.useLayoutEffect(e,t)};Le.useMemo=function(e,t){return ln.current.useMemo(e,t)};Le.useReducer=function(e,t,n){return ln.current.useReducer(e,t,n)};Le.useRef=function(e){return ln.current.useRef(e)};Le.useState=function(e){return ln.current.useState(e)};Le.useSyncExternalStore=function(e,t,n){return ln.current.useSyncExternalStore(e,t,n)};Le.useTransition=function(){return ln.current.useTransition()};Le.version="18.3.1";Zh.exports=Le;var m=Zh.exports;const jn=Qh(m),Nu=Ky({__proto__:null,default:jn},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv=m,dv=Symbol.for("react.element"),pv=Symbol.for("react.fragment"),fv=Object.prototype.hasOwnProperty,mv=uv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hv={key:!0,ref:!0,__self:!0,__source:!0};function lg(e,t,n){var r,s={},a=null,i=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)fv.call(t,r)&&!hv.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:dv,type:e,key:a,ref:i,props:s,_owner:mv.current}}Pl.Fragment=pv;Pl.jsx=lg;Pl.jsxs=lg;Xh.exports=Pl;var o=Xh.exports,Cu={},cg={exports:{}},_n={},ug={exports:{}},dg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,D){var Y=L.length;L.push(D);e:for(;0<Y;){var K=Y-1>>>1,fe=L[K];if(0<s(fe,D))L[K]=D,L[Y]=fe,Y=K;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var D=L[0],Y=L.pop();if(Y!==D){L[0]=Y;e:for(var K=0,fe=L.length,te=fe>>>1;K<te;){var Ee=2*(K+1)-1,be=L[Ee],le=Ee+1,je=L[le];if(0>s(be,Y))le<fe&&0>s(je,be)?(L[K]=je,L[le]=Y,K=le):(L[K]=be,L[Ee]=Y,K=Ee);else if(le<fe&&0>s(je,Y))L[K]=je,L[le]=Y,K=le;else break e}}return D}function s(L,D){var Y=L.sortIndex-D.sortIndex;return Y!==0?Y:L.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,g=null,b=3,N=!1,h=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(L){for(var D=n(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=L)r(u),D.sortIndex=D.expirationTime,t(c,D);else break;D=n(u)}}function x(L){if(v=!1,f(L),!h)if(n(c)!==null)h=!0,M(E);else{var D=n(u);D!==null&&H(x,D.startTime-L)}}function E(L,D){h=!1,v&&(v=!1,y(A),A=-1),N=!0;var Y=b;try{for(f(D),g=n(c);g!==null&&(!(g.expirationTime>D)||L&&!O());){var K=g.callback;if(typeof K=="function"){g.callback=null,b=g.priorityLevel;var fe=K(g.expirationTime<=D);D=e.unstable_now(),typeof fe=="function"?g.callback=fe:g===n(c)&&r(c),f(D)}else r(c);g=n(c)}if(g!==null)var te=!0;else{var Ee=n(u);Ee!==null&&H(x,Ee.startTime-D),te=!1}return te}finally{g=null,b=Y,N=!1}}var k=!1,P=null,A=-1,_=5,T=-1;function O(){return!(e.unstable_now()-T<_)}function w(){if(P!==null){var L=e.unstable_now();T=L;var D=!0;try{D=P(!0,L)}finally{D?R():(k=!1,P=null)}}else k=!1}var R;if(typeof j=="function")R=function(){j(w)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,I=C.port2;C.port1.onmessage=w,R=function(){I.postMessage(null)}}else R=function(){S(w,0)};function M(L){P=L,k||(k=!0,R())}function H(L,D){A=S(function(){L(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){h||N||(h=!0,M(E))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(L){switch(b){case 1:case 2:case 3:var D=3;break;default:D=b}var Y=b;b=D;try{return L()}finally{b=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,D){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var Y=b;b=L;try{return D()}finally{b=Y}},e.unstable_scheduleCallback=function(L,D,Y){var K=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?K+Y:K):Y=K,L){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=Y+fe,L={id:d++,callback:D,priorityLevel:L,startTime:Y,expirationTime:fe,sortIndex:-1},Y>K?(L.sortIndex=Y,t(u,L),n(c)===null&&L===n(u)&&(v?(y(A),A=-1):v=!0,H(x,Y-K))):(L.sortIndex=fe,t(c,L),h||N||(h=!0,M(E))),L},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(L){var D=b;return function(){var Y=b;b=D;try{return L.apply(this,arguments)}finally{b=Y}}}})(dg);ug.exports=dg;var gv=ug.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv=m,En=gv;function ee(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pg=new Set,ha={};function Es(e,t){co(e,t),co(e+"Capture",t)}function co(e,t){for(ha[e]=t,e=0;e<t.length;e++)pg.add(t[e])}var jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ku=Object.prototype.hasOwnProperty,yv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kf={},Ef={};function vv(e){return ku.call(Ef,e)?!0:ku.call(kf,e)?!1:yv.test(e)?Ef[e]=!0:(kf[e]=!0,!1)}function bv(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function wv(e,t,n,r){if(t===null||typeof t>"u"||bv(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function cn(e,t,n,r,s,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var Kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Kt[e]=new cn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Kt[t]=new cn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Kt[e]=new cn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Kt[e]=new cn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Kt[e]=new cn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Kt[e]=new cn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Kt[e]=new cn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Kt[e]=new cn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Kt[e]=new cn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Vd=/[\-:]([a-z])/g;function Hd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Vd,Hd);Kt[t]=new cn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Vd,Hd);Kt[t]=new cn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Vd,Hd);Kt[t]=new cn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Kt[e]=new cn(e,1,!1,e.toLowerCase(),null,!1,!1)});Kt.xlinkHref=new cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Kt[e]=new cn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Wd(e,t,n,r){var s=Kt.hasOwnProperty(t)?Kt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(wv(t,n,s,r)&&(n=null),r||s===null?vv(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var _r=xv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,si=Symbol.for("react.element"),Hs=Symbol.for("react.portal"),Ws=Symbol.for("react.fragment"),qd=Symbol.for("react.strict_mode"),Eu=Symbol.for("react.profiler"),fg=Symbol.for("react.provider"),mg=Symbol.for("react.context"),Ud=Symbol.for("react.forward_ref"),_u=Symbol.for("react.suspense"),Tu=Symbol.for("react.suspense_list"),Gd=Symbol.for("react.memo"),Pr=Symbol.for("react.lazy"),hg=Symbol.for("react.offscreen"),_f=Symbol.iterator;function Ro(e){return e===null||typeof e!="object"?null:(e=_f&&e[_f]||e["@@iterator"],typeof e=="function"?e:null)}var wt=Object.assign,Dc;function Go(e){if(Dc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Dc=t&&t[1]||""}return`
`+Dc+e}var Fc=!1;function Bc(e,t){if(!e||Fc)return"";Fc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=r.stack.split(`
`),i=s.length-1,l=a.length-1;1<=i&&0<=l&&s[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==a[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==a[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Fc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Go(e):""}function jv(e){switch(e.tag){case 5:return Go(e.type);case 16:return Go("Lazy");case 13:return Go("Suspense");case 19:return Go("SuspenseList");case 0:case 2:case 15:return e=Bc(e.type,!1),e;case 11:return e=Bc(e.type.render,!1),e;case 1:return e=Bc(e.type,!0),e;default:return""}}function $u(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ws:return"Fragment";case Hs:return"Portal";case Eu:return"Profiler";case qd:return"StrictMode";case _u:return"Suspense";case Tu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case mg:return(e.displayName||"Context")+".Consumer";case fg:return(e._context.displayName||"Context")+".Provider";case Ud:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Gd:return t=e.displayName||null,t!==null?t:$u(e.type)||"Memo";case Pr:t=e._payload,e=e._init;try{return $u(e(t))}catch{}}return null}function Sv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $u(t);case 8:return t===qd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ur(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function gg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Nv(e){var t=gg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function oi(e){e._valueTracker||(e._valueTracker=Nv(e))}function xg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=gg(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Yi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Pu(e,t){var n=t.checked;return wt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Tf(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ur(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function yg(e,t){t=t.checked,t!=null&&Wd(e,"checked",t,!1)}function Ru(e,t){yg(e,t);var n=Ur(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Iu(e,t.type,n):t.hasOwnProperty("defaultValue")&&Iu(e,t.type,Ur(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function $f(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Iu(e,t,n){(t!=="number"||Yi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ko=Array.isArray;function to(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ur(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Au(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ee(91));return wt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Pf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ee(92));if(Ko(n)){if(1<n.length)throw Error(ee(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ur(n)}}function vg(e,t){var n=Ur(t.value),r=Ur(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Rf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function bg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?bg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ai,wg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ai=ai||document.createElement("div"),ai.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ai.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ga(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var na={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Cv=["Webkit","ms","Moz","O"];Object.keys(na).forEach(function(e){Cv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),na[t]=na[e]})});function jg(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||na.hasOwnProperty(e)&&na[e]?(""+t).trim():t+"px"}function Sg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=jg(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var kv=wt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ou(e,t){if(t){if(kv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ee(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ee(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ee(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ee(62))}}function Mu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lu=null;function Kd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Du=null,no=null,ro=null;function If(e){if(e=Fa(e)){if(typeof Du!="function")throw Error(ee(280));var t=e.stateNode;t&&(t=Ol(t),Du(e.stateNode,e.type,t))}}function Ng(e){no?ro?ro.push(e):ro=[e]:no=e}function Cg(){if(no){var e=no,t=ro;if(ro=no=null,If(e),t)for(e=0;e<t.length;e++)If(t[e])}}function kg(e,t){return e(t)}function Eg(){}var Vc=!1;function _g(e,t,n){if(Vc)return e(t,n);Vc=!0;try{return kg(e,t,n)}finally{Vc=!1,(no!==null||ro!==null)&&(Eg(),Cg())}}function xa(e,t){var n=e.stateNode;if(n===null)return null;var r=Ol(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ee(231,t,typeof n));return n}var Fu=!1;if(jr)try{var Io={};Object.defineProperty(Io,"passive",{get:function(){Fu=!0}}),window.addEventListener("test",Io,Io),window.removeEventListener("test",Io,Io)}catch{Fu=!1}function Ev(e,t,n,r,s,a,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var ra=!1,Qi=null,Xi=!1,Bu=null,_v={onError:function(e){ra=!0,Qi=e}};function Tv(e,t,n,r,s,a,i,l,c){ra=!1,Qi=null,Ev.apply(_v,arguments)}function $v(e,t,n,r,s,a,i,l,c){if(Tv.apply(this,arguments),ra){if(ra){var u=Qi;ra=!1,Qi=null}else throw Error(ee(198));Xi||(Xi=!0,Bu=u)}}function _s(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Tg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Af(e){if(_s(e)!==e)throw Error(ee(188))}function Pv(e){var t=e.alternate;if(!t){if(t=_s(e),t===null)throw Error(ee(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return Af(s),e;if(a===r)return Af(s),t;a=a.sibling}throw Error(ee(188))}if(n.return!==r.return)n=s,r=a;else{for(var i=!1,l=s.child;l;){if(l===n){i=!0,n=s,r=a;break}if(l===r){i=!0,r=s,n=a;break}l=l.sibling}if(!i){for(l=a.child;l;){if(l===n){i=!0,n=a,r=s;break}if(l===r){i=!0,r=a,n=s;break}l=l.sibling}if(!i)throw Error(ee(189))}}if(n.alternate!==r)throw Error(ee(190))}if(n.tag!==3)throw Error(ee(188));return n.stateNode.current===n?e:t}function $g(e){return e=Pv(e),e!==null?Pg(e):null}function Pg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Pg(e);if(t!==null)return t;e=e.sibling}return null}var Rg=En.unstable_scheduleCallback,zf=En.unstable_cancelCallback,Rv=En.unstable_shouldYield,Iv=En.unstable_requestPaint,$t=En.unstable_now,Av=En.unstable_getCurrentPriorityLevel,Jd=En.unstable_ImmediatePriority,Ig=En.unstable_UserBlockingPriority,Zi=En.unstable_NormalPriority,zv=En.unstable_LowPriority,Ag=En.unstable_IdlePriority,Rl=null,dr=null;function Ov(e){if(dr&&typeof dr.onCommitFiberRoot=="function")try{dr.onCommitFiberRoot(Rl,e,void 0,(e.current.flags&128)===128)}catch{}}var Kn=Math.clz32?Math.clz32:Dv,Mv=Math.log,Lv=Math.LN2;function Dv(e){return e>>>=0,e===0?32:31-(Mv(e)/Lv|0)|0}var ii=64,li=4194304;function Jo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function el(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var l=i&~s;l!==0?r=Jo(l):(a&=i,a!==0&&(r=Jo(a)))}else i=n&~s,i!==0?r=Jo(i):a!==0&&(r=Jo(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Kn(t),s=1<<n,r|=e[n],t&=~s;return r}function Fv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bv(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-Kn(a),l=1<<i,c=s[i];c===-1?(!(l&n)||l&r)&&(s[i]=Fv(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Vu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function zg(){var e=ii;return ii<<=1,!(ii&4194240)&&(ii=64),e}function Hc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function La(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Kn(t),e[t]=n}function Vv(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Kn(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}function Yd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Kn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var nt=0;function Og(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Mg,Qd,Lg,Dg,Fg,Hu=!1,ci=[],Mr=null,Lr=null,Dr=null,ya=new Map,va=new Map,Ir=[],Hv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Of(e,t){switch(e){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":Lr=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":ya.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":va.delete(t.pointerId)}}function Ao(e,t,n,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Fa(t),t!==null&&Qd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Wv(e,t,n,r,s){switch(t){case"focusin":return Mr=Ao(Mr,e,t,n,r,s),!0;case"dragenter":return Lr=Ao(Lr,e,t,n,r,s),!0;case"mouseover":return Dr=Ao(Dr,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return ya.set(a,Ao(ya.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,va.set(a,Ao(va.get(a)||null,e,t,n,r,s)),!0}return!1}function Bg(e){var t=cs(e.target);if(t!==null){var n=_s(t);if(n!==null){if(t=n.tag,t===13){if(t=Tg(n),t!==null){e.blockedOn=t,Fg(e.priority,function(){Lg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ii(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Wu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Lu=r,n.target.dispatchEvent(r),Lu=null}else return t=Fa(n),t!==null&&Qd(t),e.blockedOn=n,!1;t.shift()}return!0}function Mf(e,t,n){Ii(e)&&n.delete(t)}function qv(){Hu=!1,Mr!==null&&Ii(Mr)&&(Mr=null),Lr!==null&&Ii(Lr)&&(Lr=null),Dr!==null&&Ii(Dr)&&(Dr=null),ya.forEach(Mf),va.forEach(Mf)}function zo(e,t){e.blockedOn===t&&(e.blockedOn=null,Hu||(Hu=!0,En.unstable_scheduleCallback(En.unstable_NormalPriority,qv)))}function ba(e){function t(s){return zo(s,e)}if(0<ci.length){zo(ci[0],e);for(var n=1;n<ci.length;n++){var r=ci[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Mr!==null&&zo(Mr,e),Lr!==null&&zo(Lr,e),Dr!==null&&zo(Dr,e),ya.forEach(t),va.forEach(t),n=0;n<Ir.length;n++)r=Ir[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ir.length&&(n=Ir[0],n.blockedOn===null);)Bg(n),n.blockedOn===null&&Ir.shift()}var so=_r.ReactCurrentBatchConfig,tl=!0;function Uv(e,t,n,r){var s=nt,a=so.transition;so.transition=null;try{nt=1,Xd(e,t,n,r)}finally{nt=s,so.transition=a}}function Gv(e,t,n,r){var s=nt,a=so.transition;so.transition=null;try{nt=4,Xd(e,t,n,r)}finally{nt=s,so.transition=a}}function Xd(e,t,n,r){if(tl){var s=Wu(e,t,n,r);if(s===null)Zc(e,t,r,nl,n),Of(e,r);else if(Wv(s,e,t,n,r))r.stopPropagation();else if(Of(e,r),t&4&&-1<Hv.indexOf(e)){for(;s!==null;){var a=Fa(s);if(a!==null&&Mg(a),a=Wu(e,t,n,r),a===null&&Zc(e,t,r,nl,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else Zc(e,t,r,null,n)}}var nl=null;function Wu(e,t,n,r){if(nl=null,e=Kd(r),e=cs(e),e!==null)if(t=_s(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Tg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return nl=e,null}function Vg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Av()){case Jd:return 1;case Ig:return 4;case Zi:case zv:return 16;case Ag:return 536870912;default:return 16}default:return 16}}var zr=null,Zd=null,Ai=null;function Hg(){if(Ai)return Ai;var e,t=Zd,n=t.length,r,s="value"in zr?zr.value:zr.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[a-r];r++);return Ai=s.slice(e,1<r?1-r:void 0)}function zi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ui(){return!0}function Lf(){return!1}function Tn(e){function t(n,r,s,a,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ui:Lf,this.isPropagationStopped=Lf,this}return wt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ui)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ui)},persist:function(){},isPersistent:ui}),t}var jo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ep=Tn(jo),Da=wt({},jo,{view:0,detail:0}),Kv=Tn(Da),Wc,qc,Oo,Il=wt({},Da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Oo&&(Oo&&e.type==="mousemove"?(Wc=e.screenX-Oo.screenX,qc=e.screenY-Oo.screenY):qc=Wc=0,Oo=e),Wc)},movementY:function(e){return"movementY"in e?e.movementY:qc}}),Df=Tn(Il),Jv=wt({},Il,{dataTransfer:0}),Yv=Tn(Jv),Qv=wt({},Da,{relatedTarget:0}),Uc=Tn(Qv),Xv=wt({},jo,{animationName:0,elapsedTime:0,pseudoElement:0}),Zv=Tn(Xv),eb=wt({},jo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tb=Tn(eb),nb=wt({},jo,{data:0}),Ff=Tn(nb),rb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ob={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ab(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ob[e])?!!t[e]:!1}function tp(){return ab}var ib=wt({},Da,{key:function(e){if(e.key){var t=rb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tp,charCode:function(e){return e.type==="keypress"?zi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lb=Tn(ib),cb=wt({},Il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bf=Tn(cb),ub=wt({},Da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tp}),db=Tn(ub),pb=wt({},jo,{propertyName:0,elapsedTime:0,pseudoElement:0}),fb=Tn(pb),mb=wt({},Il,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hb=Tn(mb),gb=[9,13,27,32],np=jr&&"CompositionEvent"in window,sa=null;jr&&"documentMode"in document&&(sa=document.documentMode);var xb=jr&&"TextEvent"in window&&!sa,Wg=jr&&(!np||sa&&8<sa&&11>=sa),Vf=" ",Hf=!1;function qg(e,t){switch(e){case"keyup":return gb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ug(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qs=!1;function yb(e,t){switch(e){case"compositionend":return Ug(t);case"keypress":return t.which!==32?null:(Hf=!0,Vf);case"textInput":return e=t.data,e===Vf&&Hf?null:e;default:return null}}function vb(e,t){if(qs)return e==="compositionend"||!np&&qg(e,t)?(e=Hg(),Ai=Zd=zr=null,qs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wg&&t.locale!=="ko"?null:t.data;default:return null}}var bb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!bb[e.type]:t==="textarea"}function Gg(e,t,n,r){Ng(r),t=rl(t,"onChange"),0<t.length&&(n=new ep("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var oa=null,wa=null;function wb(e){sx(e,0)}function Al(e){var t=Ks(e);if(xg(t))return e}function jb(e,t){if(e==="change")return t}var Kg=!1;if(jr){var Gc;if(jr){var Kc="oninput"in document;if(!Kc){var qf=document.createElement("div");qf.setAttribute("oninput","return;"),Kc=typeof qf.oninput=="function"}Gc=Kc}else Gc=!1;Kg=Gc&&(!document.documentMode||9<document.documentMode)}function Uf(){oa&&(oa.detachEvent("onpropertychange",Jg),wa=oa=null)}function Jg(e){if(e.propertyName==="value"&&Al(wa)){var t=[];Gg(t,wa,e,Kd(e)),_g(wb,t)}}function Sb(e,t,n){e==="focusin"?(Uf(),oa=t,wa=n,oa.attachEvent("onpropertychange",Jg)):e==="focusout"&&Uf()}function Nb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Al(wa)}function Cb(e,t){if(e==="click")return Al(t)}function kb(e,t){if(e==="input"||e==="change")return Al(t)}function Eb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yn=typeof Object.is=="function"?Object.is:Eb;function ja(e,t){if(Yn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ku.call(t,s)||!Yn(e[s],t[s]))return!1}return!0}function Gf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Kf(e,t){var n=Gf(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Gf(n)}}function Yg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Yg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Qg(){for(var e=window,t=Yi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Yi(e.document)}return t}function rp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function _b(e){var t=Qg(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Yg(n.ownerDocument.documentElement,n)){if(r!==null&&rp(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=Kf(n,a);var i=Kf(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Tb=jr&&"documentMode"in document&&11>=document.documentMode,Us=null,qu=null,aa=null,Uu=!1;function Jf(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Uu||Us==null||Us!==Yi(r)||(r=Us,"selectionStart"in r&&rp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),aa&&ja(aa,r)||(aa=r,r=rl(qu,"onSelect"),0<r.length&&(t=new ep("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Us)))}function di(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Gs={animationend:di("Animation","AnimationEnd"),animationiteration:di("Animation","AnimationIteration"),animationstart:di("Animation","AnimationStart"),transitionend:di("Transition","TransitionEnd")},Jc={},Xg={};jr&&(Xg=document.createElement("div").style,"AnimationEvent"in window||(delete Gs.animationend.animation,delete Gs.animationiteration.animation,delete Gs.animationstart.animation),"TransitionEvent"in window||delete Gs.transitionend.transition);function zl(e){if(Jc[e])return Jc[e];if(!Gs[e])return e;var t=Gs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Xg)return Jc[e]=t[n];return e}var Zg=zl("animationend"),ex=zl("animationiteration"),tx=zl("animationstart"),nx=zl("transitionend"),rx=new Map,Yf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jr(e,t){rx.set(e,t),Es(t,[e])}for(var Yc=0;Yc<Yf.length;Yc++){var Qc=Yf[Yc],$b=Qc.toLowerCase(),Pb=Qc[0].toUpperCase()+Qc.slice(1);Jr($b,"on"+Pb)}Jr(Zg,"onAnimationEnd");Jr(ex,"onAnimationIteration");Jr(tx,"onAnimationStart");Jr("dblclick","onDoubleClick");Jr("focusin","onFocus");Jr("focusout","onBlur");Jr(nx,"onTransitionEnd");co("onMouseEnter",["mouseout","mouseover"]);co("onMouseLeave",["mouseout","mouseover"]);co("onPointerEnter",["pointerout","pointerover"]);co("onPointerLeave",["pointerout","pointerover"]);Es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Es("onBeforeInput",["compositionend","keypress","textInput","paste"]);Es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rb=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yo));function Qf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,$v(r,t,void 0,e),e.currentTarget=null}function sx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;Qf(s,l,u),a=c}else for(i=0;i<r.length;i++){if(l=r[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;Qf(s,l,u),a=c}}}if(Xi)throw e=Bu,Xi=!1,Bu=null,e}function ft(e,t){var n=t[Qu];n===void 0&&(n=t[Qu]=new Set);var r=e+"__bubble";n.has(r)||(ox(t,e,2,!1),n.add(r))}function Xc(e,t,n){var r=0;t&&(r|=4),ox(n,e,r,t)}var pi="_reactListening"+Math.random().toString(36).slice(2);function Sa(e){if(!e[pi]){e[pi]=!0,pg.forEach(function(n){n!=="selectionchange"&&(Rb.has(n)||Xc(n,!1,e),Xc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[pi]||(t[pi]=!0,Xc("selectionchange",!1,t))}}function ox(e,t,n,r){switch(Vg(t)){case 1:var s=Uv;break;case 4:s=Gv;break;default:s=Xd}n=s.bind(null,t,n,e),s=void 0,!Fu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Zc(e,t,n,r,s){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=cs(l),i===null)return;if(c=i.tag,c===5||c===6){r=a=i;continue e}l=l.parentNode}}r=r.return}_g(function(){var u=a,d=Kd(n),g=[];e:{var b=rx.get(e);if(b!==void 0){var N=ep,h=e;switch(e){case"keypress":if(zi(n)===0)break e;case"keydown":case"keyup":N=lb;break;case"focusin":h="focus",N=Uc;break;case"focusout":h="blur",N=Uc;break;case"beforeblur":case"afterblur":N=Uc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=Df;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=Yv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=db;break;case Zg:case ex:case tx:N=Zv;break;case nx:N=fb;break;case"scroll":N=Kv;break;case"wheel":N=hb;break;case"copy":case"cut":case"paste":N=tb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=Bf}var v=(t&4)!==0,S=!v&&e==="scroll",y=v?b!==null?b+"Capture":null:b;v=[];for(var j=u,f;j!==null;){f=j;var x=f.stateNode;if(f.tag===5&&x!==null&&(f=x,y!==null&&(x=xa(j,y),x!=null&&v.push(Na(j,x,f)))),S)break;j=j.return}0<v.length&&(b=new N(b,h,null,n,d),g.push({event:b,listeners:v}))}}if(!(t&7)){e:{if(b=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",b&&n!==Lu&&(h=n.relatedTarget||n.fromElement)&&(cs(h)||h[Sr]))break e;if((N||b)&&(b=d.window===d?d:(b=d.ownerDocument)?b.defaultView||b.parentWindow:window,N?(h=n.relatedTarget||n.toElement,N=u,h=h?cs(h):null,h!==null&&(S=_s(h),h!==S||h.tag!==5&&h.tag!==6)&&(h=null)):(N=null,h=u),N!==h)){if(v=Df,x="onMouseLeave",y="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(v=Bf,x="onPointerLeave",y="onPointerEnter",j="pointer"),S=N==null?b:Ks(N),f=h==null?b:Ks(h),b=new v(x,j+"leave",N,n,d),b.target=S,b.relatedTarget=f,x=null,cs(d)===u&&(v=new v(y,j+"enter",h,n,d),v.target=f,v.relatedTarget=S,x=v),S=x,N&&h)t:{for(v=N,y=h,j=0,f=v;f;f=As(f))j++;for(f=0,x=y;x;x=As(x))f++;for(;0<j-f;)v=As(v),j--;for(;0<f-j;)y=As(y),f--;for(;j--;){if(v===y||y!==null&&v===y.alternate)break t;v=As(v),y=As(y)}v=null}else v=null;N!==null&&Xf(g,b,N,v,!1),h!==null&&S!==null&&Xf(g,S,h,v,!0)}}e:{if(b=u?Ks(u):window,N=b.nodeName&&b.nodeName.toLowerCase(),N==="select"||N==="input"&&b.type==="file")var E=jb;else if(Wf(b))if(Kg)E=kb;else{E=Nb;var k=Sb}else(N=b.nodeName)&&N.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&(E=Cb);if(E&&(E=E(e,u))){Gg(g,E,n,d);break e}k&&k(e,b,u),e==="focusout"&&(k=b._wrapperState)&&k.controlled&&b.type==="number"&&Iu(b,"number",b.value)}switch(k=u?Ks(u):window,e){case"focusin":(Wf(k)||k.contentEditable==="true")&&(Us=k,qu=u,aa=null);break;case"focusout":aa=qu=Us=null;break;case"mousedown":Uu=!0;break;case"contextmenu":case"mouseup":case"dragend":Uu=!1,Jf(g,n,d);break;case"selectionchange":if(Tb)break;case"keydown":case"keyup":Jf(g,n,d)}var P;if(np)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else qs?qg(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(Wg&&n.locale!=="ko"&&(qs||A!=="onCompositionStart"?A==="onCompositionEnd"&&qs&&(P=Hg()):(zr=d,Zd="value"in zr?zr.value:zr.textContent,qs=!0)),k=rl(u,A),0<k.length&&(A=new Ff(A,e,null,n,d),g.push({event:A,listeners:k}),P?A.data=P:(P=Ug(n),P!==null&&(A.data=P)))),(P=xb?yb(e,n):vb(e,n))&&(u=rl(u,"onBeforeInput"),0<u.length&&(d=new Ff("onBeforeInput","beforeinput",null,n,d),g.push({event:d,listeners:u}),d.data=P))}sx(g,t)})}function Na(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rl(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=xa(e,n),a!=null&&r.unshift(Na(e,a,s)),a=xa(e,t),a!=null&&r.push(Na(e,a,s))),e=e.return}return r}function As(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Xf(e,t,n,r,s){for(var a=t._reactName,i=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=xa(n,a),c!=null&&i.unshift(Na(n,c,l))):s||(c=xa(n,a),c!=null&&i.push(Na(n,c,l)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Ib=/\r\n?/g,Ab=/\u0000|\uFFFD/g;function Zf(e){return(typeof e=="string"?e:""+e).replace(Ib,`
`).replace(Ab,"")}function fi(e,t,n){if(t=Zf(t),Zf(e)!==t&&n)throw Error(ee(425))}function sl(){}var Gu=null,Ku=null;function Ju(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Yu=typeof setTimeout=="function"?setTimeout:void 0,zb=typeof clearTimeout=="function"?clearTimeout:void 0,em=typeof Promise=="function"?Promise:void 0,Ob=typeof queueMicrotask=="function"?queueMicrotask:typeof em<"u"?function(e){return em.resolve(null).then(e).catch(Mb)}:Yu;function Mb(e){setTimeout(function(){throw e})}function eu(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ba(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ba(t)}function Fr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function tm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var So=Math.random().toString(36).slice(2),lr="__reactFiber$"+So,Ca="__reactProps$"+So,Sr="__reactContainer$"+So,Qu="__reactEvents$"+So,Lb="__reactListeners$"+So,Db="__reactHandles$"+So;function cs(e){var t=e[lr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Sr]||n[lr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=tm(e);e!==null;){if(n=e[lr])return n;e=tm(e)}return t}e=n,n=e.parentNode}return null}function Fa(e){return e=e[lr]||e[Sr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ks(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ee(33))}function Ol(e){return e[Ca]||null}var Xu=[],Js=-1;function Yr(e){return{current:e}}function mt(e){0>Js||(e.current=Xu[Js],Xu[Js]=null,Js--)}function dt(e,t){Js++,Xu[Js]=e.current,e.current=t}var Gr={},nn=Yr(Gr),fn=Yr(!1),vs=Gr;function uo(e,t){var n=e.type.contextTypes;if(!n)return Gr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function mn(e){return e=e.childContextTypes,e!=null}function ol(){mt(fn),mt(nn)}function nm(e,t,n){if(nn.current!==Gr)throw Error(ee(168));dt(nn,t),dt(fn,n)}function ax(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(ee(108,Sv(e)||"Unknown",s));return wt({},n,r)}function al(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gr,vs=nn.current,dt(nn,e),dt(fn,fn.current),!0}function rm(e,t,n){var r=e.stateNode;if(!r)throw Error(ee(169));n?(e=ax(e,t,vs),r.__reactInternalMemoizedMergedChildContext=e,mt(fn),mt(nn),dt(nn,e)):mt(fn),dt(fn,n)}var yr=null,Ml=!1,tu=!1;function ix(e){yr===null?yr=[e]:yr.push(e)}function Fb(e){Ml=!0,ix(e)}function Qr(){if(!tu&&yr!==null){tu=!0;var e=0,t=nt;try{var n=yr;for(nt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}yr=null,Ml=!1}catch(s){throw yr!==null&&(yr=yr.slice(e+1)),Rg(Jd,Qr),s}finally{nt=t,tu=!1}}return null}var Ys=[],Qs=0,il=null,ll=0,Rn=[],In=0,bs=null,vr=1,br="";function os(e,t){Ys[Qs++]=ll,Ys[Qs++]=il,il=e,ll=t}function lx(e,t,n){Rn[In++]=vr,Rn[In++]=br,Rn[In++]=bs,bs=e;var r=vr;e=br;var s=32-Kn(r)-1;r&=~(1<<s),n+=1;var a=32-Kn(t)+s;if(30<a){var i=s-s%5;a=(r&(1<<i)-1).toString(32),r>>=i,s-=i,vr=1<<32-Kn(t)+s|n<<s|r,br=a+e}else vr=1<<a|n<<s|r,br=e}function sp(e){e.return!==null&&(os(e,1),lx(e,1,0))}function op(e){for(;e===il;)il=Ys[--Qs],Ys[Qs]=null,ll=Ys[--Qs],Ys[Qs]=null;for(;e===bs;)bs=Rn[--In],Rn[In]=null,br=Rn[--In],Rn[In]=null,vr=Rn[--In],Rn[In]=null}var Cn=null,Sn=null,gt=!1,Gn=null;function cx(e,t){var n=On(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function sm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Cn=e,Sn=Fr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Cn=e,Sn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=bs!==null?{id:vr,overflow:br}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=On(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Cn=e,Sn=null,!0):!1;default:return!1}}function Zu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ed(e){if(gt){var t=Sn;if(t){var n=t;if(!sm(e,t)){if(Zu(e))throw Error(ee(418));t=Fr(n.nextSibling);var r=Cn;t&&sm(e,t)?cx(r,n):(e.flags=e.flags&-4097|2,gt=!1,Cn=e)}}else{if(Zu(e))throw Error(ee(418));e.flags=e.flags&-4097|2,gt=!1,Cn=e}}}function om(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Cn=e}function mi(e){if(e!==Cn)return!1;if(!gt)return om(e),gt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ju(e.type,e.memoizedProps)),t&&(t=Sn)){if(Zu(e))throw ux(),Error(ee(418));for(;t;)cx(e,t),t=Fr(t.nextSibling)}if(om(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ee(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Sn=Fr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Sn=null}}else Sn=Cn?Fr(e.stateNode.nextSibling):null;return!0}function ux(){for(var e=Sn;e;)e=Fr(e.nextSibling)}function po(){Sn=Cn=null,gt=!1}function ap(e){Gn===null?Gn=[e]:Gn.push(e)}var Bb=_r.ReactCurrentBatchConfig;function Mo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ee(309));var r=n.stateNode}if(!r)throw Error(ee(147,e));var s=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var l=s.refs;i===null?delete l[a]:l[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(ee(284));if(!n._owner)throw Error(ee(290,e))}return e}function hi(e,t){throw e=Object.prototype.toString.call(t),Error(ee(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function am(e){var t=e._init;return t(e._payload)}function dx(e){function t(y,j){if(e){var f=y.deletions;f===null?(y.deletions=[j],y.flags|=16):f.push(j)}}function n(y,j){if(!e)return null;for(;j!==null;)t(y,j),j=j.sibling;return null}function r(y,j){for(y=new Map;j!==null;)j.key!==null?y.set(j.key,j):y.set(j.index,j),j=j.sibling;return y}function s(y,j){return y=Wr(y,j),y.index=0,y.sibling=null,y}function a(y,j,f){return y.index=f,e?(f=y.alternate,f!==null?(f=f.index,f<j?(y.flags|=2,j):f):(y.flags|=2,j)):(y.flags|=1048576,j)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,j,f,x){return j===null||j.tag!==6?(j=lu(f,y.mode,x),j.return=y,j):(j=s(j,f),j.return=y,j)}function c(y,j,f,x){var E=f.type;return E===Ws?d(y,j,f.props.children,x,f.key):j!==null&&(j.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Pr&&am(E)===j.type)?(x=s(j,f.props),x.ref=Mo(y,j,f),x.return=y,x):(x=Vi(f.type,f.key,f.props,null,y.mode,x),x.ref=Mo(y,j,f),x.return=y,x)}function u(y,j,f,x){return j===null||j.tag!==4||j.stateNode.containerInfo!==f.containerInfo||j.stateNode.implementation!==f.implementation?(j=cu(f,y.mode,x),j.return=y,j):(j=s(j,f.children||[]),j.return=y,j)}function d(y,j,f,x,E){return j===null||j.tag!==7?(j=gs(f,y.mode,x,E),j.return=y,j):(j=s(j,f),j.return=y,j)}function g(y,j,f){if(typeof j=="string"&&j!==""||typeof j=="number")return j=lu(""+j,y.mode,f),j.return=y,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case si:return f=Vi(j.type,j.key,j.props,null,y.mode,f),f.ref=Mo(y,null,j),f.return=y,f;case Hs:return j=cu(j,y.mode,f),j.return=y,j;case Pr:var x=j._init;return g(y,x(j._payload),f)}if(Ko(j)||Ro(j))return j=gs(j,y.mode,f,null),j.return=y,j;hi(y,j)}return null}function b(y,j,f,x){var E=j!==null?j.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return E!==null?null:l(y,j,""+f,x);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case si:return f.key===E?c(y,j,f,x):null;case Hs:return f.key===E?u(y,j,f,x):null;case Pr:return E=f._init,b(y,j,E(f._payload),x)}if(Ko(f)||Ro(f))return E!==null?null:d(y,j,f,x,null);hi(y,f)}return null}function N(y,j,f,x,E){if(typeof x=="string"&&x!==""||typeof x=="number")return y=y.get(f)||null,l(j,y,""+x,E);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case si:return y=y.get(x.key===null?f:x.key)||null,c(j,y,x,E);case Hs:return y=y.get(x.key===null?f:x.key)||null,u(j,y,x,E);case Pr:var k=x._init;return N(y,j,f,k(x._payload),E)}if(Ko(x)||Ro(x))return y=y.get(f)||null,d(j,y,x,E,null);hi(j,x)}return null}function h(y,j,f,x){for(var E=null,k=null,P=j,A=j=0,_=null;P!==null&&A<f.length;A++){P.index>A?(_=P,P=null):_=P.sibling;var T=b(y,P,f[A],x);if(T===null){P===null&&(P=_);break}e&&P&&T.alternate===null&&t(y,P),j=a(T,j,A),k===null?E=T:k.sibling=T,k=T,P=_}if(A===f.length)return n(y,P),gt&&os(y,A),E;if(P===null){for(;A<f.length;A++)P=g(y,f[A],x),P!==null&&(j=a(P,j,A),k===null?E=P:k.sibling=P,k=P);return gt&&os(y,A),E}for(P=r(y,P);A<f.length;A++)_=N(P,y,A,f[A],x),_!==null&&(e&&_.alternate!==null&&P.delete(_.key===null?A:_.key),j=a(_,j,A),k===null?E=_:k.sibling=_,k=_);return e&&P.forEach(function(O){return t(y,O)}),gt&&os(y,A),E}function v(y,j,f,x){var E=Ro(f);if(typeof E!="function")throw Error(ee(150));if(f=E.call(f),f==null)throw Error(ee(151));for(var k=E=null,P=j,A=j=0,_=null,T=f.next();P!==null&&!T.done;A++,T=f.next()){P.index>A?(_=P,P=null):_=P.sibling;var O=b(y,P,T.value,x);if(O===null){P===null&&(P=_);break}e&&P&&O.alternate===null&&t(y,P),j=a(O,j,A),k===null?E=O:k.sibling=O,k=O,P=_}if(T.done)return n(y,P),gt&&os(y,A),E;if(P===null){for(;!T.done;A++,T=f.next())T=g(y,T.value,x),T!==null&&(j=a(T,j,A),k===null?E=T:k.sibling=T,k=T);return gt&&os(y,A),E}for(P=r(y,P);!T.done;A++,T=f.next())T=N(P,y,A,T.value,x),T!==null&&(e&&T.alternate!==null&&P.delete(T.key===null?A:T.key),j=a(T,j,A),k===null?E=T:k.sibling=T,k=T);return e&&P.forEach(function(w){return t(y,w)}),gt&&os(y,A),E}function S(y,j,f,x){if(typeof f=="object"&&f!==null&&f.type===Ws&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case si:e:{for(var E=f.key,k=j;k!==null;){if(k.key===E){if(E=f.type,E===Ws){if(k.tag===7){n(y,k.sibling),j=s(k,f.props.children),j.return=y,y=j;break e}}else if(k.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Pr&&am(E)===k.type){n(y,k.sibling),j=s(k,f.props),j.ref=Mo(y,k,f),j.return=y,y=j;break e}n(y,k);break}else t(y,k);k=k.sibling}f.type===Ws?(j=gs(f.props.children,y.mode,x,f.key),j.return=y,y=j):(x=Vi(f.type,f.key,f.props,null,y.mode,x),x.ref=Mo(y,j,f),x.return=y,y=x)}return i(y);case Hs:e:{for(k=f.key;j!==null;){if(j.key===k)if(j.tag===4&&j.stateNode.containerInfo===f.containerInfo&&j.stateNode.implementation===f.implementation){n(y,j.sibling),j=s(j,f.children||[]),j.return=y,y=j;break e}else{n(y,j);break}else t(y,j);j=j.sibling}j=cu(f,y.mode,x),j.return=y,y=j}return i(y);case Pr:return k=f._init,S(y,j,k(f._payload),x)}if(Ko(f))return h(y,j,f,x);if(Ro(f))return v(y,j,f,x);hi(y,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,j!==null&&j.tag===6?(n(y,j.sibling),j=s(j,f),j.return=y,y=j):(n(y,j),j=lu(f,y.mode,x),j.return=y,y=j),i(y)):n(y,j)}return S}var fo=dx(!0),px=dx(!1),cl=Yr(null),ul=null,Xs=null,ip=null;function lp(){ip=Xs=ul=null}function cp(e){var t=cl.current;mt(cl),e._currentValue=t}function td(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function oo(e,t){ul=e,ip=Xs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(pn=!0),e.firstContext=null)}function Ln(e){var t=e._currentValue;if(ip!==e)if(e={context:e,memoizedValue:t,next:null},Xs===null){if(ul===null)throw Error(ee(308));Xs=e,ul.dependencies={lanes:0,firstContext:e}}else Xs=Xs.next=e;return t}var us=null;function up(e){us===null?us=[e]:us.push(e)}function fx(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,up(t)):(n.next=s.next,s.next=n),t.interleaved=n,Nr(e,r)}function Nr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Rr=!1;function dp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Br(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ue&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Nr(e,n)}return s=r.interleaved,s===null?(t.next=t,up(r)):(t.next=s.next,s.next=t),r.interleaved=t,Nr(e,n)}function Oi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Yd(e,n)}}function im(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function dl(e,t,n,r){var s=e.updateQueue;Rr=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var g=s.baseState;i=0,d=u=c=null,l=a;do{var b=l.lane,N=l.eventTime;if((r&b)===b){d!==null&&(d=d.next={eventTime:N,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var h=e,v=l;switch(b=t,N=n,v.tag){case 1:if(h=v.payload,typeof h=="function"){g=h.call(N,g,b);break e}g=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=v.payload,b=typeof h=="function"?h.call(N,g,b):h,b==null)break e;g=wt({},g,b);break e;case 2:Rr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,b=s.effects,b===null?s.effects=[l]:b.push(l))}else N={eventTime:N,lane:b,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=N,c=g):d=d.next=N,i|=b;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;b=l,l=b.next,b.next=null,s.lastBaseUpdate=b,s.shared.pending=null}}while(!0);if(d===null&&(c=g),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);js|=i,e.lanes=i,e.memoizedState=g}}function lm(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(ee(191,s));s.call(r)}}}var Ba={},pr=Yr(Ba),ka=Yr(Ba),Ea=Yr(Ba);function ds(e){if(e===Ba)throw Error(ee(174));return e}function pp(e,t){switch(dt(Ea,t),dt(ka,e),dt(pr,Ba),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:zu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=zu(t,e)}mt(pr),dt(pr,t)}function mo(){mt(pr),mt(ka),mt(Ea)}function hx(e){ds(Ea.current);var t=ds(pr.current),n=zu(t,e.type);t!==n&&(dt(ka,e),dt(pr,n))}function fp(e){ka.current===e&&(mt(pr),mt(ka))}var yt=Yr(0);function pl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var nu=[];function mp(){for(var e=0;e<nu.length;e++)nu[e]._workInProgressVersionPrimary=null;nu.length=0}var Mi=_r.ReactCurrentDispatcher,ru=_r.ReactCurrentBatchConfig,ws=0,vt=null,Mt=null,Ft=null,fl=!1,ia=!1,_a=0,Vb=0;function Yt(){throw Error(ee(321))}function hp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yn(e[n],t[n]))return!1;return!0}function gp(e,t,n,r,s,a){if(ws=a,vt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Mi.current=e===null||e.memoizedState===null?Ub:Gb,e=n(r,s),ia){a=0;do{if(ia=!1,_a=0,25<=a)throw Error(ee(301));a+=1,Ft=Mt=null,t.updateQueue=null,Mi.current=Kb,e=n(r,s)}while(ia)}if(Mi.current=ml,t=Mt!==null&&Mt.next!==null,ws=0,Ft=Mt=vt=null,fl=!1,t)throw Error(ee(300));return e}function xp(){var e=_a!==0;return _a=0,e}function or(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?vt.memoizedState=Ft=e:Ft=Ft.next=e,Ft}function Dn(){if(Mt===null){var e=vt.alternate;e=e!==null?e.memoizedState:null}else e=Mt.next;var t=Ft===null?vt.memoizedState:Ft.next;if(t!==null)Ft=t,Mt=e;else{if(e===null)throw Error(ee(310));Mt=e,e={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},Ft===null?vt.memoizedState=Ft=e:Ft=Ft.next=e}return Ft}function Ta(e,t){return typeof t=="function"?t(e):t}function su(e){var t=Dn(),n=t.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=e;var r=Mt,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var i=s.next;s.next=a.next,a.next=i}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var l=i=null,c=null,u=a;do{var d=u.lane;if((ws&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var g={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=g,i=r):c=c.next=g,vt.lanes|=d,js|=d}u=u.next}while(u!==null&&u!==a);c===null?i=r:c.next=l,Yn(r,t.memoizedState)||(pn=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do a=s.lane,vt.lanes|=a,js|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ou(e){var t=Dn(),n=t.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do a=e(a,i.action),i=i.next;while(i!==s);Yn(a,t.memoizedState)||(pn=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function gx(){}function xx(e,t){var n=vt,r=Dn(),s=t(),a=!Yn(r.memoizedState,s);if(a&&(r.memoizedState=s,pn=!0),r=r.queue,yp(bx.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Ft!==null&&Ft.memoizedState.tag&1){if(n.flags|=2048,$a(9,vx.bind(null,n,r,s,t),void 0,null),Bt===null)throw Error(ee(349));ws&30||yx(n,t,s)}return s}function yx(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=vt.updateQueue,t===null?(t={lastEffect:null,stores:null},vt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function vx(e,t,n,r){t.value=n,t.getSnapshot=r,wx(t)&&jx(e)}function bx(e,t,n){return n(function(){wx(t)&&jx(e)})}function wx(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yn(e,n)}catch{return!0}}function jx(e){var t=Nr(e,1);t!==null&&Jn(t,e,1,-1)}function cm(e){var t=or();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:e},t.queue=e,e=e.dispatch=qb.bind(null,vt,e),[t.memoizedState,e]}function $a(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=vt.updateQueue,t===null?(t={lastEffect:null,stores:null},vt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Sx(){return Dn().memoizedState}function Li(e,t,n,r){var s=or();vt.flags|=e,s.memoizedState=$a(1|t,n,void 0,r===void 0?null:r)}function Ll(e,t,n,r){var s=Dn();r=r===void 0?null:r;var a=void 0;if(Mt!==null){var i=Mt.memoizedState;if(a=i.destroy,r!==null&&hp(r,i.deps)){s.memoizedState=$a(t,n,a,r);return}}vt.flags|=e,s.memoizedState=$a(1|t,n,a,r)}function um(e,t){return Li(8390656,8,e,t)}function yp(e,t){return Ll(2048,8,e,t)}function Nx(e,t){return Ll(4,2,e,t)}function Cx(e,t){return Ll(4,4,e,t)}function kx(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ex(e,t,n){return n=n!=null?n.concat([e]):null,Ll(4,4,kx.bind(null,t,e),n)}function vp(){}function _x(e,t){var n=Dn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&hp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Tx(e,t){var n=Dn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&hp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $x(e,t,n){return ws&21?(Yn(n,t)||(n=zg(),vt.lanes|=n,js|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,pn=!0),e.memoizedState=n)}function Hb(e,t){var n=nt;nt=n!==0&&4>n?n:4,e(!0);var r=ru.transition;ru.transition={};try{e(!1),t()}finally{nt=n,ru.transition=r}}function Px(){return Dn().memoizedState}function Wb(e,t,n){var r=Hr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Rx(e))Ix(t,n);else if(n=fx(e,t,n,r),n!==null){var s=an();Jn(n,e,r,s),Ax(n,t,r)}}function qb(e,t,n){var r=Hr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Rx(e))Ix(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,l=a(i,n);if(s.hasEagerState=!0,s.eagerState=l,Yn(l,i)){var c=t.interleaved;c===null?(s.next=s,up(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=fx(e,t,s,r),n!==null&&(s=an(),Jn(n,e,r,s),Ax(n,t,r))}}function Rx(e){var t=e.alternate;return e===vt||t!==null&&t===vt}function Ix(e,t){ia=fl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ax(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Yd(e,n)}}var ml={readContext:Ln,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},Ub={readContext:Ln,useCallback:function(e,t){return or().memoizedState=[e,t===void 0?null:t],e},useContext:Ln,useEffect:um,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Li(4194308,4,kx.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Li(4194308,4,e,t)},useInsertionEffect:function(e,t){return Li(4,2,e,t)},useMemo:function(e,t){var n=or();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=or();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Wb.bind(null,vt,e),[r.memoizedState,e]},useRef:function(e){var t=or();return e={current:e},t.memoizedState=e},useState:cm,useDebugValue:vp,useDeferredValue:function(e){return or().memoizedState=e},useTransition:function(){var e=cm(!1),t=e[0];return e=Hb.bind(null,e[1]),or().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vt,s=or();if(gt){if(n===void 0)throw Error(ee(407));n=n()}else{if(n=t(),Bt===null)throw Error(ee(349));ws&30||yx(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,um(bx.bind(null,r,a,e),[e]),r.flags|=2048,$a(9,vx.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=or(),t=Bt.identifierPrefix;if(gt){var n=br,r=vr;n=(r&~(1<<32-Kn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=_a++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Vb++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Gb={readContext:Ln,useCallback:_x,useContext:Ln,useEffect:yp,useImperativeHandle:Ex,useInsertionEffect:Nx,useLayoutEffect:Cx,useMemo:Tx,useReducer:su,useRef:Sx,useState:function(){return su(Ta)},useDebugValue:vp,useDeferredValue:function(e){var t=Dn();return $x(t,Mt.memoizedState,e)},useTransition:function(){var e=su(Ta)[0],t=Dn().memoizedState;return[e,t]},useMutableSource:gx,useSyncExternalStore:xx,useId:Px,unstable_isNewReconciler:!1},Kb={readContext:Ln,useCallback:_x,useContext:Ln,useEffect:yp,useImperativeHandle:Ex,useInsertionEffect:Nx,useLayoutEffect:Cx,useMemo:Tx,useReducer:ou,useRef:Sx,useState:function(){return ou(Ta)},useDebugValue:vp,useDeferredValue:function(e){var t=Dn();return Mt===null?t.memoizedState=e:$x(t,Mt.memoizedState,e)},useTransition:function(){var e=ou(Ta)[0],t=Dn().memoizedState;return[e,t]},useMutableSource:gx,useSyncExternalStore:xx,useId:Px,unstable_isNewReconciler:!1};function qn(e,t){if(e&&e.defaultProps){t=wt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function nd(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:wt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Dl={isMounted:function(e){return(e=e._reactInternals)?_s(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=an(),s=Hr(e),a=wr(r,s);a.payload=t,n!=null&&(a.callback=n),t=Br(e,a,s),t!==null&&(Jn(t,e,s,r),Oi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=an(),s=Hr(e),a=wr(r,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Br(e,a,s),t!==null&&(Jn(t,e,s,r),Oi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=an(),r=Hr(e),s=wr(n,r);s.tag=2,t!=null&&(s.callback=t),t=Br(e,s,r),t!==null&&(Jn(t,e,r,n),Oi(t,e,r))}};function dm(e,t,n,r,s,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,i):t.prototype&&t.prototype.isPureReactComponent?!ja(n,r)||!ja(s,a):!0}function zx(e,t,n){var r=!1,s=Gr,a=t.contextType;return typeof a=="object"&&a!==null?a=Ln(a):(s=mn(t)?vs:nn.current,r=t.contextTypes,a=(r=r!=null)?uo(e,s):Gr),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Dl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function pm(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Dl.enqueueReplaceState(t,t.state,null)}function rd(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},dp(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=Ln(a):(a=mn(t)?vs:nn.current,s.context=uo(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(nd(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Dl.enqueueReplaceState(s,s.state,null),dl(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ho(e,t){try{var n="",r=t;do n+=jv(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function au(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function sd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Jb=typeof WeakMap=="function"?WeakMap:Map;function Ox(e,t,n){n=wr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){gl||(gl=!0,md=r),sd(e,t)},n}function Mx(e,t,n){n=wr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){sd(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){sd(e,t),typeof r!="function"&&(Vr===null?Vr=new Set([this]):Vr.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function fm(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Jb;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=cw.bind(null,e,t,n),t.then(e,e))}function mm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function hm(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=wr(-1,1),t.tag=2,Br(n,t,1))),n.lanes|=1),e)}var Yb=_r.ReactCurrentOwner,pn=!1;function sn(e,t,n,r){t.child=e===null?px(t,null,n,r):fo(t,e.child,n,r)}function gm(e,t,n,r,s){n=n.render;var a=t.ref;return oo(t,s),r=gp(e,t,n,r,a,s),n=xp(),e!==null&&!pn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Cr(e,t,s)):(gt&&n&&sp(t),t.flags|=1,sn(e,t,r,s),t.child)}function xm(e,t,n,r,s){if(e===null){var a=n.type;return typeof a=="function"&&!Ep(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Lx(e,t,a,r,s)):(e=Vi(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:ja,n(i,r)&&e.ref===t.ref)return Cr(e,t,s)}return t.flags|=1,e=Wr(a,r),e.ref=t.ref,e.return=t,t.child=e}function Lx(e,t,n,r,s){if(e!==null){var a=e.memoizedProps;if(ja(a,r)&&e.ref===t.ref)if(pn=!1,t.pendingProps=r=a,(e.lanes&s)!==0)e.flags&131072&&(pn=!0);else return t.lanes=e.lanes,Cr(e,t,s)}return od(e,t,n,r,s)}function Dx(e,t,n){var r=t.pendingProps,s=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},dt(eo,bn),bn|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,dt(eo,bn),bn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,dt(eo,bn),bn|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,dt(eo,bn),bn|=r;return sn(e,t,s,n),t.child}function Fx(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function od(e,t,n,r,s){var a=mn(n)?vs:nn.current;return a=uo(t,a),oo(t,s),n=gp(e,t,n,r,a,s),r=xp(),e!==null&&!pn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Cr(e,t,s)):(gt&&r&&sp(t),t.flags|=1,sn(e,t,n,s),t.child)}function ym(e,t,n,r,s){if(mn(n)){var a=!0;al(t)}else a=!1;if(oo(t,s),t.stateNode===null)Di(e,t),zx(t,n,r),rd(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ln(u):(u=mn(n)?vs:nn.current,u=uo(t,u));var d=n.getDerivedStateFromProps,g=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";g||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||c!==u)&&pm(t,i,r,u),Rr=!1;var b=t.memoizedState;i.state=b,dl(t,r,i,s),c=t.memoizedState,l!==r||b!==c||fn.current||Rr?(typeof d=="function"&&(nd(t,n,d,r),c=t.memoizedState),(l=Rr||dm(t,n,l,r,b,c,u))?(g||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,mx(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:qn(t.type,l),i.props=u,g=t.pendingProps,b=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ln(c):(c=mn(n)?vs:nn.current,c=uo(t,c));var N=n.getDerivedStateFromProps;(d=typeof N=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==g||b!==c)&&pm(t,i,r,c),Rr=!1,b=t.memoizedState,i.state=b,dl(t,r,i,s);var h=t.memoizedState;l!==g||b!==h||fn.current||Rr?(typeof N=="function"&&(nd(t,n,N,r),h=t.memoizedState),(u=Rr||dm(t,n,u,r,b,h,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,h,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,h,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),i.props=r,i.state=h,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),r=!1)}return ad(e,t,n,r,a,s)}function ad(e,t,n,r,s,a){Fx(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&rm(t,n,!1),Cr(e,t,a);r=t.stateNode,Yb.current=t;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=fo(t,e.child,null,a),t.child=fo(t,null,l,a)):sn(e,t,l,a),t.memoizedState=r.state,s&&rm(t,n,!0),t.child}function Bx(e){var t=e.stateNode;t.pendingContext?nm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&nm(e,t.context,!1),pp(e,t.containerInfo)}function vm(e,t,n,r,s){return po(),ap(s),t.flags|=256,sn(e,t,n,r),t.child}var id={dehydrated:null,treeContext:null,retryLane:0};function ld(e){return{baseLanes:e,cachePool:null,transitions:null}}function Vx(e,t,n){var r=t.pendingProps,s=yt.current,a=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),dt(yt,s&1),e===null)return ed(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,a?(r=t.mode,a=t.child,i={mode:"hidden",children:i},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=Vl(i,r,0,null),e=gs(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=ld(n),t.memoizedState=id,e):bp(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Qb(e,t,i,r,l,s,n);if(a){a=r.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Wr(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Wr(l,a):(a=gs(a,i,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,i=e.child.memoizedState,i=i===null?ld(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=id,r}return a=e.child,e=a.sibling,r=Wr(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function bp(e,t){return t=Vl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function gi(e,t,n,r){return r!==null&&ap(r),fo(t,e.child,null,n),e=bp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Qb(e,t,n,r,s,a,i){if(n)return t.flags&256?(t.flags&=-257,r=au(Error(ee(422))),gi(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=Vl({mode:"visible",children:r.children},s,0,null),a=gs(a,s,i,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&fo(t,e.child,null,i),t.child.memoizedState=ld(i),t.memoizedState=id,a);if(!(t.mode&1))return gi(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(ee(419)),r=au(a,r,void 0),gi(e,t,i,r)}if(l=(i&e.childLanes)!==0,pn||l){if(r=Bt,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Nr(e,s),Jn(r,e,s,-1))}return kp(),r=au(Error(ee(421))),gi(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=uw.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Sn=Fr(s.nextSibling),Cn=t,gt=!0,Gn=null,e!==null&&(Rn[In++]=vr,Rn[In++]=br,Rn[In++]=bs,vr=e.id,br=e.overflow,bs=t),t=bp(t,r.children),t.flags|=4096,t)}function bm(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),td(e.return,t,n)}function iu(e,t,n,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function Hx(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(sn(e,t,r.children,n),r=yt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bm(e,n,t);else if(e.tag===19)bm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(dt(yt,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&pl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),iu(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&pl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}iu(t,!0,n,null,a);break;case"together":iu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Di(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Cr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),js|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ee(153));if(t.child!==null){for(e=t.child,n=Wr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Wr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Xb(e,t,n){switch(t.tag){case 3:Bx(t),po();break;case 5:hx(t);break;case 1:mn(t.type)&&al(t);break;case 4:pp(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;dt(cl,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(dt(yt,yt.current&1),t.flags|=128,null):n&t.child.childLanes?Vx(e,t,n):(dt(yt,yt.current&1),e=Cr(e,t,n),e!==null?e.sibling:null);dt(yt,yt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Hx(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),dt(yt,yt.current),r)break;return null;case 22:case 23:return t.lanes=0,Dx(e,t,n)}return Cr(e,t,n)}var Wx,cd,qx,Ux;Wx=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cd=function(){};qx=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,ds(pr.current);var a=null;switch(n){case"input":s=Pu(e,s),r=Pu(e,r),a=[];break;case"select":s=wt({},s,{value:void 0}),r=wt({},r,{value:void 0}),a=[];break;case"textarea":s=Au(e,s),r=Au(e,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=sl)}Ou(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ha.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ha.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ft("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};Ux=function(e,t,n,r){n!==r&&(t.flags|=4)};function Lo(e,t){if(!gt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Qt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Zb(e,t,n){var r=t.pendingProps;switch(op(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(t),null;case 1:return mn(t.type)&&ol(),Qt(t),null;case 3:return r=t.stateNode,mo(),mt(fn),mt(nn),mp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(mi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Gn!==null&&(xd(Gn),Gn=null))),cd(e,t),Qt(t),null;case 5:fp(t);var s=ds(Ea.current);if(n=t.type,e!==null&&t.stateNode!=null)qx(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ee(166));return Qt(t),null}if(e=ds(pr.current),mi(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[lr]=t,r[Ca]=a,e=(t.mode&1)!==0,n){case"dialog":ft("cancel",r),ft("close",r);break;case"iframe":case"object":case"embed":ft("load",r);break;case"video":case"audio":for(s=0;s<Yo.length;s++)ft(Yo[s],r);break;case"source":ft("error",r);break;case"img":case"image":case"link":ft("error",r),ft("load",r);break;case"details":ft("toggle",r);break;case"input":Tf(r,a),ft("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},ft("invalid",r);break;case"textarea":Pf(r,a),ft("invalid",r)}Ou(n,a),s=null;for(var i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&fi(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&fi(r.textContent,l,e),s=["children",""+l]):ha.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&ft("scroll",r)}switch(n){case"input":oi(r),$f(r,a,!0);break;case"textarea":oi(r),Rf(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=sl)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=bg(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[lr]=t,e[Ca]=r,Wx(e,t,!1,!1),t.stateNode=e;e:{switch(i=Mu(n,r),n){case"dialog":ft("cancel",e),ft("close",e),s=r;break;case"iframe":case"object":case"embed":ft("load",e),s=r;break;case"video":case"audio":for(s=0;s<Yo.length;s++)ft(Yo[s],e);s=r;break;case"source":ft("error",e),s=r;break;case"img":case"image":case"link":ft("error",e),ft("load",e),s=r;break;case"details":ft("toggle",e),s=r;break;case"input":Tf(e,r),s=Pu(e,r),ft("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=wt({},r,{value:void 0}),ft("invalid",e);break;case"textarea":Pf(e,r),s=Au(e,r),ft("invalid",e);break;default:s=r}Ou(n,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?Sg(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&wg(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ga(e,c):typeof c=="number"&&ga(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ha.hasOwnProperty(a)?c!=null&&a==="onScroll"&&ft("scroll",e):c!=null&&Wd(e,a,c,i))}switch(n){case"input":oi(e),$f(e,r,!1);break;case"textarea":oi(e),Rf(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ur(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?to(e,!!r.multiple,a,!1):r.defaultValue!=null&&to(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=sl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Qt(t),null;case 6:if(e&&t.stateNode!=null)Ux(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ee(166));if(n=ds(Ea.current),ds(pr.current),mi(t)){if(r=t.stateNode,n=t.memoizedProps,r[lr]=t,(a=r.nodeValue!==n)&&(e=Cn,e!==null))switch(e.tag){case 3:fi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fi(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[lr]=t,t.stateNode=r}return Qt(t),null;case 13:if(mt(yt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(gt&&Sn!==null&&t.mode&1&&!(t.flags&128))ux(),po(),t.flags|=98560,a=!1;else if(a=mi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(ee(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ee(317));a[lr]=t}else po(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Qt(t),a=!1}else Gn!==null&&(xd(Gn),Gn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||yt.current&1?Lt===0&&(Lt=3):kp())),t.updateQueue!==null&&(t.flags|=4),Qt(t),null);case 4:return mo(),cd(e,t),e===null&&Sa(t.stateNode.containerInfo),Qt(t),null;case 10:return cp(t.type._context),Qt(t),null;case 17:return mn(t.type)&&ol(),Qt(t),null;case 19:if(mt(yt),a=t.memoizedState,a===null)return Qt(t),null;if(r=(t.flags&128)!==0,i=a.rendering,i===null)if(r)Lo(a,!1);else{if(Lt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=pl(e),i!==null){for(t.flags|=128,Lo(a,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return dt(yt,yt.current&1|2),t.child}e=e.sibling}a.tail!==null&&$t()>go&&(t.flags|=128,r=!0,Lo(a,!1),t.lanes=4194304)}else{if(!r)if(e=pl(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Lo(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!gt)return Qt(t),null}else 2*$t()-a.renderingStartTime>go&&n!==1073741824&&(t.flags|=128,r=!0,Lo(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=$t(),t.sibling=null,n=yt.current,dt(yt,r?n&1|2:n&1),t):(Qt(t),null);case 22:case 23:return Cp(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?bn&1073741824&&(Qt(t),t.subtreeFlags&6&&(t.flags|=8192)):Qt(t),null;case 24:return null;case 25:return null}throw Error(ee(156,t.tag))}function ew(e,t){switch(op(t),t.tag){case 1:return mn(t.type)&&ol(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return mo(),mt(fn),mt(nn),mp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return fp(t),null;case 13:if(mt(yt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ee(340));po()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return mt(yt),null;case 4:return mo(),null;case 10:return cp(t.type._context),null;case 22:case 23:return Cp(),null;case 24:return null;default:return null}}var xi=!1,Zt=!1,tw=typeof WeakSet=="function"?WeakSet:Set,me=null;function Zs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){kt(e,t,r)}else n.current=null}function ud(e,t,n){try{n()}catch(r){kt(e,t,r)}}var wm=!1;function nw(e,t){if(Gu=tl,e=Qg(),rp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,l=-1,c=-1,u=0,d=0,g=e,b=null;t:for(;;){for(var N;g!==n||s!==0&&g.nodeType!==3||(l=i+s),g!==a||r!==0&&g.nodeType!==3||(c=i+r),g.nodeType===3&&(i+=g.nodeValue.length),(N=g.firstChild)!==null;)b=g,g=N;for(;;){if(g===e)break t;if(b===n&&++u===s&&(l=i),b===a&&++d===r&&(c=i),(N=g.nextSibling)!==null)break;g=b,b=g.parentNode}g=N}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ku={focusedElem:e,selectionRange:n},tl=!1,me=t;me!==null;)if(t=me,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,me=e;else for(;me!==null;){t=me;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var v=h.memoizedProps,S=h.memoizedState,y=t.stateNode,j=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:qn(t.type,v),S);y.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(x){kt(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,me=e;break}me=t.return}return h=wm,wm=!1,h}function la(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&ud(t,n,a)}s=s.next}while(s!==r)}}function Fl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function dd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Gx(e){var t=e.alternate;t!==null&&(e.alternate=null,Gx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[lr],delete t[Ca],delete t[Qu],delete t[Lb],delete t[Db])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Kx(e){return e.tag===5||e.tag===3||e.tag===4}function jm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Kx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=sl));else if(r!==4&&(e=e.child,e!==null))for(pd(e,t,n),e=e.sibling;e!==null;)pd(e,t,n),e=e.sibling}function fd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(fd(e,t,n),e=e.sibling;e!==null;)fd(e,t,n),e=e.sibling}var qt=null,Un=!1;function $r(e,t,n){for(n=n.child;n!==null;)Jx(e,t,n),n=n.sibling}function Jx(e,t,n){if(dr&&typeof dr.onCommitFiberUnmount=="function")try{dr.onCommitFiberUnmount(Rl,n)}catch{}switch(n.tag){case 5:Zt||Zs(n,t);case 6:var r=qt,s=Un;qt=null,$r(e,t,n),qt=r,Un=s,qt!==null&&(Un?(e=qt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):qt.removeChild(n.stateNode));break;case 18:qt!==null&&(Un?(e=qt,n=n.stateNode,e.nodeType===8?eu(e.parentNode,n):e.nodeType===1&&eu(e,n),ba(e)):eu(qt,n.stateNode));break;case 4:r=qt,s=Un,qt=n.stateNode.containerInfo,Un=!0,$r(e,t,n),qt=r,Un=s;break;case 0:case 11:case 14:case 15:if(!Zt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&ud(n,t,i),s=s.next}while(s!==r)}$r(e,t,n);break;case 1:if(!Zt&&(Zs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){kt(n,t,l)}$r(e,t,n);break;case 21:$r(e,t,n);break;case 22:n.mode&1?(Zt=(r=Zt)||n.memoizedState!==null,$r(e,t,n),Zt=r):$r(e,t,n);break;default:$r(e,t,n)}}function Sm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new tw),t.forEach(function(r){var s=dw.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Hn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:qt=l.stateNode,Un=!1;break e;case 3:qt=l.stateNode.containerInfo,Un=!0;break e;case 4:qt=l.stateNode.containerInfo,Un=!0;break e}l=l.return}if(qt===null)throw Error(ee(160));Jx(a,i,s),qt=null,Un=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){kt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Yx(t,e),t=t.sibling}function Yx(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Hn(t,e),tr(e),r&4){try{la(3,e,e.return),Fl(3,e)}catch(v){kt(e,e.return,v)}try{la(5,e,e.return)}catch(v){kt(e,e.return,v)}}break;case 1:Hn(t,e),tr(e),r&512&&n!==null&&Zs(n,n.return);break;case 5:if(Hn(t,e),tr(e),r&512&&n!==null&&Zs(n,n.return),e.flags&32){var s=e.stateNode;try{ga(s,"")}catch(v){kt(e,e.return,v)}}if(r&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&yg(s,a),Mu(l,i);var u=Mu(l,a);for(i=0;i<c.length;i+=2){var d=c[i],g=c[i+1];d==="style"?Sg(s,g):d==="dangerouslySetInnerHTML"?wg(s,g):d==="children"?ga(s,g):Wd(s,d,g,u)}switch(l){case"input":Ru(s,a);break;case"textarea":vg(s,a);break;case"select":var b=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var N=a.value;N!=null?to(s,!!a.multiple,N,!1):b!==!!a.multiple&&(a.defaultValue!=null?to(s,!!a.multiple,a.defaultValue,!0):to(s,!!a.multiple,a.multiple?[]:"",!1))}s[Ca]=a}catch(v){kt(e,e.return,v)}}break;case 6:if(Hn(t,e),tr(e),r&4){if(e.stateNode===null)throw Error(ee(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(v){kt(e,e.return,v)}}break;case 3:if(Hn(t,e),tr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ba(t.containerInfo)}catch(v){kt(e,e.return,v)}break;case 4:Hn(t,e),tr(e);break;case 13:Hn(t,e),tr(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Sp=$t())),r&4&&Sm(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Zt=(u=Zt)||d,Hn(t,e),Zt=u):Hn(t,e),tr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(me=e,d=e.child;d!==null;){for(g=me=d;me!==null;){switch(b=me,N=b.child,b.tag){case 0:case 11:case 14:case 15:la(4,b,b.return);break;case 1:Zs(b,b.return);var h=b.stateNode;if(typeof h.componentWillUnmount=="function"){r=b,n=b.return;try{t=r,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(v){kt(r,n,v)}}break;case 5:Zs(b,b.return);break;case 22:if(b.memoizedState!==null){Cm(g);continue}}N!==null?(N.return=b,me=N):Cm(g)}d=d.sibling}e:for(d=null,g=e;;){if(g.tag===5){if(d===null){d=g;try{s=g.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=g.stateNode,c=g.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=jg("display",i))}catch(v){kt(e,e.return,v)}}}else if(g.tag===6){if(d===null)try{g.stateNode.nodeValue=u?"":g.memoizedProps}catch(v){kt(e,e.return,v)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;d===g&&(d=null),g=g.return}d===g&&(d=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Hn(t,e),tr(e),r&4&&Sm(e);break;case 21:break;default:Hn(t,e),tr(e)}}function tr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Kx(n)){var r=n;break e}n=n.return}throw Error(ee(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ga(s,""),r.flags&=-33);var a=jm(e);fd(e,a,s);break;case 3:case 4:var i=r.stateNode.containerInfo,l=jm(e);pd(e,l,i);break;default:throw Error(ee(161))}}catch(c){kt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function rw(e,t,n){me=e,Qx(e)}function Qx(e,t,n){for(var r=(e.mode&1)!==0;me!==null;){var s=me,a=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||xi;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Zt;l=xi;var u=Zt;if(xi=i,(Zt=c)&&!u)for(me=s;me!==null;)i=me,c=i.child,i.tag===22&&i.memoizedState!==null?km(s):c!==null?(c.return=i,me=c):km(s);for(;a!==null;)me=a,Qx(a),a=a.sibling;me=s,xi=l,Zt=u}Nm(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,me=a):Nm(e)}}function Nm(e){for(;me!==null;){var t=me;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Zt||Fl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Zt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:qn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&lm(t,a,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}lm(t,i,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var g=d.dehydrated;g!==null&&ba(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}Zt||t.flags&512&&dd(t)}catch(b){kt(t,t.return,b)}}if(t===e){me=null;break}if(n=t.sibling,n!==null){n.return=t.return,me=n;break}me=t.return}}function Cm(e){for(;me!==null;){var t=me;if(t===e){me=null;break}var n=t.sibling;if(n!==null){n.return=t.return,me=n;break}me=t.return}}function km(e){for(;me!==null;){var t=me;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Fl(4,t)}catch(c){kt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){kt(t,s,c)}}var a=t.return;try{dd(t)}catch(c){kt(t,a,c)}break;case 5:var i=t.return;try{dd(t)}catch(c){kt(t,i,c)}}}catch(c){kt(t,t.return,c)}if(t===e){me=null;break}var l=t.sibling;if(l!==null){l.return=t.return,me=l;break}me=t.return}}var sw=Math.ceil,hl=_r.ReactCurrentDispatcher,wp=_r.ReactCurrentOwner,Mn=_r.ReactCurrentBatchConfig,Ue=0,Bt=null,At=null,Gt=0,bn=0,eo=Yr(0),Lt=0,Pa=null,js=0,Bl=0,jp=0,ca=null,dn=null,Sp=0,go=1/0,xr=null,gl=!1,md=null,Vr=null,yi=!1,Or=null,xl=0,ua=0,hd=null,Fi=-1,Bi=0;function an(){return Ue&6?$t():Fi!==-1?Fi:Fi=$t()}function Hr(e){return e.mode&1?Ue&2&&Gt!==0?Gt&-Gt:Bb.transition!==null?(Bi===0&&(Bi=zg()),Bi):(e=nt,e!==0||(e=window.event,e=e===void 0?16:Vg(e.type)),e):1}function Jn(e,t,n,r){if(50<ua)throw ua=0,hd=null,Error(ee(185));La(e,n,r),(!(Ue&2)||e!==Bt)&&(e===Bt&&(!(Ue&2)&&(Bl|=n),Lt===4&&Ar(e,Gt)),hn(e,r),n===1&&Ue===0&&!(t.mode&1)&&(go=$t()+500,Ml&&Qr()))}function hn(e,t){var n=e.callbackNode;Bv(e,t);var r=el(e,e===Bt?Gt:0);if(r===0)n!==null&&zf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&zf(n),t===1)e.tag===0?Fb(Em.bind(null,e)):ix(Em.bind(null,e)),Ob(function(){!(Ue&6)&&Qr()}),n=null;else{switch(Og(r)){case 1:n=Jd;break;case 4:n=Ig;break;case 16:n=Zi;break;case 536870912:n=Ag;break;default:n=Zi}n=o0(n,Xx.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Xx(e,t){if(Fi=-1,Bi=0,Ue&6)throw Error(ee(327));var n=e.callbackNode;if(ao()&&e.callbackNode!==n)return null;var r=el(e,e===Bt?Gt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=yl(e,r);else{t=r;var s=Ue;Ue|=2;var a=e0();(Bt!==e||Gt!==t)&&(xr=null,go=$t()+500,hs(e,t));do try{iw();break}catch(l){Zx(e,l)}while(!0);lp(),hl.current=a,Ue=s,At!==null?t=0:(Bt=null,Gt=0,t=Lt)}if(t!==0){if(t===2&&(s=Vu(e),s!==0&&(r=s,t=gd(e,s))),t===1)throw n=Pa,hs(e,0),Ar(e,r),hn(e,$t()),n;if(t===6)Ar(e,r);else{if(s=e.current.alternate,!(r&30)&&!ow(s)&&(t=yl(e,r),t===2&&(a=Vu(e),a!==0&&(r=a,t=gd(e,a))),t===1))throw n=Pa,hs(e,0),Ar(e,r),hn(e,$t()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(ee(345));case 2:as(e,dn,xr);break;case 3:if(Ar(e,r),(r&130023424)===r&&(t=Sp+500-$t(),10<t)){if(el(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){an(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Yu(as.bind(null,e,dn,xr),t);break}as(e,dn,xr);break;case 4:if(Ar(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-Kn(r);a=1<<i,i=t[i],i>s&&(s=i),r&=~a}if(r=s,r=$t()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*sw(r/1960))-r,10<r){e.timeoutHandle=Yu(as.bind(null,e,dn,xr),r);break}as(e,dn,xr);break;case 5:as(e,dn,xr);break;default:throw Error(ee(329))}}}return hn(e,$t()),e.callbackNode===n?Xx.bind(null,e):null}function gd(e,t){var n=ca;return e.current.memoizedState.isDehydrated&&(hs(e,t).flags|=256),e=yl(e,t),e!==2&&(t=dn,dn=n,t!==null&&xd(t)),e}function xd(e){dn===null?dn=e:dn.push.apply(dn,e)}function ow(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!Yn(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ar(e,t){for(t&=~jp,t&=~Bl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Kn(t),r=1<<n;e[n]=-1,t&=~r}}function Em(e){if(Ue&6)throw Error(ee(327));ao();var t=el(e,0);if(!(t&1))return hn(e,$t()),null;var n=yl(e,t);if(e.tag!==0&&n===2){var r=Vu(e);r!==0&&(t=r,n=gd(e,r))}if(n===1)throw n=Pa,hs(e,0),Ar(e,t),hn(e,$t()),n;if(n===6)throw Error(ee(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,as(e,dn,xr),hn(e,$t()),null}function Np(e,t){var n=Ue;Ue|=1;try{return e(t)}finally{Ue=n,Ue===0&&(go=$t()+500,Ml&&Qr())}}function Ss(e){Or!==null&&Or.tag===0&&!(Ue&6)&&ao();var t=Ue;Ue|=1;var n=Mn.transition,r=nt;try{if(Mn.transition=null,nt=1,e)return e()}finally{nt=r,Mn.transition=n,Ue=t,!(Ue&6)&&Qr()}}function Cp(){bn=eo.current,mt(eo)}function hs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,zb(n)),At!==null)for(n=At.return;n!==null;){var r=n;switch(op(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ol();break;case 3:mo(),mt(fn),mt(nn),mp();break;case 5:fp(r);break;case 4:mo();break;case 13:mt(yt);break;case 19:mt(yt);break;case 10:cp(r.type._context);break;case 22:case 23:Cp()}n=n.return}if(Bt=e,At=e=Wr(e.current,null),Gt=bn=t,Lt=0,Pa=null,jp=Bl=js=0,dn=ca=null,us!==null){for(t=0;t<us.length;t++)if(n=us[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var i=a.next;a.next=s,r.next=i}n.pending=r}us=null}return e}function Zx(e,t){do{var n=At;try{if(lp(),Mi.current=ml,fl){for(var r=vt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}fl=!1}if(ws=0,Ft=Mt=vt=null,ia=!1,_a=0,wp.current=null,n===null||n.return===null){Lt=1,Pa=t,At=null;break}e:{var a=e,i=n.return,l=n,c=t;if(t=Gt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,g=d.tag;if(!(d.mode&1)&&(g===0||g===11||g===15)){var b=d.alternate;b?(d.updateQueue=b.updateQueue,d.memoizedState=b.memoizedState,d.lanes=b.lanes):(d.updateQueue=null,d.memoizedState=null)}var N=mm(i);if(N!==null){N.flags&=-257,hm(N,i,l,a,t),N.mode&1&&fm(a,u,t),t=N,c=u;var h=t.updateQueue;if(h===null){var v=new Set;v.add(c),t.updateQueue=v}else h.add(c);break e}else{if(!(t&1)){fm(a,u,t),kp();break e}c=Error(ee(426))}}else if(gt&&l.mode&1){var S=mm(i);if(S!==null){!(S.flags&65536)&&(S.flags|=256),hm(S,i,l,a,t),ap(ho(c,l));break e}}a=c=ho(c,l),Lt!==4&&(Lt=2),ca===null?ca=[a]:ca.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=Ox(a,c,t);im(a,y);break e;case 1:l=c;var j=a.type,f=a.stateNode;if(!(a.flags&128)&&(typeof j.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Vr===null||!Vr.has(f)))){a.flags|=65536,t&=-t,a.lanes|=t;var x=Mx(a,l,t);im(a,x);break e}}a=a.return}while(a!==null)}n0(n)}catch(E){t=E,At===n&&n!==null&&(At=n=n.return);continue}break}while(!0)}function e0(){var e=hl.current;return hl.current=ml,e===null?ml:e}function kp(){(Lt===0||Lt===3||Lt===2)&&(Lt=4),Bt===null||!(js&268435455)&&!(Bl&268435455)||Ar(Bt,Gt)}function yl(e,t){var n=Ue;Ue|=2;var r=e0();(Bt!==e||Gt!==t)&&(xr=null,hs(e,t));do try{aw();break}catch(s){Zx(e,s)}while(!0);if(lp(),Ue=n,hl.current=r,At!==null)throw Error(ee(261));return Bt=null,Gt=0,Lt}function aw(){for(;At!==null;)t0(At)}function iw(){for(;At!==null&&!Rv();)t0(At)}function t0(e){var t=s0(e.alternate,e,bn);e.memoizedProps=e.pendingProps,t===null?n0(e):At=t,wp.current=null}function n0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=ew(n,t),n!==null){n.flags&=32767,At=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Lt=6,At=null;return}}else if(n=Zb(n,t,bn),n!==null){At=n;return}if(t=t.sibling,t!==null){At=t;return}At=t=e}while(t!==null);Lt===0&&(Lt=5)}function as(e,t,n){var r=nt,s=Mn.transition;try{Mn.transition=null,nt=1,lw(e,t,n,r)}finally{Mn.transition=s,nt=r}return null}function lw(e,t,n,r){do ao();while(Or!==null);if(Ue&6)throw Error(ee(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ee(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(Vv(e,a),e===Bt&&(At=Bt=null,Gt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||yi||(yi=!0,o0(Zi,function(){return ao(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Mn.transition,Mn.transition=null;var i=nt;nt=1;var l=Ue;Ue|=4,wp.current=null,nw(e,n),Yx(n,e),_b(Ku),tl=!!Gu,Ku=Gu=null,e.current=n,rw(n),Iv(),Ue=l,nt=i,Mn.transition=a}else e.current=n;if(yi&&(yi=!1,Or=e,xl=s),a=e.pendingLanes,a===0&&(Vr=null),Ov(n.stateNode),hn(e,$t()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(gl)throw gl=!1,e=md,md=null,e;return xl&1&&e.tag!==0&&ao(),a=e.pendingLanes,a&1?e===hd?ua++:(ua=0,hd=e):ua=0,Qr(),null}function ao(){if(Or!==null){var e=Og(xl),t=Mn.transition,n=nt;try{if(Mn.transition=null,nt=16>e?16:e,Or===null)var r=!1;else{if(e=Or,Or=null,xl=0,Ue&6)throw Error(ee(331));var s=Ue;for(Ue|=4,me=e.current;me!==null;){var a=me,i=a.child;if(me.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(me=u;me!==null;){var d=me;switch(d.tag){case 0:case 11:case 15:la(8,d,a)}var g=d.child;if(g!==null)g.return=d,me=g;else for(;me!==null;){d=me;var b=d.sibling,N=d.return;if(Gx(d),d===u){me=null;break}if(b!==null){b.return=N,me=b;break}me=N}}}var h=a.alternate;if(h!==null){var v=h.child;if(v!==null){h.child=null;do{var S=v.sibling;v.sibling=null,v=S}while(v!==null)}}me=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,me=i;else e:for(;me!==null;){if(a=me,a.flags&2048)switch(a.tag){case 0:case 11:case 15:la(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,me=y;break e}me=a.return}}var j=e.current;for(me=j;me!==null;){i=me;var f=i.child;if(i.subtreeFlags&2064&&f!==null)f.return=i,me=f;else e:for(i=j;me!==null;){if(l=me,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Fl(9,l)}}catch(E){kt(l,l.return,E)}if(l===i){me=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,me=x;break e}me=l.return}}if(Ue=s,Qr(),dr&&typeof dr.onPostCommitFiberRoot=="function")try{dr.onPostCommitFiberRoot(Rl,e)}catch{}r=!0}return r}finally{nt=n,Mn.transition=t}}return!1}function _m(e,t,n){t=ho(n,t),t=Ox(e,t,1),e=Br(e,t,1),t=an(),e!==null&&(La(e,1,t),hn(e,t))}function kt(e,t,n){if(e.tag===3)_m(e,e,n);else for(;t!==null;){if(t.tag===3){_m(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vr===null||!Vr.has(r))){e=ho(n,e),e=Mx(t,e,1),t=Br(t,e,1),e=an(),t!==null&&(La(t,1,e),hn(t,e));break}}t=t.return}}function cw(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=an(),e.pingedLanes|=e.suspendedLanes&n,Bt===e&&(Gt&n)===n&&(Lt===4||Lt===3&&(Gt&130023424)===Gt&&500>$t()-Sp?hs(e,0):jp|=n),hn(e,t)}function r0(e,t){t===0&&(e.mode&1?(t=li,li<<=1,!(li&130023424)&&(li=4194304)):t=1);var n=an();e=Nr(e,t),e!==null&&(La(e,t,n),hn(e,n))}function uw(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),r0(e,n)}function dw(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ee(314))}r!==null&&r.delete(t),r0(e,n)}var s0;s0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||fn.current)pn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return pn=!1,Xb(e,t,n);pn=!!(e.flags&131072)}else pn=!1,gt&&t.flags&1048576&&lx(t,ll,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Di(e,t),e=t.pendingProps;var s=uo(t,nn.current);oo(t,n),s=gp(null,t,r,e,s,n);var a=xp();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,mn(r)?(a=!0,al(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,dp(t),s.updater=Dl,t.stateNode=s,s._reactInternals=t,rd(t,r,e,n),t=ad(null,t,r,!0,a,n)):(t.tag=0,gt&&a&&sp(t),sn(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Di(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=fw(r),e=qn(r,e),s){case 0:t=od(null,t,r,e,n);break e;case 1:t=ym(null,t,r,e,n);break e;case 11:t=gm(null,t,r,e,n);break e;case 14:t=xm(null,t,r,qn(r.type,e),n);break e}throw Error(ee(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:qn(r,s),od(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:qn(r,s),ym(e,t,r,s,n);case 3:e:{if(Bx(t),e===null)throw Error(ee(387));r=t.pendingProps,a=t.memoizedState,s=a.element,mx(e,t),dl(t,r,null,n);var i=t.memoizedState;if(r=i.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=ho(Error(ee(423)),t),t=vm(e,t,r,n,s);break e}else if(r!==s){s=ho(Error(ee(424)),t),t=vm(e,t,r,n,s);break e}else for(Sn=Fr(t.stateNode.containerInfo.firstChild),Cn=t,gt=!0,Gn=null,n=px(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(po(),r===s){t=Cr(e,t,n);break e}sn(e,t,r,n)}t=t.child}return t;case 5:return hx(t),e===null&&ed(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,Ju(r,s)?i=null:a!==null&&Ju(r,a)&&(t.flags|=32),Fx(e,t),sn(e,t,i,n),t.child;case 6:return e===null&&ed(t),null;case 13:return Vx(e,t,n);case 4:return pp(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=fo(t,null,r,n):sn(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:qn(r,s),gm(e,t,r,s,n);case 7:return sn(e,t,t.pendingProps,n),t.child;case 8:return sn(e,t,t.pendingProps.children,n),t.child;case 12:return sn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,i=s.value,dt(cl,r._currentValue),r._currentValue=i,a!==null)if(Yn(a.value,i)){if(a.children===s.children&&!fn.current){t=Cr(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){i=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=wr(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),td(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(ee(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),td(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}sn(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,oo(t,n),s=Ln(s),r=r(s),t.flags|=1,sn(e,t,r,n),t.child;case 14:return r=t.type,s=qn(r,t.pendingProps),s=qn(r.type,s),xm(e,t,r,s,n);case 15:return Lx(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:qn(r,s),Di(e,t),t.tag=1,mn(r)?(e=!0,al(t)):e=!1,oo(t,n),zx(t,r,s),rd(t,r,s,n),ad(null,t,r,!0,e,n);case 19:return Hx(e,t,n);case 22:return Dx(e,t,n)}throw Error(ee(156,t.tag))};function o0(e,t){return Rg(e,t)}function pw(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(e,t,n,r){return new pw(e,t,n,r)}function Ep(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fw(e){if(typeof e=="function")return Ep(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ud)return 11;if(e===Gd)return 14}return 2}function Wr(e,t){var n=e.alternate;return n===null?(n=On(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Vi(e,t,n,r,s,a){var i=2;if(r=e,typeof e=="function")Ep(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Ws:return gs(n.children,s,a,t);case qd:i=8,s|=8;break;case Eu:return e=On(12,n,t,s|2),e.elementType=Eu,e.lanes=a,e;case _u:return e=On(13,n,t,s),e.elementType=_u,e.lanes=a,e;case Tu:return e=On(19,n,t,s),e.elementType=Tu,e.lanes=a,e;case hg:return Vl(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fg:i=10;break e;case mg:i=9;break e;case Ud:i=11;break e;case Gd:i=14;break e;case Pr:i=16,r=null;break e}throw Error(ee(130,e==null?e:typeof e,""))}return t=On(i,n,t,s),t.elementType=e,t.type=r,t.lanes=a,t}function gs(e,t,n,r){return e=On(7,e,r,t),e.lanes=n,e}function Vl(e,t,n,r){return e=On(22,e,r,t),e.elementType=hg,e.lanes=n,e.stateNode={isHidden:!1},e}function lu(e,t,n){return e=On(6,e,null,t),e.lanes=n,e}function cu(e,t,n){return t=On(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function mw(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hc(0),this.expirationTimes=Hc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hc(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function _p(e,t,n,r,s,a,i,l,c){return e=new mw(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=On(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},dp(a),e}function hw(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hs,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function a0(e){if(!e)return Gr;e=e._reactInternals;e:{if(_s(e)!==e||e.tag!==1)throw Error(ee(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(mn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ee(171))}if(e.tag===1){var n=e.type;if(mn(n))return ax(e,n,t)}return t}function i0(e,t,n,r,s,a,i,l,c){return e=_p(n,r,!0,e,s,a,i,l,c),e.context=a0(null),n=e.current,r=an(),s=Hr(n),a=wr(r,s),a.callback=t??null,Br(n,a,s),e.current.lanes=s,La(e,s,r),hn(e,r),e}function Hl(e,t,n,r){var s=t.current,a=an(),i=Hr(s);return n=a0(n),t.context===null?t.context=n:t.pendingContext=n,t=wr(a,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Br(s,t,i),e!==null&&(Jn(e,s,i,a),Oi(e,s,i)),i}function vl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Tm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Tp(e,t){Tm(e,t),(e=e.alternate)&&Tm(e,t)}function gw(){return null}var l0=typeof reportError=="function"?reportError:function(e){console.error(e)};function $p(e){this._internalRoot=e}Wl.prototype.render=$p.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ee(409));Hl(e,t,null,null)};Wl.prototype.unmount=$p.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ss(function(){Hl(null,e,null,null)}),t[Sr]=null}};function Wl(e){this._internalRoot=e}Wl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Dg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ir.length&&t!==0&&t<Ir[n].priority;n++);Ir.splice(n,0,e),n===0&&Bg(e)}};function Pp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ql(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function $m(){}function xw(e,t,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var u=vl(i);a.call(u)}}var i=i0(t,r,e,0,null,!1,!1,"",$m);return e._reactRootContainer=i,e[Sr]=i.current,Sa(e.nodeType===8?e.parentNode:e),Ss(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=vl(c);l.call(u)}}var c=_p(e,0,!1,null,null,!1,!1,"",$m);return e._reactRootContainer=c,e[Sr]=c.current,Sa(e.nodeType===8?e.parentNode:e),Ss(function(){Hl(t,c,n,r)}),c}function Ul(e,t,n,r,s){var a=n._reactRootContainer;if(a){var i=a;if(typeof s=="function"){var l=s;s=function(){var c=vl(i);l.call(c)}}Hl(t,i,e,s)}else i=xw(n,t,e,s,r);return vl(i)}Mg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Jo(t.pendingLanes);n!==0&&(Yd(t,n|1),hn(t,$t()),!(Ue&6)&&(go=$t()+500,Qr()))}break;case 13:Ss(function(){var r=Nr(e,1);if(r!==null){var s=an();Jn(r,e,1,s)}}),Tp(e,1)}};Qd=function(e){if(e.tag===13){var t=Nr(e,134217728);if(t!==null){var n=an();Jn(t,e,134217728,n)}Tp(e,134217728)}};Lg=function(e){if(e.tag===13){var t=Hr(e),n=Nr(e,t);if(n!==null){var r=an();Jn(n,e,t,r)}Tp(e,t)}};Dg=function(){return nt};Fg=function(e,t){var n=nt;try{return nt=e,t()}finally{nt=n}};Du=function(e,t,n){switch(t){case"input":if(Ru(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Ol(r);if(!s)throw Error(ee(90));xg(r),Ru(r,s)}}}break;case"textarea":vg(e,n);break;case"select":t=n.value,t!=null&&to(e,!!n.multiple,t,!1)}};kg=Np;Eg=Ss;var yw={usingClientEntryPoint:!1,Events:[Fa,Ks,Ol,Ng,Cg,Np]},Do={findFiberByHostInstance:cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vw={bundleType:Do.bundleType,version:Do.version,rendererPackageName:Do.rendererPackageName,rendererConfig:Do.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_r.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$g(e),e===null?null:e.stateNode},findFiberByHostInstance:Do.findFiberByHostInstance||gw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vi.isDisabled&&vi.supportsFiber)try{Rl=vi.inject(vw),dr=vi}catch{}}_n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yw;_n.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pp(t))throw Error(ee(200));return hw(e,t,null,n)};_n.createRoot=function(e,t){if(!Pp(e))throw Error(ee(299));var n=!1,r="",s=l0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=_p(e,1,!1,null,null,n,!1,r,s),e[Sr]=t.current,Sa(e.nodeType===8?e.parentNode:e),new $p(t)};_n.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ee(188)):(e=Object.keys(e).join(","),Error(ee(268,e)));return e=$g(t),e=e===null?null:e.stateNode,e};_n.flushSync=function(e){return Ss(e)};_n.hydrate=function(e,t,n){if(!ql(t))throw Error(ee(200));return Ul(null,e,t,!0,n)};_n.hydrateRoot=function(e,t,n){if(!Pp(e))throw Error(ee(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",i=l0;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=i0(t,null,e,1,n??null,s,!1,a,i),e[Sr]=t.current,Sa(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Wl(t)};_n.render=function(e,t,n){if(!ql(t))throw Error(ee(200));return Ul(null,e,t,!1,n)};_n.unmountComponentAtNode=function(e){if(!ql(e))throw Error(ee(40));return e._reactRootContainer?(Ss(function(){Ul(null,null,e,!1,function(){e._reactRootContainer=null,e[Sr]=null})}),!0):!1};_n.unstable_batchedUpdates=Np;_n.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ql(n))throw Error(ee(200));if(e==null||e._reactInternals===void 0)throw Error(ee(38));return Ul(e,t,n,!1,r)};_n.version="18.3.1-next-f1338f8080-20240426";function c0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c0)}catch(e){console.error(e)}}c0(),cg.exports=_n;var Rp=cg.exports;const bi=Qh(Rp);var Pm=Rp;Cu.createRoot=Pm.createRoot,Cu.hydrateRoot=Pm.hydrateRoot;const Ra={black:"#000",white:"#fff"},zs={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Os={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Ms={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Ls={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Ds={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Fo={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},bw={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function kr(e,...t){const n=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${e}; visit ${n} for the full message.`}const Gl="$$material";function bl(){return bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bl.apply(null,arguments)}function ww(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function jw(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var Sw=function(){function e(n){var r=this;this._insertTag=function(s){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,a),r.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(jw(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var a=ww(s);try{a.insertRule(r,a.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},e}(),Xt="-ms-",wl="-moz-",Ke="-webkit-",u0="comm",Ip="rule",Ap="decl",Nw="@import",d0="@keyframes",Cw="@layer",kw=Math.abs,Kl=String.fromCharCode,Ew=Object.assign;function _w(e,t){return Ut(e,0)^45?(((t<<2^Ut(e,0))<<2^Ut(e,1))<<2^Ut(e,2))<<2^Ut(e,3):0}function p0(e){return e.trim()}function Tw(e,t){return(e=t.exec(e))?e[0]:e}function Je(e,t,n){return e.replace(t,n)}function yd(e,t){return e.indexOf(t)}function Ut(e,t){return e.charCodeAt(t)|0}function Ia(e,t,n){return e.slice(t,n)}function ar(e){return e.length}function zp(e){return e.length}function wi(e,t){return t.push(e),e}function $w(e,t){return e.map(t).join("")}var Jl=1,xo=1,f0=0,yn=0,It=0,No="";function Yl(e,t,n,r,s,a,i){return{value:e,root:t,parent:n,type:r,props:s,children:a,line:Jl,column:xo,length:i,return:""}}function Bo(e,t){return Ew(Yl("",null,null,"",null,null,0),e,{length:-e.length},t)}function Pw(){return It}function Rw(){return It=yn>0?Ut(No,--yn):0,xo--,It===10&&(xo=1,Jl--),It}function kn(){return It=yn<f0?Ut(No,yn++):0,xo++,It===10&&(xo=1,Jl++),It}function fr(){return Ut(No,yn)}function Hi(){return yn}function Va(e,t){return Ia(No,e,t)}function Aa(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function m0(e){return Jl=xo=1,f0=ar(No=e),yn=0,[]}function h0(e){return No="",e}function Wi(e){return p0(Va(yn-1,vd(e===91?e+2:e===40?e+1:e)))}function Iw(e){for(;(It=fr())&&It<33;)kn();return Aa(e)>2||Aa(It)>3?"":" "}function Aw(e,t){for(;--t&&kn()&&!(It<48||It>102||It>57&&It<65||It>70&&It<97););return Va(e,Hi()+(t<6&&fr()==32&&kn()==32))}function vd(e){for(;kn();)switch(It){case e:return yn;case 34:case 39:e!==34&&e!==39&&vd(It);break;case 40:e===41&&vd(e);break;case 92:kn();break}return yn}function zw(e,t){for(;kn()&&e+It!==57;)if(e+It===84&&fr()===47)break;return"/*"+Va(t,yn-1)+"*"+Kl(e===47?e:kn())}function Ow(e){for(;!Aa(fr());)kn();return Va(e,yn)}function Mw(e){return h0(qi("",null,null,null,[""],e=m0(e),0,[0],e))}function qi(e,t,n,r,s,a,i,l,c){for(var u=0,d=0,g=i,b=0,N=0,h=0,v=1,S=1,y=1,j=0,f="",x=s,E=a,k=r,P=f;S;)switch(h=j,j=kn()){case 40:if(h!=108&&Ut(P,g-1)==58){yd(P+=Je(Wi(j),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:P+=Wi(j);break;case 9:case 10:case 13:case 32:P+=Iw(h);break;case 92:P+=Aw(Hi()-1,7);continue;case 47:switch(fr()){case 42:case 47:wi(Lw(zw(kn(),Hi()),t,n),c);break;default:P+="/"}break;case 123*v:l[u++]=ar(P)*y;case 125*v:case 59:case 0:switch(j){case 0:case 125:S=0;case 59+d:y==-1&&(P=Je(P,/\f/g,"")),N>0&&ar(P)-g&&wi(N>32?Im(P+";",r,n,g-1):Im(Je(P," ","")+";",r,n,g-2),c);break;case 59:P+=";";default:if(wi(k=Rm(P,t,n,u,d,s,l,f,x=[],E=[],g),a),j===123)if(d===0)qi(P,t,k,k,x,a,g,l,E);else switch(b===99&&Ut(P,3)===110?100:b){case 100:case 108:case 109:case 115:qi(e,k,k,r&&wi(Rm(e,k,k,0,0,s,l,f,s,x=[],g),E),s,E,g,l,r?x:E);break;default:qi(P,k,k,k,[""],E,0,l,E)}}u=d=N=0,v=y=1,f=P="",g=i;break;case 58:g=1+ar(P),N=h;default:if(v<1){if(j==123)--v;else if(j==125&&v++==0&&Rw()==125)continue}switch(P+=Kl(j),j*v){case 38:y=d>0?1:(P+="\f",-1);break;case 44:l[u++]=(ar(P)-1)*y,y=1;break;case 64:fr()===45&&(P+=Wi(kn())),b=fr(),d=g=ar(f=P+=Ow(Hi())),j++;break;case 45:h===45&&ar(P)==2&&(v=0)}}return a}function Rm(e,t,n,r,s,a,i,l,c,u,d){for(var g=s-1,b=s===0?a:[""],N=zp(b),h=0,v=0,S=0;h<r;++h)for(var y=0,j=Ia(e,g+1,g=kw(v=i[h])),f=e;y<N;++y)(f=p0(v>0?b[y]+" "+j:Je(j,/&\f/g,b[y])))&&(c[S++]=f);return Yl(e,t,n,s===0?Ip:l,c,u,d)}function Lw(e,t,n){return Yl(e,t,n,u0,Kl(Pw()),Ia(e,2,-2),0)}function Im(e,t,n,r){return Yl(e,t,n,Ap,Ia(e,0,r),Ia(e,r+1,-1),r)}function io(e,t){for(var n="",r=zp(e),s=0;s<r;s++)n+=t(e[s],s,e,t)||"";return n}function Dw(e,t,n,r){switch(e.type){case Cw:if(e.children.length)break;case Nw:case Ap:return e.return=e.return||e.value;case u0:return"";case d0:return e.return=e.value+"{"+io(e.children,r)+"}";case Ip:e.value=e.props.join(",")}return ar(n=io(e.children,r))?e.return=e.value+"{"+n+"}":""}function Fw(e){var t=zp(e);return function(n,r,s,a){for(var i="",l=0;l<t;l++)i+=e[l](n,r,s,a)||"";return i}}function Bw(e){return function(t){t.root||(t=t.return)&&e(t)}}function g0(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var Vw=function(t,n,r){for(var s=0,a=0;s=a,a=fr(),s===38&&a===12&&(n[r]=1),!Aa(a);)kn();return Va(t,yn)},Hw=function(t,n){var r=-1,s=44;do switch(Aa(s)){case 0:s===38&&fr()===12&&(n[r]=1),t[r]+=Vw(yn-1,n,r);break;case 2:t[r]+=Wi(s);break;case 4:if(s===44){t[++r]=fr()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=Kl(s)}while(s=kn());return t},Ww=function(t,n){return h0(Hw(m0(t),n))},Am=new WeakMap,qw=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,s=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!Am.get(r))&&!s){Am.set(t,!0);for(var a=[],i=Ww(n,a),l=r.props,c=0,u=0;c<i.length;c++)for(var d=0;d<l.length;d++,u++)t.props[u]=a[c]?i[c].replace(/&\f/g,l[d]):l[d]+" "+i[c]}}},Uw=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function x0(e,t){switch(_w(e,t)){case 5103:return Ke+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ke+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Ke+e+wl+e+Xt+e+e;case 6828:case 4268:return Ke+e+Xt+e+e;case 6165:return Ke+e+Xt+"flex-"+e+e;case 5187:return Ke+e+Je(e,/(\w+).+(:[^]+)/,Ke+"box-$1$2"+Xt+"flex-$1$2")+e;case 5443:return Ke+e+Xt+"flex-item-"+Je(e,/flex-|-self/,"")+e;case 4675:return Ke+e+Xt+"flex-line-pack"+Je(e,/align-content|flex-|-self/,"")+e;case 5548:return Ke+e+Xt+Je(e,"shrink","negative")+e;case 5292:return Ke+e+Xt+Je(e,"basis","preferred-size")+e;case 6060:return Ke+"box-"+Je(e,"-grow","")+Ke+e+Xt+Je(e,"grow","positive")+e;case 4554:return Ke+Je(e,/([^-])(transform)/g,"$1"+Ke+"$2")+e;case 6187:return Je(Je(Je(e,/(zoom-|grab)/,Ke+"$1"),/(image-set)/,Ke+"$1"),e,"")+e;case 5495:case 3959:return Je(e,/(image-set\([^]*)/,Ke+"$1$`$1");case 4968:return Je(Je(e,/(.+:)(flex-)?(.*)/,Ke+"box-pack:$3"+Xt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ke+e+e;case 4095:case 3583:case 4068:case 2532:return Je(e,/(.+)-inline(.+)/,Ke+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ar(e)-1-t>6)switch(Ut(e,t+1)){case 109:if(Ut(e,t+4)!==45)break;case 102:return Je(e,/(.+:)(.+)-([^]+)/,"$1"+Ke+"$2-$3$1"+wl+(Ut(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~yd(e,"stretch")?x0(Je(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Ut(e,t+1)!==115)break;case 6444:switch(Ut(e,ar(e)-3-(~yd(e,"!important")&&10))){case 107:return Je(e,":",":"+Ke)+e;case 101:return Je(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ke+(Ut(e,14)===45?"inline-":"")+"box$3$1"+Ke+"$2$3$1"+Xt+"$2box$3")+e}break;case 5936:switch(Ut(e,t+11)){case 114:return Ke+e+Xt+Je(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Ke+e+Xt+Je(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Ke+e+Xt+Je(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Ke+e+Xt+e+e}return e}var Gw=function(t,n,r,s){if(t.length>-1&&!t.return)switch(t.type){case Ap:t.return=x0(t.value,t.length);break;case d0:return io([Bo(t,{value:Je(t.value,"@","@"+Ke)})],s);case Ip:if(t.length)return $w(t.props,function(a){switch(Tw(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return io([Bo(t,{props:[Je(a,/:(read-\w+)/,":"+wl+"$1")]})],s);case"::placeholder":return io([Bo(t,{props:[Je(a,/:(plac\w+)/,":"+Ke+"input-$1")]}),Bo(t,{props:[Je(a,/:(plac\w+)/,":"+wl+"$1")]}),Bo(t,{props:[Je(a,/:(plac\w+)/,Xt+"input-$1")]})],s)}return""})}},Kw=[Gw],Jw=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var S=v.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var s=t.stylisPlugins||Kw,a={},i,l=[];i=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(v){for(var S=v.getAttribute("data-emotion").split(" "),y=1;y<S.length;y++)a[S[y]]=!0;l.push(v)});var c,u=[qw,Uw];{var d,g=[Dw,Bw(function(v){d.insert(v)})],b=Fw(u.concat(s,g)),N=function(S){return io(Mw(S),b)};c=function(S,y,j,f){d=j,N(S?S+"{"+y.styles+"}":y.styles),f&&(h.inserted[y.name]=!0)}}var h={key:n,sheet:new Sw({key:n,container:i,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:c};return h.sheet.hydrate(l),h},y0={exports:{}},rt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vt=typeof Symbol=="function"&&Symbol.for,Op=Vt?Symbol.for("react.element"):60103,Mp=Vt?Symbol.for("react.portal"):60106,Ql=Vt?Symbol.for("react.fragment"):60107,Xl=Vt?Symbol.for("react.strict_mode"):60108,Zl=Vt?Symbol.for("react.profiler"):60114,ec=Vt?Symbol.for("react.provider"):60109,tc=Vt?Symbol.for("react.context"):60110,Lp=Vt?Symbol.for("react.async_mode"):60111,nc=Vt?Symbol.for("react.concurrent_mode"):60111,rc=Vt?Symbol.for("react.forward_ref"):60112,sc=Vt?Symbol.for("react.suspense"):60113,Yw=Vt?Symbol.for("react.suspense_list"):60120,oc=Vt?Symbol.for("react.memo"):60115,ac=Vt?Symbol.for("react.lazy"):60116,Qw=Vt?Symbol.for("react.block"):60121,Xw=Vt?Symbol.for("react.fundamental"):60117,Zw=Vt?Symbol.for("react.responder"):60118,e1=Vt?Symbol.for("react.scope"):60119;function $n(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Op:switch(e=e.type,e){case Lp:case nc:case Ql:case Zl:case Xl:case sc:return e;default:switch(e=e&&e.$$typeof,e){case tc:case rc:case ac:case oc:case ec:return e;default:return t}}case Mp:return t}}}function v0(e){return $n(e)===nc}rt.AsyncMode=Lp;rt.ConcurrentMode=nc;rt.ContextConsumer=tc;rt.ContextProvider=ec;rt.Element=Op;rt.ForwardRef=rc;rt.Fragment=Ql;rt.Lazy=ac;rt.Memo=oc;rt.Portal=Mp;rt.Profiler=Zl;rt.StrictMode=Xl;rt.Suspense=sc;rt.isAsyncMode=function(e){return v0(e)||$n(e)===Lp};rt.isConcurrentMode=v0;rt.isContextConsumer=function(e){return $n(e)===tc};rt.isContextProvider=function(e){return $n(e)===ec};rt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Op};rt.isForwardRef=function(e){return $n(e)===rc};rt.isFragment=function(e){return $n(e)===Ql};rt.isLazy=function(e){return $n(e)===ac};rt.isMemo=function(e){return $n(e)===oc};rt.isPortal=function(e){return $n(e)===Mp};rt.isProfiler=function(e){return $n(e)===Zl};rt.isStrictMode=function(e){return $n(e)===Xl};rt.isSuspense=function(e){return $n(e)===sc};rt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ql||e===nc||e===Zl||e===Xl||e===sc||e===Yw||typeof e=="object"&&e!==null&&(e.$$typeof===ac||e.$$typeof===oc||e.$$typeof===ec||e.$$typeof===tc||e.$$typeof===rc||e.$$typeof===Xw||e.$$typeof===Zw||e.$$typeof===e1||e.$$typeof===Qw)};rt.typeOf=$n;y0.exports=rt;var t1=y0.exports,b0=t1,n1={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},r1={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},w0={};w0[b0.ForwardRef]=n1;w0[b0.Memo]=r1;var s1=!0;function j0(e,t,n){var r="";return n.split(" ").forEach(function(s){e[s]!==void 0?t.push(e[s]+";"):s&&(r+=s+" ")}),r}var Dp=function(t,n,r){var s=t.key+"-"+n.name;(r===!1||s1===!1)&&t.registered[s]===void 0&&(t.registered[s]=n.styles)},Fp=function(t,n,r){Dp(t,n,r);var s=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var a=n;do t.insert(n===a?"."+s:"",a,t.sheet,!0),a=a.next;while(a!==void 0)}};function o1(e){for(var t=0,n,r=0,s=e.length;s>=4;++r,s-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(s){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var a1={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},i1=/[A-Z]|^ms/g,l1=/_EMO_([^_]+?)_([^]*?)_EMO_/g,S0=function(t){return t.charCodeAt(1)===45},zm=function(t){return t!=null&&typeof t!="boolean"},uu=g0(function(e){return S0(e)?e:e.replace(i1,"-$&").toLowerCase()}),Om=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(l1,function(r,s,a){return ir={name:s,styles:a,next:ir},s})}return a1[t]!==1&&!S0(t)&&typeof n=="number"&&n!==0?n+"px":n};function za(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var s=n;if(s.anim===1)return ir={name:s.name,styles:s.styles,next:ir},s.name;var a=n;if(a.styles!==void 0){var i=a.next;if(i!==void 0)for(;i!==void 0;)ir={name:i.name,styles:i.styles,next:ir},i=i.next;var l=a.styles+";";return l}return c1(e,t,n)}case"function":{if(e!==void 0){var c=ir,u=n(e);return ir=c,za(e,t,u)}break}}var d=n;if(t==null)return d;var g=t[d];return g!==void 0?g:d}function c1(e,t,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=za(e,t,n[s])+";";else for(var a in n){var i=n[a];if(typeof i!="object"){var l=i;t!=null&&t[l]!==void 0?r+=a+"{"+t[l]+"}":zm(l)&&(r+=uu(a)+":"+Om(a,l)+";")}else if(Array.isArray(i)&&typeof i[0]=="string"&&(t==null||t[i[0]]===void 0))for(var c=0;c<i.length;c++)zm(i[c])&&(r+=uu(a)+":"+Om(a,i[c])+";");else{var u=za(e,t,i);switch(a){case"animation":case"animationName":{r+=uu(a)+":"+u+";";break}default:r+=a+"{"+u+"}"}}}return r}var Mm=/label:\s*([^\s;{]+)\s*(;|$)/g,ir;function Ha(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,s="";ir=void 0;var a=e[0];if(a==null||a.raw===void 0)r=!1,s+=za(n,t,a);else{var i=a;s+=i[0]}for(var l=1;l<e.length;l++)if(s+=za(n,t,e[l]),r){var c=a;s+=c[l]}Mm.lastIndex=0;for(var u="",d;(d=Mm.exec(s))!==null;)u+="-"+d[1];var g=o1(s)+u;return{name:g,styles:s,next:ir}}var u1=function(t){return t()},N0=Nu.useInsertionEffect?Nu.useInsertionEffect:!1,C0=N0||u1,Lm=N0||m.useLayoutEffect,k0=m.createContext(typeof HTMLElement<"u"?Jw({key:"css"}):null);k0.Provider;var Bp=function(t){return m.forwardRef(function(n,r){var s=m.useContext(k0);return t(n,s,r)})},ic=m.createContext({}),Vp={}.hasOwnProperty,bd="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",d1=function(t,n){var r={};for(var s in n)Vp.call(n,s)&&(r[s]=n[s]);return r[bd]=t,r},p1=function(t){var n=t.cache,r=t.serialized,s=t.isStringTag;return Dp(n,r,s),C0(function(){return Fp(n,r,s)}),null},f1=Bp(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var s=e[bd],a=[r],i="";typeof e.className=="string"?i=j0(t.registered,a,e.className):e.className!=null&&(i=e.className+" ");var l=Ha(a,void 0,m.useContext(ic));i+=t.key+"-"+l.name;var c={};for(var u in e)Vp.call(e,u)&&u!=="css"&&u!==bd&&(c[u]=e[u]);return c.className=i,n&&(c.ref=n),m.createElement(m.Fragment,null,m.createElement(p1,{cache:t,serialized:l,isStringTag:typeof s=="string"}),m.createElement(s,c))}),m1=f1,Dm=function(t,n){var r=arguments;if(n==null||!Vp.call(n,"css"))return m.createElement.apply(void 0,r);var s=r.length,a=new Array(s);a[0]=m1,a[1]=d1(t,n);for(var i=2;i<s;i++)a[i]=r[i];return m.createElement.apply(null,a)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(Dm||(Dm={}));var h1=Bp(function(e,t){var n=e.styles,r=Ha([n],void 0,m.useContext(ic)),s=m.useRef();return Lm(function(){var a=t.key+"-global",i=new t.sheet.constructor({key:a,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),l=!1,c=document.querySelector('style[data-emotion="'+a+" "+r.name+'"]');return t.sheet.tags.length&&(i.before=t.sheet.tags[0]),c!==null&&(l=!0,c.setAttribute("data-emotion",a),i.hydrate([c])),s.current=[i,l],function(){i.flush()}},[t]),Lm(function(){var a=s.current,i=a[0],l=a[1];if(l){a[1]=!1;return}if(r.next!==void 0&&Fp(t,r.next,!0),i.tags.length){var c=i.tags[i.tags.length-1].nextElementSibling;i.before=c,i.flush()}t.insert("",r,i,!1)},[t,r.name]),null});function Hp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ha(t)}function Wa(){var e=Hp.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var g1=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,x1=g0(function(e){return g1.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),y1=x1,v1=function(t){return t!=="theme"},Fm=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?y1:v1},Bm=function(t,n,r){var s;if(n){var a=n.shouldForwardProp;s=t.__emotion_forwardProp&&a?function(i){return t.__emotion_forwardProp(i)&&a(i)}:a}return typeof s!="function"&&r&&(s=t.__emotion_forwardProp),s},b1=function(t){var n=t.cache,r=t.serialized,s=t.isStringTag;return Dp(n,r,s),C0(function(){return Fp(n,r,s)}),null},w1=function e(t,n){var r=t.__emotion_real===t,s=r&&t.__emotion_base||t,a,i;n!==void 0&&(a=n.label,i=n.target);var l=Bm(t,n,r),c=l||Fm(s),u=!c("as");return function(){var d=arguments,g=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(a!==void 0&&g.push("label:"+a+";"),d[0]==null||d[0].raw===void 0)g.push.apply(g,d);else{var b=d[0];g.push(b[0]);for(var N=d.length,h=1;h<N;h++)g.push(d[h],b[h])}var v=Bp(function(S,y,j){var f=u&&S.as||s,x="",E=[],k=S;if(S.theme==null){k={};for(var P in S)k[P]=S[P];k.theme=m.useContext(ic)}typeof S.className=="string"?x=j0(y.registered,E,S.className):S.className!=null&&(x=S.className+" ");var A=Ha(g.concat(E),y.registered,k);x+=y.key+"-"+A.name,i!==void 0&&(x+=" "+i);var _=u&&l===void 0?Fm(f):c,T={};for(var O in S)u&&O==="as"||_(O)&&(T[O]=S[O]);return T.className=x,j&&(T.ref=j),m.createElement(m.Fragment,null,m.createElement(b1,{cache:y,serialized:A,isStringTag:typeof f=="string"}),m.createElement(f,T))});return v.displayName=a!==void 0?a:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",v.defaultProps=t.defaultProps,v.__emotion_real=v,v.__emotion_base=s,v.__emotion_styles=g,v.__emotion_forwardProp=l,Object.defineProperty(v,"toString",{value:function(){return"."+i}}),v.withComponent=function(S,y){var j=e(S,bl({},n,y,{shouldForwardProp:Bm(v,y,!0)}));return j.apply(void 0,g)},v}},j1=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],wd=w1.bind(null);j1.forEach(function(e){wd[e]=wd(e)});function S1(e){return e==null||Object.keys(e).length===0}function N1(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?s=>t(S1(s)?n:s):t;return o.jsx(h1,{styles:r})}function E0(e,t){return wd(e,t)}function C1(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}const Vm=[];function qr(e){return Vm[0]=e,Ha(Vm)}var _0={exports:{}},lt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp=Symbol.for("react.transitional.element"),qp=Symbol.for("react.portal"),lc=Symbol.for("react.fragment"),cc=Symbol.for("react.strict_mode"),uc=Symbol.for("react.profiler"),dc=Symbol.for("react.consumer"),pc=Symbol.for("react.context"),fc=Symbol.for("react.forward_ref"),mc=Symbol.for("react.suspense"),hc=Symbol.for("react.suspense_list"),gc=Symbol.for("react.memo"),xc=Symbol.for("react.lazy"),k1=Symbol.for("react.view_transition"),E1=Symbol.for("react.client.reference");function Fn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Wp:switch(e=e.type,e){case lc:case uc:case cc:case mc:case hc:case k1:return e;default:switch(e=e&&e.$$typeof,e){case pc:case fc:case xc:case gc:return e;case dc:return e;default:return t}}case qp:return t}}}lt.ContextConsumer=dc;lt.ContextProvider=pc;lt.Element=Wp;lt.ForwardRef=fc;lt.Fragment=lc;lt.Lazy=xc;lt.Memo=gc;lt.Portal=qp;lt.Profiler=uc;lt.StrictMode=cc;lt.Suspense=mc;lt.SuspenseList=hc;lt.isContextConsumer=function(e){return Fn(e)===dc};lt.isContextProvider=function(e){return Fn(e)===pc};lt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Wp};lt.isForwardRef=function(e){return Fn(e)===fc};lt.isFragment=function(e){return Fn(e)===lc};lt.isLazy=function(e){return Fn(e)===xc};lt.isMemo=function(e){return Fn(e)===gc};lt.isPortal=function(e){return Fn(e)===qp};lt.isProfiler=function(e){return Fn(e)===uc};lt.isStrictMode=function(e){return Fn(e)===cc};lt.isSuspense=function(e){return Fn(e)===mc};lt.isSuspenseList=function(e){return Fn(e)===hc};lt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===lc||e===uc||e===cc||e===mc||e===hc||typeof e=="object"&&e!==null&&(e.$$typeof===xc||e.$$typeof===gc||e.$$typeof===pc||e.$$typeof===dc||e.$$typeof===fc||e.$$typeof===E1||e.getModuleId!==void 0)};lt.typeOf=Fn;_0.exports=lt;var T0=_0.exports;function cr(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function $0(e){if(m.isValidElement(e)||T0.isValidElementType(e)||!cr(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=$0(e[n])}),t}function tn(e,t,n={clone:!0}){const r=n.clone?{...e}:e;return cr(e)&&cr(t)&&Object.keys(t).forEach(s=>{m.isValidElement(t[s])||T0.isValidElementType(t[s])?r[s]=t[s]:cr(t[s])&&Object.prototype.hasOwnProperty.call(e,s)&&cr(e[s])?r[s]=tn(e[s],t[s],n):n.clone?r[s]=cr(t[s])?$0(t[s]):t[s]:r[s]=t[s]}),r}const _1=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function T1(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...s}=e,a=_1(t),i=Object.keys(a);function l(b){return`@media (min-width:${typeof t[b]=="number"?t[b]:b}${n})`}function c(b){return`@media (max-width:${(typeof t[b]=="number"?t[b]:b)-r/100}${n})`}function u(b,N){const h=i.indexOf(N);return`@media (min-width:${typeof t[b]=="number"?t[b]:b}${n}) and (max-width:${(h!==-1&&typeof t[i[h]]=="number"?t[i[h]]:N)-r/100}${n})`}function d(b){return i.indexOf(b)+1<i.length?u(b,i[i.indexOf(b)+1]):l(b)}function g(b){const N=i.indexOf(b);return N===0?l(i[1]):N===i.length-1?c(i[N]):u(b,i[i.indexOf(b)+1]).replace("@media","@media not all and")}return{keys:i,values:a,up:l,down:c,between:u,only:d,not:g,unit:n,...s}}function Hm(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter(r=>r.startsWith("@container")).sort((r,s)=>{var i,l;const a=/min-width:\s*([0-9.]+)/;return+(((i=r.match(a))==null?void 0:i[1])||0)-+(((l=s.match(a))==null?void 0:l[1])||0)});return n.length?n.reduce((r,s)=>{const a=t[s];return delete r[s],r[s]=a,r},{...t}):t}function $1(e,t){return t==="@"||t.startsWith("@")&&(e.some(n=>t.startsWith(`@${n}`))||!!t.match(/^@\d/))}function P1(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,s]=n,a=Number.isNaN(+r)?r||0:+r;return e.containerQueries(s).up(a)}function R1(e){const t=(a,i)=>a.replace("@media",i?`@container ${i}`:"@container");function n(a,i){a.up=(...l)=>t(e.breakpoints.up(...l),i),a.down=(...l)=>t(e.breakpoints.down(...l),i),a.between=(...l)=>t(e.breakpoints.between(...l),i),a.only=(...l)=>t(e.breakpoints.only(...l),i),a.not=(...l)=>{const c=t(e.breakpoints.not(...l),i);return c.includes("not all and")?c.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):c}}const r={},s=a=>(n(r,a),r);return n(s),{...e,containerQueries:s}}const I1={borderRadius:4};function da(e,t){return t?tn(e,t,{clone:!1}):e}const yc={xs:0,sm:600,md:900,lg:1200,xl:1536},Wm={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${yc[e]}px)`},A1={containerQueries:e=>({up:t=>{let n=typeof t=="number"?t:yc[t]||t;return typeof n=="number"&&(n=`${n}px`),e?`@container ${e} (min-width:${n})`:`@container (min-width:${n})`}})};function Er(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const a=r.breakpoints||Wm;return t.reduce((i,l,c)=>(i[a.up(a.keys[c])]=n(t[c]),i),{})}if(typeof t=="object"){const a=r.breakpoints||Wm;return Object.keys(t).reduce((i,l)=>{if($1(a.keys,l)){const c=P1(r.containerQueries?r:A1,l);c&&(i[c]=n(t[l],l))}else if(Object.keys(a.values||yc).includes(l)){const c=a.up(l);i[c]=n(t[l],l)}else{const c=l;i[c]=t[c]}return i},{})}return n(t)}function z1(e={}){var n;return((n=e.keys)==null?void 0:n.reduce((r,s)=>{const a=e.up(s);return r[a]={},r},{}))||{}}function qm(e,t){return e.reduce((n,r)=>{const s=n[r];return(!s||Object.keys(s).length===0)&&delete n[r],n},t)}function ie(e){if(typeof e!="string")throw new Error(kr(7));return e.charAt(0).toUpperCase()+e.slice(1)}function vc(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((s,a)=>s&&s[a]?s[a]:null,e);if(r!=null)return r}return t.split(".").reduce((r,s)=>r&&r[s]!=null?r[s]:null,e)}function jl(e,t,n,r=n){let s;return typeof e=="function"?s=e(n):Array.isArray(e)?s=e[n]||r:s=vc(e,n)||r,t&&(s=t(s,r,e)),s}function Pt(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:s}=e,a=i=>{if(i[t]==null)return null;const l=i[t],c=i.theme,u=vc(c,r)||{};return Er(i,l,g=>{let b=jl(u,s,g);return g===b&&typeof g=="string"&&(b=jl(u,s,`${t}${g==="default"?"":ie(g)}`,g)),n===!1?b:{[n]:b}})};return a.propTypes={},a.filterProps=[t],a}function O1(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const M1={m:"margin",p:"padding"},L1={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Um={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},D1=O1(e=>{if(e.length>2)if(Um[e])e=Um[e];else return[e];const[t,n]=e.split(""),r=M1[t],s=L1[n]||"";return Array.isArray(s)?s.map(a=>r+a):[r+s]}),Up=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Gp=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Up,...Gp];function qa(e,t,n,r){const s=vc(e,t,!0)??n;return typeof s=="number"||typeof s=="string"?a=>typeof a=="string"?a:typeof s=="string"?s.startsWith("var(")&&a===0?0:s.startsWith("var(")&&a===1?s:`calc(${a} * ${s})`:s*a:Array.isArray(s)?a=>{if(typeof a=="string")return a;const i=Math.abs(a),l=s[i];return a>=0?l:typeof l=="number"?-l:typeof l=="string"&&l.startsWith("var(")?`calc(-1 * ${l})`:`-${l}`}:typeof s=="function"?s:()=>{}}function Kp(e){return qa(e,"spacing",8)}function Ua(e,t){return typeof t=="string"||t==null?t:e(t)}function F1(e,t){return n=>e.reduce((r,s)=>(r[s]=Ua(t,n),r),{})}function B1(e,t,n,r){if(!t.includes(n))return null;const s=D1(n),a=F1(s,r),i=e[n];return Er(e,i,a)}function P0(e,t){const n=Kp(e.theme);return Object.keys(e).map(r=>B1(e,t,r,n)).reduce(da,{})}function Nt(e){return P0(e,Up)}Nt.propTypes={};Nt.filterProps=Up;function Ct(e){return P0(e,Gp)}Ct.propTypes={};Ct.filterProps=Gp;function R0(e=8,t=Kp({spacing:e})){if(e.mui)return e;const n=(...r)=>(r.length===0?[1]:r).map(a=>{const i=t(a);return typeof i=="number"?`${i}px`:i}).join(" ");return n.mui=!0,n}function bc(...e){const t=e.reduce((r,s)=>(s.filterProps.forEach(a=>{r[a]=s}),r),{}),n=r=>Object.keys(r).reduce((s,a)=>t[a]?da(s,t[a](r)):s,{});return n.propTypes={},n.filterProps=e.reduce((r,s)=>r.concat(s.filterProps),[]),n}function An(e){return typeof e!="number"?e:`${e}px solid`}function Bn(e,t){return Pt({prop:e,themeKey:"borders",transform:t})}const V1=Bn("border",An),H1=Bn("borderTop",An),W1=Bn("borderRight",An),q1=Bn("borderBottom",An),U1=Bn("borderLeft",An),G1=Bn("borderColor"),K1=Bn("borderTopColor"),J1=Bn("borderRightColor"),Y1=Bn("borderBottomColor"),Q1=Bn("borderLeftColor"),X1=Bn("outline",An),Z1=Bn("outlineColor"),wc=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=qa(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:Ua(t,r)});return Er(e,e.borderRadius,n)}return null};wc.propTypes={};wc.filterProps=["borderRadius"];bc(V1,H1,W1,q1,U1,G1,K1,J1,Y1,Q1,wc,X1,Z1);const jc=e=>{if(e.gap!==void 0&&e.gap!==null){const t=qa(e.theme,"spacing",8),n=r=>({gap:Ua(t,r)});return Er(e,e.gap,n)}return null};jc.propTypes={};jc.filterProps=["gap"];const Sc=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=qa(e.theme,"spacing",8),n=r=>({columnGap:Ua(t,r)});return Er(e,e.columnGap,n)}return null};Sc.propTypes={};Sc.filterProps=["columnGap"];const Nc=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=qa(e.theme,"spacing",8),n=r=>({rowGap:Ua(t,r)});return Er(e,e.rowGap,n)}return null};Nc.propTypes={};Nc.filterProps=["rowGap"];const ej=Pt({prop:"gridColumn"}),tj=Pt({prop:"gridRow"}),nj=Pt({prop:"gridAutoFlow"}),rj=Pt({prop:"gridAutoColumns"}),sj=Pt({prop:"gridAutoRows"}),oj=Pt({prop:"gridTemplateColumns"}),aj=Pt({prop:"gridTemplateRows"}),ij=Pt({prop:"gridTemplateAreas"}),lj=Pt({prop:"gridArea"});bc(jc,Sc,Nc,ej,tj,nj,rj,sj,oj,aj,ij,lj);function lo(e,t){return t==="grey"?t:e}const cj=Pt({prop:"color",themeKey:"palette",transform:lo}),uj=Pt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:lo}),dj=Pt({prop:"backgroundColor",themeKey:"palette",transform:lo});bc(cj,uj,dj);function wn(e){return e<=1&&e!==0?`${e*100}%`:e}const pj=Pt({prop:"width",transform:wn}),Jp=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var s,a,i,l,c;const r=((i=(a=(s=e.theme)==null?void 0:s.breakpoints)==null?void 0:a.values)==null?void 0:i[n])||yc[n];return r?((c=(l=e.theme)==null?void 0:l.breakpoints)==null?void 0:c.unit)!=="px"?{maxWidth:`${r}${e.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:wn(n)}};return Er(e,e.maxWidth,t)}return null};Jp.filterProps=["maxWidth"];const fj=Pt({prop:"minWidth",transform:wn}),mj=Pt({prop:"height",transform:wn}),hj=Pt({prop:"maxHeight",transform:wn}),gj=Pt({prop:"minHeight",transform:wn});Pt({prop:"size",cssProperty:"width",transform:wn});Pt({prop:"size",cssProperty:"height",transform:wn});const xj=Pt({prop:"boxSizing"});bc(pj,Jp,fj,mj,hj,gj,xj);const Ga={border:{themeKey:"borders",transform:An},borderTop:{themeKey:"borders",transform:An},borderRight:{themeKey:"borders",transform:An},borderBottom:{themeKey:"borders",transform:An},borderLeft:{themeKey:"borders",transform:An},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:An},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:wc},color:{themeKey:"palette",transform:lo},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:lo},backgroundColor:{themeKey:"palette",transform:lo},p:{style:Ct},pt:{style:Ct},pr:{style:Ct},pb:{style:Ct},pl:{style:Ct},px:{style:Ct},py:{style:Ct},padding:{style:Ct},paddingTop:{style:Ct},paddingRight:{style:Ct},paddingBottom:{style:Ct},paddingLeft:{style:Ct},paddingX:{style:Ct},paddingY:{style:Ct},paddingInline:{style:Ct},paddingInlineStart:{style:Ct},paddingInlineEnd:{style:Ct},paddingBlock:{style:Ct},paddingBlockStart:{style:Ct},paddingBlockEnd:{style:Ct},m:{style:Nt},mt:{style:Nt},mr:{style:Nt},mb:{style:Nt},ml:{style:Nt},mx:{style:Nt},my:{style:Nt},margin:{style:Nt},marginTop:{style:Nt},marginRight:{style:Nt},marginBottom:{style:Nt},marginLeft:{style:Nt},marginX:{style:Nt},marginY:{style:Nt},marginInline:{style:Nt},marginInlineStart:{style:Nt},marginInlineEnd:{style:Nt},marginBlock:{style:Nt},marginBlockStart:{style:Nt},marginBlockEnd:{style:Nt},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:jc},rowGap:{style:Nc},columnGap:{style:Sc},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:wn},maxWidth:{style:Jp},minWidth:{transform:wn},height:{transform:wn},maxHeight:{transform:wn},minHeight:{transform:wn},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function yj(...e){const t=e.reduce((r,s)=>r.concat(Object.keys(s)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function vj(e,t){return typeof e=="function"?e(t):e}function bj(){function e(n,r,s,a){const i={[n]:r,theme:s},l=a[n];if(!l)return{[n]:r};const{cssProperty:c=n,themeKey:u,transform:d,style:g}=l;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const b=vc(s,u)||{};return g?g(i):Er(i,r,h=>{let v=jl(b,d,h);return h===v&&typeof h=="string"&&(v=jl(b,d,`${n}${h==="default"?"":ie(h)}`,h)),c===!1?v:{[c]:v}})}function t(n){const{sx:r,theme:s={},nested:a}=n||{};if(!r)return null;const i=s.unstable_sxConfig??Ga;function l(c){let u=c;if(typeof c=="function")u=c(s);else if(typeof c!="object")return c;if(!u)return null;const d=z1(s.breakpoints),g=Object.keys(d);let b=d;return Object.keys(u).forEach(N=>{const h=vj(u[N],s);if(h!=null)if(typeof h=="object")if(i[N])b=da(b,e(N,h,s,i));else{const v=Er({theme:s},h,S=>({[N]:S}));yj(v,h)?b[N]=t({sx:h,theme:s,nested:!0}):b=da(b,v)}else b=da(b,e(N,h,s,i))}),!a&&s.modularCssLayers?{"@layer sx":Hm(s,qm(g,b))}:Hm(s,qm(g,b))}return Array.isArray(r)?r.map(l):l(r)}return t}const Ns=bj();Ns.filterProps=["sx"];function wj(e,t){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[e])||typeof n.getColorSchemeSelector!="function")return{};let s=n.getColorSchemeSelector(e);return s==="&"?t:((s.includes("data-")||s.includes("."))&&(s=`*:where(${s.replace(/\s*&$/,"")}) &`),{[s]:t})}return n.palette.mode===e?t:{}}function Yp(e={},...t){const{breakpoints:n={},palette:r={},spacing:s,shape:a={},...i}=e,l=T1(n),c=R0(s);let u=tn({breakpoints:l,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:c,shape:{...I1,...a}},i);return u=R1(u),u.applyStyles=wj,u=t.reduce((d,g)=>tn(d,g),u),u.unstable_sxConfig={...Ga,...i==null?void 0:i.unstable_sxConfig},u.unstable_sx=function(g){return Ns({sx:g,theme:this})},u}function jj(e){return Object.keys(e).length===0}function Sj(e=null){const t=m.useContext(ic);return!t||jj(t)?e:t}const Nj=Yp();function Qp(e=Nj){return Sj(e)}function du(e){const t=qr(e);return e!==t&&t.styles?(t.styles.match(/^@layer\s+[^{]*$/)||(t.styles=`@layer global{${t.styles}}`),t):e}function Cj({styles:e,themeId:t,defaultTheme:n={}}){const r=Qp(n),s=t&&r[t]||r;let a=typeof e=="function"?e(s):e;return s.modularCssLayers&&(Array.isArray(a)?a=a.map(i=>du(typeof i=="function"?i(s):i)):a=du(a)),o.jsx(N1,{styles:a})}const kj=e=>{var r;const t={systemProps:{},otherProps:{}},n=((r=e==null?void 0:e.theme)==null?void 0:r.unstable_sxConfig)??Ga;return Object.keys(e).forEach(s=>{n[s]?t.systemProps[s]=e[s]:t.otherProps[s]=e[s]}),t};function I0(e){const{sx:t,...n}=e,{systemProps:r,otherProps:s}=kj(n);let a;return Array.isArray(t)?a=[r,...t]:typeof t=="function"?a=(...i)=>{const l=t(...i);return cr(l)?{...r,...l}:r}:a={...r,...t},{...s,sx:a}}const Gm=e=>e,Ej=()=>{let e=Gm;return{configure(t){e=t},generate(t){return e(t)},reset(){e=Gm}}},A0=Ej();function z0(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=z0(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Te(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=z0(e))&&(r&&(r+=" "),r+=t);return r}function _j(e={}){const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:s}=e,a=E0("div",{shouldForwardProp:l=>l!=="theme"&&l!=="sx"&&l!=="as"})(Ns);return m.forwardRef(function(c,u){const d=Qp(n),{className:g,component:b="div",...N}=I0(c);return o.jsx(a,{as:b,ref:u,className:Te(g,s?s(r):r),theme:t&&d[t]||d,...N})})}const Tj={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function ot(e,t,n="Mui"){const r=Tj[t];return r?`${n}-${r}`:`${A0.generate(e)}-${t}`}function st(e,t,n="Mui"){const r={};return t.forEach(s=>{r[s]=ot(e,s,n)}),r}function O0(e){const{variants:t,...n}=e,r={variants:t,style:qr(n),isProcessed:!0};return r.style===n||t&&t.forEach(s=>{typeof s.style!="function"&&(s.style=qr(s.style))}),r}const $j=Yp();function pu(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function ps(e,t){return t&&e&&typeof e=="object"&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}function Pj(e){return e?(t,n)=>n[e]:null}function Rj(e,t,n){e.theme=zj(e.theme)?n:e.theme[t]||e.theme}function Ui(e,t,n){const r=typeof t=="function"?t(e):t;if(Array.isArray(r))return r.flatMap(s=>Ui(e,s,n));if(Array.isArray(r==null?void 0:r.variants)){let s;if(r.isProcessed)s=n?ps(r.style,n):r.style;else{const{variants:a,...i}=r;s=n?ps(qr(i),n):i}return M0(e,r.variants,[s],n)}return r!=null&&r.isProcessed?n?ps(qr(r.style),n):r.style:n?ps(qr(r),n):r}function M0(e,t,n=[],r=void 0){var a;let s;e:for(let i=0;i<t.length;i+=1){const l=t[i];if(typeof l.props=="function"){if(s??(s={...e,...e.ownerState,ownerState:e.ownerState}),!l.props(s))continue}else for(const c in l.props)if(e[c]!==l.props[c]&&((a=e.ownerState)==null?void 0:a[c])!==l.props[c])continue e;typeof l.style=="function"?(s??(s={...e,...e.ownerState,ownerState:e.ownerState}),n.push(r?ps(qr(l.style(s)),r):l.style(s))):n.push(r?ps(qr(l.style),r):l.style)}return n}function Ij(e={}){const{themeId:t,defaultTheme:n=$j,rootShouldForwardProp:r=pu,slotShouldForwardProp:s=pu}=e;function a(l){Rj(l,t,n)}return(l,c={})=>{C1(l,k=>k.filter(P=>P!==Ns));const{name:u,slot:d,skipVariantsResolver:g,skipSx:b,overridesResolver:N=Pj(Mj(d)),...h}=c,v=u&&u.startsWith("Mui")||d?"components":"custom",S=g!==void 0?g:d&&d!=="Root"&&d!=="root"||!1,y=b||!1;let j=pu;d==="Root"||d==="root"?j=r:d?j=s:Oj(l)&&(j=void 0);const f=E0(l,{shouldForwardProp:j,label:Aj(),...h}),x=k=>{if(k.__emotion_real===k)return k;if(typeof k=="function")return function(A){return Ui(A,k,A.theme.modularCssLayers?v:void 0)};if(cr(k)){const P=O0(k);return function(_){return P.variants?Ui(_,P,_.theme.modularCssLayers?v:void 0):_.theme.modularCssLayers?ps(P.style,v):P.style}}return k},E=(...k)=>{const P=[],A=k.map(x),_=[];if(P.push(a),u&&N&&_.push(function(R){var H,L;const I=(L=(H=R.theme.components)==null?void 0:H[u])==null?void 0:L.styleOverrides;if(!I)return null;const M={};for(const D in I)M[D]=Ui(R,I[D],R.theme.modularCssLayers?"theme":void 0);return N(R,M)}),u&&!S&&_.push(function(R){var M,H;const C=R.theme,I=(H=(M=C==null?void 0:C.components)==null?void 0:M[u])==null?void 0:H.variants;return I?M0(R,I,[],R.theme.modularCssLayers?"theme":void 0):null}),y||_.push(Ns),Array.isArray(A[0])){const w=A.shift(),R=new Array(P.length).fill(""),C=new Array(_.length).fill("");let I;I=[...R,...w,...C],I.raw=[...R,...w.raw,...C],P.unshift(I)}const T=[...P,...A,..._],O=f(...T);return l.muiName&&(O.muiName=l.muiName),O};return f.withConfig&&(E.withConfig=f.withConfig),E}}function Aj(e,t){return void 0}function zj(e){for(const t in e)return!1;return!0}function Oj(e){return typeof e=="string"&&e.charCodeAt(0)>96}function Mj(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}function Sl(e,t,n=!1){const r={...t};for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)){const a=s;if(a==="components"||a==="slots")r[a]={...e[a],...r[a]};else if(a==="componentsProps"||a==="slotProps"){const i=e[a],l=t[a];if(!l)r[a]=i||{};else if(!i)r[a]=l;else{r[a]={...l};for(const c in i)if(Object.prototype.hasOwnProperty.call(i,c)){const u=c;r[a][u]=Sl(i[u],l[u],n)}}}else a==="className"&&n&&t.className?r.className=Te(e==null?void 0:e.className,t==null?void 0:t.className):a==="style"&&n&&t.style?r.style={...e==null?void 0:e.style,...t==null?void 0:t.style}:r[a]===void 0&&(r[a]=e[a])}return r}const Cs=typeof window<"u"?m.useLayoutEffect:m.useEffect;function Lj(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}function Xp(e,t=0,n=1){return Lj(e,t,n)}function Dj(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,s)=>s<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Kr(e){if(e.type)return e;if(e.charAt(0)==="#")return Kr(Dj(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(kr(9,e));let r=e.substring(t+1,e.length-1),s;if(n==="color"){if(r=r.split(" "),s=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(s))throw new Error(kr(10,s))}else r=r.split(",");return r=r.map(a=>parseFloat(a)),{type:n,values:r,colorSpace:s}}const Fj=e=>{const t=Kr(e);return t.values.slice(0,3).map((n,r)=>t.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},Qo=(e,t)=>{try{return Fj(e)}catch{return e}};function Cc(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map((s,a)=>a<3?parseInt(s,10):s):t.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function L0(e){e=Kr(e);const{values:t}=e,n=t[0],r=t[1]/100,s=t[2]/100,a=r*Math.min(s,1-s),i=(u,d=(u+n/30)%12)=>s-a*Math.max(Math.min(d-3,9-d,1),-1);let l="rgb";const c=[Math.round(i(0)*255),Math.round(i(8)*255),Math.round(i(4)*255)];return e.type==="hsla"&&(l+="a",c.push(t[3])),Cc({type:l,values:c})}function jd(e){e=Kr(e);let t=e.type==="hsl"||e.type==="hsla"?Kr(L0(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Bj(e,t){const n=jd(e),r=jd(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Nl(e,t){return e=Kr(e),t=Xp(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,Cc(e)}function es(e,t,n){try{return Nl(e,t)}catch{return e}}function kc(e,t){if(e=Kr(e),t=Xp(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Cc(e)}function Ze(e,t,n){try{return kc(e,t)}catch{return e}}function Ec(e,t){if(e=Kr(e),t=Xp(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Cc(e)}function et(e,t,n){try{return Ec(e,t)}catch{return e}}function Vj(e,t=.15){return jd(e)>.5?kc(e,t):Ec(e,t)}function ji(e,t,n){try{return Vj(e,t)}catch{return e}}const Hj=m.createContext(),D0=()=>m.useContext(Hj)??!1,Wj=m.createContext(void 0);function qj(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const s=t.components[n];return s.defaultProps?Sl(s.defaultProps,r,t.components.mergeClassNameAndStyle):!s.styleOverrides&&!s.variants?Sl(s,r,t.components.mergeClassNameAndStyle):r}function Uj({props:e,name:t}){const n=m.useContext(Wj);return qj({props:e,name:t,theme:{components:n}})}let Km=0;function Gj(e){const[t,n]=m.useState(e),r=e||t;return m.useEffect(()=>{t==null&&(Km+=1,n(`mui-${Km}`))},[t]),r}const Kj={...Nu},Jm=Kj.useId;function _c(e){if(Jm!==void 0){const t=Jm();return e??t}return Gj(e)}const Ym={theme:void 0};function Jj(e){let t,n;return function(s){let a=t;return(a===void 0||s.theme!==n)&&(Ym.theme=s.theme,a=O0(e(Ym)),t=a,n=s.theme),a}}function Yj(e=""){function t(...r){if(!r.length)return"";const s=r[0];return typeof s=="string"&&!s.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${s}${t(...r.slice(1))})`:`, ${s}`}return(r,...s)=>`var(--${e?`${e}-`:""}${r}${t(...s)})`}const Qm=(e,t,n,r=[])=>{let s=e;t.forEach((a,i)=>{i===t.length-1?Array.isArray(s)?s[Number(a)]=n:s&&typeof s=="object"&&(s[a]=n):s&&typeof s=="object"&&(s[a]||(s[a]=r.includes(a)?[]:{}),s=s[a])})},Qj=(e,t,n)=>{function r(s,a=[],i=[]){Object.entries(s).forEach(([l,c])=>{(!n||n&&!n([...a,l]))&&c!=null&&(typeof c=="object"&&Object.keys(c).length>0?r(c,[...a,l],Array.isArray(c)?[...i,l]:i):t([...a,l],c,i))})}r(e)},Xj=(e,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>e.includes(r))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function fu(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},s={},a={},i={};return Qj(e,(l,c,u)=>{if((typeof c=="string"||typeof c=="number")&&(!r||!r(l,c))){const d=`--${n?`${n}-`:""}${l.join("-")}`,g=Xj(l,c);Object.assign(s,{[d]:g}),Qm(a,l,`var(${d})`,u),Qm(i,l,`var(${d}, ${g})`,u)}},l=>l[0]==="vars"),{css:s,vars:a,varsWithDefaults:i}}function Zj(e,t={}){const{getSelector:n=y,disableCssColorScheme:r,colorSchemeSelector:s,enableContrastVars:a}=t,{colorSchemes:i={},components:l,defaultColorScheme:c="light",...u}=e,{vars:d,css:g,varsWithDefaults:b}=fu(u,t);let N=b;const h={},{[c]:v,...S}=i;if(Object.entries(S||{}).forEach(([x,E])=>{const{vars:k,css:P,varsWithDefaults:A}=fu(E,t);N=tn(N,A),h[x]={css:P,vars:k}}),v){const{css:x,vars:E,varsWithDefaults:k}=fu(v,t);N=tn(N,k),h[c]={css:x,vars:E}}function y(x,E){var P,A;let k=s;if(s==="class"&&(k=".%s"),s==="data"&&(k="[data-%s]"),s!=null&&s.startsWith("data-")&&!s.includes("%s")&&(k=`[${s}="%s"]`),x){if(k==="media")return e.defaultColorScheme===x?":root":{[`@media (prefers-color-scheme: ${((A=(P=i[x])==null?void 0:P.palette)==null?void 0:A.mode)||x})`]:{":root":E}};if(k)return e.defaultColorScheme===x?`:root, ${k.replace("%s",String(x))}`:k.replace("%s",String(x))}return":root"}return{vars:N,generateThemeVars:()=>{let x={...d};return Object.entries(h).forEach(([,{vars:E}])=>{x=tn(x,E)}),x},generateStyleSheets:()=>{var _,T;const x=[],E=e.defaultColorScheme||"light";function k(O,w){Object.keys(w).length&&x.push(typeof O=="string"?{[O]:{...w}}:O)}k(n(void 0,{...g}),g);const{[E]:P,...A}=h;if(P){const{css:O}=P,w=(T=(_=i[E])==null?void 0:_.palette)==null?void 0:T.mode,R=!r&&w?{colorScheme:w,...O}:{...O};k(n(E,{...R}),R)}return Object.entries(A).forEach(([O,{css:w}])=>{var I,M;const R=(M=(I=i[O])==null?void 0:I.palette)==null?void 0:M.mode,C=!r&&R?{colorScheme:R,...w}:{...w};k(n(O,{...C}),C)}),a&&x.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),x}}}function eS(e){return function(n){return e==="media"?`@media (prefers-color-scheme: ${n})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${n}"] &`:e==="class"?`.${n} &`:e==="data"?`[data-${n}] &`:`${e.replace("%s",n)} &`:"&"}}function at(e,t,n=void 0){const r={};for(const s in e){const a=e[s];let i="",l=!0;for(let c=0;c<a.length;c+=1){const u=a[c];u&&(i+=(l===!0?"":" ")+t(u),l=!1,n&&n[u]&&(i+=" "+n[u]))}r[s]=i}return r}function mu(e,t){var n,r,s;return m.isValidElement(e)&&t.indexOf(e.type.muiName??((s=(r=(n=e.type)==null?void 0:n._payload)==null?void 0:r.value)==null?void 0:s.muiName))!==-1}function F0(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Ra.white,default:Ra.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const B0=F0();function V0(){return{text:{primary:Ra.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Ra.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const Sd=V0();function Xm(e,t,n,r){const s=r.light||r,a=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=Ec(e.main,s):t==="dark"&&(e.dark=kc(e.main,a)))}function Zm(e,t,n,r,s){const a=s.light||s,i=s.dark||s*1.5;t[n]||(t.hasOwnProperty(r)?t[n]=t[r]:n==="light"?t.light=`color-mix(in ${e}, ${t.main}, #fff ${(a*100).toFixed(0)}%)`:n==="dark"&&(t.dark=`color-mix(in ${e}, ${t.main}, #000 ${(i*100).toFixed(0)}%)`))}function tS(e="light"){return e==="dark"?{main:Ms[200],light:Ms[50],dark:Ms[400]}:{main:Ms[700],light:Ms[400],dark:Ms[800]}}function nS(e="light"){return e==="dark"?{main:Os[200],light:Os[50],dark:Os[400]}:{main:Os[500],light:Os[300],dark:Os[700]}}function rS(e="light"){return e==="dark"?{main:zs[500],light:zs[300],dark:zs[700]}:{main:zs[700],light:zs[400],dark:zs[800]}}function sS(e="light"){return e==="dark"?{main:Ls[400],light:Ls[300],dark:Ls[700]}:{main:Ls[700],light:Ls[500],dark:Ls[900]}}function oS(e="light"){return e==="dark"?{main:Ds[400],light:Ds[300],dark:Ds[700]}:{main:Ds[800],light:Ds[500],dark:Ds[900]}}function aS(e="light"){return e==="dark"?{main:Fo[400],light:Fo[300],dark:Fo[700]}:{main:"#ed6c02",light:Fo[500],dark:Fo[900]}}function iS(e){return`oklch(from ${e} var(--__l) 0 h / var(--__a))`}function Zp(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2,colorSpace:s,...a}=e,i=e.primary||tS(t),l=e.secondary||nS(t),c=e.error||rS(t),u=e.info||sS(t),d=e.success||oS(t),g=e.warning||aS(t);function b(S){return s?iS(S):Bj(S,Sd.text.primary)>=n?Sd.text.primary:B0.text.primary}const N=({color:S,name:y,mainShade:j=500,lightShade:f=300,darkShade:x=700})=>{if(S={...S},!S.main&&S[j]&&(S.main=S[j]),!S.hasOwnProperty("main"))throw new Error(kr(11,y?` (${y})`:"",j));if(typeof S.main!="string")throw new Error(kr(12,y?` (${y})`:"",JSON.stringify(S.main)));return s?(Zm(s,S,"light",f,r),Zm(s,S,"dark",x,r)):(Xm(S,"light",f,r),Xm(S,"dark",x,r)),S.contrastText||(S.contrastText=b(S.main)),S};let h;return t==="light"?h=F0():t==="dark"&&(h=V0()),tn({common:{...Ra},mode:t,primary:N({color:i,name:"primary"}),secondary:N({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:N({color:c,name:"error"}),warning:N({color:g,name:"warning"}),info:N({color:u,name:"info"}),success:N({color:d,name:"success"}),grey:bw,contrastThreshold:n,getContrastText:b,augmentColor:N,tonalOffset:r,...h},a)}function lS(e){const t={};return Object.entries(e).forEach(r=>{const[s,a]=r;typeof a=="object"&&(t[s]=`${a.fontStyle?`${a.fontStyle} `:""}${a.fontVariant?`${a.fontVariant} `:""}${a.fontWeight?`${a.fontWeight} `:""}${a.fontStretch?`${a.fontStretch} `:""}${a.fontSize||""}${a.lineHeight?`/${a.lineHeight} `:""}${a.fontFamily||""}`)}),t}function cS(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}function uS(e){return Math.round(e*1e5)/1e5}const eh={textTransform:"uppercase"},th='"Roboto", "Helvetica", "Arial", sans-serif';function dS(e,t){const{fontFamily:n=th,fontSize:r=14,fontWeightLight:s=300,fontWeightRegular:a=400,fontWeightMedium:i=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:d,...g}=typeof t=="function"?t(e):t,b=r/14,N=d||(S=>`${S/c*b}rem`),h=(S,y,j,f,x)=>({fontFamily:n,fontWeight:S,fontSize:N(y),lineHeight:j,...n===th?{letterSpacing:`${uS(f/y)}em`}:{},...x,...u}),v={h1:h(s,96,1.167,-1.5),h2:h(s,60,1.2,-.5),h3:h(a,48,1.167,0),h4:h(a,34,1.235,.25),h5:h(a,24,1.334,0),h6:h(i,20,1.6,.15),subtitle1:h(a,16,1.75,.15),subtitle2:h(i,14,1.57,.1),body1:h(a,16,1.5,.15),body2:h(a,14,1.43,.15),button:h(i,14,1.75,.4,eh),caption:h(a,12,1.66,.4),overline:h(a,12,2.66,1,eh),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return tn({htmlFontSize:c,pxToRem:N,fontFamily:n,fontSize:r,fontWeightLight:s,fontWeightRegular:a,fontWeightMedium:i,fontWeightBold:l,...v},g,{clone:!1})}const pS=.2,fS=.14,mS=.12;function ht(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${pS})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${fS})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${mS})`].join(",")}const hS=["none",ht(0,2,1,-1,0,1,1,0,0,1,3,0),ht(0,3,1,-2,0,2,2,0,0,1,5,0),ht(0,3,3,-2,0,3,4,0,0,1,8,0),ht(0,2,4,-1,0,4,5,0,0,1,10,0),ht(0,3,5,-1,0,5,8,0,0,1,14,0),ht(0,3,5,-1,0,6,10,0,0,1,18,0),ht(0,4,5,-2,0,7,10,1,0,2,16,1),ht(0,5,5,-3,0,8,10,1,0,3,14,2),ht(0,5,6,-3,0,9,12,1,0,3,16,2),ht(0,6,6,-3,0,10,14,1,0,4,18,3),ht(0,6,7,-4,0,11,15,1,0,4,20,3),ht(0,7,8,-4,0,12,17,2,0,5,22,4),ht(0,7,8,-4,0,13,19,2,0,5,24,4),ht(0,7,9,-4,0,14,21,2,0,5,26,4),ht(0,8,9,-5,0,15,22,2,0,6,28,5),ht(0,8,10,-5,0,16,24,2,0,6,30,5),ht(0,8,11,-5,0,17,26,2,0,6,32,5),ht(0,9,11,-5,0,18,28,2,0,7,34,6),ht(0,9,12,-6,0,19,29,2,0,7,36,6),ht(0,10,13,-6,0,20,31,3,0,8,38,7),ht(0,10,13,-6,0,21,33,3,0,8,40,7),ht(0,10,14,-6,0,22,35,3,0,8,42,7),ht(0,11,14,-7,0,23,36,3,0,9,44,8),ht(0,11,15,-7,0,24,38,3,0,9,46,8)],gS={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},xS={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function nh(e){return`${Math.round(e)}ms`}function yS(e){if(!e)return 0;const t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function vS(e){const t={...gS,...e.easing},n={...xS,...e.duration};return{getAutoHeightDuration:yS,create:(s=["all"],a={})=>{const{duration:i=n.standard,easing:l=t.easeInOut,delay:c=0,...u}=a;return(Array.isArray(s)?s:[s]).map(d=>`${d} ${typeof i=="string"?i:nh(i)} ${l} ${typeof c=="string"?c:nh(c)}`).join(",")},...e,easing:t,duration:n}}const bS={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function wS(e){return cr(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function H0(e={}){const t={...e};function n(r){const s=Object.entries(r);for(let a=0;a<s.length;a++){const[i,l]=s[a];!wS(l)||i.startsWith("unstable_")?delete r[i]:cr(l)&&(r[i]={...l},n(r[i]))}}return n(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function rh(e){return typeof e=="number"?`${(e*100).toFixed(0)}%`:`calc((${e}) * 100%)`}const jS=e=>{if(!Number.isNaN(+e))return+e;const t=e.match(/\d*\.?\d+/g);if(!t)return 0;let n=0;for(let r=0;r<t.length;r+=1)n+=+t[r];return n};function SS(e){Object.assign(e,{alpha(t,n){const r=this||e;return r.colorSpace?`oklch(from ${t} l c h / ${typeof n=="string"?`calc(${n})`:n})`:r.vars?`rgba(${t.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof n=="string"?`calc(${n})`:n})`:Nl(t,jS(n))},lighten(t,n){const r=this||e;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${t}, #fff ${rh(n)})`:Ec(t,n)},darken(t,n){const r=this||e;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${t}, #000 ${rh(n)})`:kc(t,n)}})}function Nd(e={},...t){const{breakpoints:n,mixins:r={},spacing:s,palette:a={},transitions:i={},typography:l={},shape:c,colorSpace:u,...d}=e;if(e.vars&&e.generateThemeVars===void 0)throw new Error(kr(20));const g=Zp({...a,colorSpace:u}),b=Yp(e);let N=tn(b,{mixins:cS(b.breakpoints,r),palette:g,shadows:hS.slice(),typography:dS(g,l),transitions:vS(i),zIndex:{...bS}});return N=tn(N,d),N=t.reduce((h,v)=>tn(h,v),N),N.unstable_sxConfig={...Ga,...d==null?void 0:d.unstable_sxConfig},N.unstable_sx=function(v){return Ns({sx:v,theme:this})},N.toRuntimeSource=H0,SS(N),N}function Cd(e){let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,Math.round(t*10)/1e3}const NS=[...Array(25)].map((e,t)=>{if(t===0)return"none";const n=Cd(t);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function W0(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function q0(e){return e==="dark"?NS:[]}function CS(e){const{palette:t={mode:"light"},opacity:n,overlays:r,colorSpace:s,...a}=e,i=Zp({...t,colorSpace:s});return{palette:i,opacity:{...W0(i.mode),...n},overlays:r||q0(i.mode),...a}}function kS(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!((t=e[1])!=null&&t.match(/(mode|contrastThreshold|tonalOffset)/))}const ES=e=>[...[...Array(25)].map((t,n)=>`--${e?`${e}-`:""}overlays-${n}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],_S=e=>(t,n)=>{const r=e.rootSelector||":root",s=e.colorSchemeSelector;let a=s;if(s==="class"&&(a=".%s"),s==="data"&&(a="[data-%s]"),s!=null&&s.startsWith("data-")&&!s.includes("%s")&&(a=`[${s}="%s"]`),e.defaultColorScheme===t){if(t==="dark"){const i={};return ES(e.cssVarPrefix).forEach(l=>{i[l]=n[l],delete n[l]}),a==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:i}}:a?{[a.replace("%s",t)]:i,[`${r}, ${a.replace("%s",t)}`]:n}:{[r]:{...n,...i}}}if(a&&a!=="media")return`${r}, ${a.replace("%s",String(t))}`}else if(t){if(a==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[r]:n}};if(a)return a.replace("%s",String(t))}return r};function TS(e,t){t.forEach(n=>{e[n]||(e[n]={})})}function q(e,t,n){!e[t]&&n&&(e[t]=n)}function Xo(e){return typeof e!="string"||!e.startsWith("hsl")?e:L0(e)}function mr(e,t){`${t}Channel`in e||(e[`${t}Channel`]=Qo(Xo(e[t])))}function $S(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const nr=e=>{try{return e()}catch{}},PS=(e="mui")=>Yj(e);function hu(e,t,n,r,s){if(!n)return;n=n===!0?{}:n;const a=s==="dark"?"dark":"light";if(!r){t[s]=CS({...n,palette:{mode:a,...n==null?void 0:n.palette},colorSpace:e});return}const{palette:i,...l}=Nd({...r,palette:{mode:a,...n==null?void 0:n.palette},colorSpace:e});return t[s]={...n,palette:i,opacity:{...W0(a),...n==null?void 0:n.opacity},overlays:(n==null?void 0:n.overlays)||q0(a)},l}function RS(e={},...t){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:s=!1,cssVarPrefix:a="mui",nativeColor:i=!1,shouldSkipGeneratingVar:l=kS,colorSchemeSelector:c=n.light&&n.dark?"media":void 0,rootSelector:u=":root",...d}=e,g=Object.keys(n)[0],b=r||(n.light&&g!=="light"?"light":g),N=PS(a),{[b]:h,light:v,dark:S,...y}=n,j={...y};let f=h;if((b==="dark"&&!("dark"in n)||b==="light"&&!("light"in n))&&(f=!0),!f)throw new Error(kr(21,b));let x;i&&(x="oklch");const E=hu(x,j,f,d,b);v&&!j.light&&hu(x,j,v,void 0,"light"),S&&!j.dark&&hu(x,j,S,void 0,"dark");let k={defaultColorScheme:b,...E,cssVarPrefix:a,colorSchemeSelector:c,rootSelector:u,getCssVar:N,colorSchemes:j,font:{...lS(E.typography),...E.font},spacing:$S(d.spacing)};Object.keys(k.colorSchemes).forEach(O=>{const w=k.colorSchemes[O].palette,R=I=>{const M=I.split("-"),H=M[1],L=M[2];return N(I,w[H][L])};w.mode==="light"&&(q(w.common,"background","#fff"),q(w.common,"onBackground","#000")),w.mode==="dark"&&(q(w.common,"background","#000"),q(w.common,"onBackground","#fff"));function C(I,M,H){if(x){let L;return I===es&&(L=`transparent ${((1-H)*100).toFixed(0)}%`),I===Ze&&(L=`#000 ${(H*100).toFixed(0)}%`),I===et&&(L=`#fff ${(H*100).toFixed(0)}%`),`color-mix(in ${x}, ${M}, ${L})`}return I(M,H)}if(TS(w,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),w.mode==="light"){q(w.Alert,"errorColor",C(Ze,w.error.light,.6)),q(w.Alert,"infoColor",C(Ze,w.info.light,.6)),q(w.Alert,"successColor",C(Ze,w.success.light,.6)),q(w.Alert,"warningColor",C(Ze,w.warning.light,.6)),q(w.Alert,"errorFilledBg",R("palette-error-main")),q(w.Alert,"infoFilledBg",R("palette-info-main")),q(w.Alert,"successFilledBg",R("palette-success-main")),q(w.Alert,"warningFilledBg",R("palette-warning-main")),q(w.Alert,"errorFilledColor",nr(()=>w.getContrastText(w.error.main))),q(w.Alert,"infoFilledColor",nr(()=>w.getContrastText(w.info.main))),q(w.Alert,"successFilledColor",nr(()=>w.getContrastText(w.success.main))),q(w.Alert,"warningFilledColor",nr(()=>w.getContrastText(w.warning.main))),q(w.Alert,"errorStandardBg",C(et,w.error.light,.9)),q(w.Alert,"infoStandardBg",C(et,w.info.light,.9)),q(w.Alert,"successStandardBg",C(et,w.success.light,.9)),q(w.Alert,"warningStandardBg",C(et,w.warning.light,.9)),q(w.Alert,"errorIconColor",R("palette-error-main")),q(w.Alert,"infoIconColor",R("palette-info-main")),q(w.Alert,"successIconColor",R("palette-success-main")),q(w.Alert,"warningIconColor",R("palette-warning-main")),q(w.AppBar,"defaultBg",R("palette-grey-100")),q(w.Avatar,"defaultBg",R("palette-grey-400")),q(w.Button,"inheritContainedBg",R("palette-grey-300")),q(w.Button,"inheritContainedHoverBg",R("palette-grey-A100")),q(w.Chip,"defaultBorder",R("palette-grey-400")),q(w.Chip,"defaultAvatarColor",R("palette-grey-700")),q(w.Chip,"defaultIconColor",R("palette-grey-700")),q(w.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),q(w.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),q(w.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),q(w.LinearProgress,"primaryBg",C(et,w.primary.main,.62)),q(w.LinearProgress,"secondaryBg",C(et,w.secondary.main,.62)),q(w.LinearProgress,"errorBg",C(et,w.error.main,.62)),q(w.LinearProgress,"infoBg",C(et,w.info.main,.62)),q(w.LinearProgress,"successBg",C(et,w.success.main,.62)),q(w.LinearProgress,"warningBg",C(et,w.warning.main,.62)),q(w.Skeleton,"bg",x?C(es,w.text.primary,.11):`rgba(${R("palette-text-primaryChannel")} / 0.11)`),q(w.Slider,"primaryTrack",C(et,w.primary.main,.62)),q(w.Slider,"secondaryTrack",C(et,w.secondary.main,.62)),q(w.Slider,"errorTrack",C(et,w.error.main,.62)),q(w.Slider,"infoTrack",C(et,w.info.main,.62)),q(w.Slider,"successTrack",C(et,w.success.main,.62)),q(w.Slider,"warningTrack",C(et,w.warning.main,.62));const I=x?C(Ze,w.background.default,.6825):ji(w.background.default,.8);q(w.SnackbarContent,"bg",I),q(w.SnackbarContent,"color",nr(()=>x?Sd.text.primary:w.getContrastText(I))),q(w.SpeedDialAction,"fabHoverBg",ji(w.background.paper,.15)),q(w.StepConnector,"border",R("palette-grey-400")),q(w.StepContent,"border",R("palette-grey-400")),q(w.Switch,"defaultColor",R("palette-common-white")),q(w.Switch,"defaultDisabledColor",R("palette-grey-100")),q(w.Switch,"primaryDisabledColor",C(et,w.primary.main,.62)),q(w.Switch,"secondaryDisabledColor",C(et,w.secondary.main,.62)),q(w.Switch,"errorDisabledColor",C(et,w.error.main,.62)),q(w.Switch,"infoDisabledColor",C(et,w.info.main,.62)),q(w.Switch,"successDisabledColor",C(et,w.success.main,.62)),q(w.Switch,"warningDisabledColor",C(et,w.warning.main,.62)),q(w.TableCell,"border",C(et,C(es,w.divider,1),.88)),q(w.Tooltip,"bg",C(es,w.grey[700],.92))}if(w.mode==="dark"){q(w.Alert,"errorColor",C(et,w.error.light,.6)),q(w.Alert,"infoColor",C(et,w.info.light,.6)),q(w.Alert,"successColor",C(et,w.success.light,.6)),q(w.Alert,"warningColor",C(et,w.warning.light,.6)),q(w.Alert,"errorFilledBg",R("palette-error-dark")),q(w.Alert,"infoFilledBg",R("palette-info-dark")),q(w.Alert,"successFilledBg",R("palette-success-dark")),q(w.Alert,"warningFilledBg",R("palette-warning-dark")),q(w.Alert,"errorFilledColor",nr(()=>w.getContrastText(w.error.dark))),q(w.Alert,"infoFilledColor",nr(()=>w.getContrastText(w.info.dark))),q(w.Alert,"successFilledColor",nr(()=>w.getContrastText(w.success.dark))),q(w.Alert,"warningFilledColor",nr(()=>w.getContrastText(w.warning.dark))),q(w.Alert,"errorStandardBg",C(Ze,w.error.light,.9)),q(w.Alert,"infoStandardBg",C(Ze,w.info.light,.9)),q(w.Alert,"successStandardBg",C(Ze,w.success.light,.9)),q(w.Alert,"warningStandardBg",C(Ze,w.warning.light,.9)),q(w.Alert,"errorIconColor",R("palette-error-main")),q(w.Alert,"infoIconColor",R("palette-info-main")),q(w.Alert,"successIconColor",R("palette-success-main")),q(w.Alert,"warningIconColor",R("palette-warning-main")),q(w.AppBar,"defaultBg",R("palette-grey-900")),q(w.AppBar,"darkBg",R("palette-background-paper")),q(w.AppBar,"darkColor",R("palette-text-primary")),q(w.Avatar,"defaultBg",R("palette-grey-600")),q(w.Button,"inheritContainedBg",R("palette-grey-800")),q(w.Button,"inheritContainedHoverBg",R("palette-grey-700")),q(w.Chip,"defaultBorder",R("palette-grey-700")),q(w.Chip,"defaultAvatarColor",R("palette-grey-300")),q(w.Chip,"defaultIconColor",R("palette-grey-300")),q(w.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),q(w.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),q(w.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),q(w.LinearProgress,"primaryBg",C(Ze,w.primary.main,.5)),q(w.LinearProgress,"secondaryBg",C(Ze,w.secondary.main,.5)),q(w.LinearProgress,"errorBg",C(Ze,w.error.main,.5)),q(w.LinearProgress,"infoBg",C(Ze,w.info.main,.5)),q(w.LinearProgress,"successBg",C(Ze,w.success.main,.5)),q(w.LinearProgress,"warningBg",C(Ze,w.warning.main,.5)),q(w.Skeleton,"bg",x?C(es,w.text.primary,.13):`rgba(${R("palette-text-primaryChannel")} / 0.13)`),q(w.Slider,"primaryTrack",C(Ze,w.primary.main,.5)),q(w.Slider,"secondaryTrack",C(Ze,w.secondary.main,.5)),q(w.Slider,"errorTrack",C(Ze,w.error.main,.5)),q(w.Slider,"infoTrack",C(Ze,w.info.main,.5)),q(w.Slider,"successTrack",C(Ze,w.success.main,.5)),q(w.Slider,"warningTrack",C(Ze,w.warning.main,.5));const I=x?C(et,w.background.default,.985):ji(w.background.default,.98);q(w.SnackbarContent,"bg",I),q(w.SnackbarContent,"color",nr(()=>x?B0.text.primary:w.getContrastText(I))),q(w.SpeedDialAction,"fabHoverBg",ji(w.background.paper,.15)),q(w.StepConnector,"border",R("palette-grey-600")),q(w.StepContent,"border",R("palette-grey-600")),q(w.Switch,"defaultColor",R("palette-grey-300")),q(w.Switch,"defaultDisabledColor",R("palette-grey-600")),q(w.Switch,"primaryDisabledColor",C(Ze,w.primary.main,.55)),q(w.Switch,"secondaryDisabledColor",C(Ze,w.secondary.main,.55)),q(w.Switch,"errorDisabledColor",C(Ze,w.error.main,.55)),q(w.Switch,"infoDisabledColor",C(Ze,w.info.main,.55)),q(w.Switch,"successDisabledColor",C(Ze,w.success.main,.55)),q(w.Switch,"warningDisabledColor",C(Ze,w.warning.main,.55)),q(w.TableCell,"border",C(Ze,C(es,w.divider,1),.68)),q(w.Tooltip,"bg",C(es,w.grey[700],.92))}mr(w.background,"default"),mr(w.background,"paper"),mr(w.common,"background"),mr(w.common,"onBackground"),mr(w,"divider"),Object.keys(w).forEach(I=>{const M=w[I];I!=="tonalOffset"&&M&&typeof M=="object"&&(M.main&&q(w[I],"mainChannel",Qo(Xo(M.main))),M.light&&q(w[I],"lightChannel",Qo(Xo(M.light))),M.dark&&q(w[I],"darkChannel",Qo(Xo(M.dark))),M.contrastText&&q(w[I],"contrastTextChannel",Qo(Xo(M.contrastText))),I==="text"&&(mr(w[I],"primary"),mr(w[I],"secondary")),I==="action"&&(M.active&&mr(w[I],"active"),M.selected&&mr(w[I],"selected")))})}),k=t.reduce((O,w)=>tn(O,w),k);const P={prefix:a,disableCssColorScheme:s,shouldSkipGeneratingVar:l,getSelector:_S(k),enableContrastVars:i},{vars:A,generateThemeVars:_,generateStyleSheets:T}=Zj(k,P);return k.vars=A,Object.entries(k.colorSchemes[k.defaultColorScheme]).forEach(([O,w])=>{k[O]=w}),k.generateThemeVars=_,k.generateStyleSheets=T,k.generateSpacing=function(){return R0(d.spacing,Kp(this))},k.getColorSchemeSelector=eS(c),k.spacing=k.generateSpacing(),k.shouldSkipGeneratingVar=l,k.unstable_sxConfig={...Ga,...d==null?void 0:d.unstable_sxConfig},k.unstable_sx=function(w){return Ns({sx:w,theme:this})},k.toRuntimeSource=H0,k}function sh(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]={...n!==!0&&n,palette:Zp({...n===!0?{}:n.palette,mode:t})})}function U0(e={},...t){const{palette:n,cssVariables:r=!1,colorSchemes:s=n?void 0:{light:!0},defaultColorScheme:a=n==null?void 0:n.mode,...i}=e,l=a||"light",c=s==null?void 0:s[l],u={...s,...n?{[l]:{...typeof c!="boolean"&&c,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in e))return Nd(e,...t);let d=n;"palette"in e||u[l]&&(u[l]!==!0?d=u[l].palette:l==="dark"&&(d={mode:"dark"}));const g=Nd({...e,palette:d},...t);return g.defaultColorScheme=l,g.colorSchemes=u,g.palette.mode==="light"&&(g.colorSchemes.light={...u.light!==!0&&u.light,palette:g.palette},sh(g,"dark",u.dark)),g.palette.mode==="dark"&&(g.colorSchemes.dark={...u.dark!==!0&&u.dark,palette:g.palette},sh(g,"light",u.light)),g}return!n&&!("light"in u)&&l==="light"&&(u.light=!0),RS({...i,colorSchemes:u,defaultColorScheme:l,...typeof r!="boolean"&&r},...t)}const ef=U0();function Ka(){const e=Qp(ef);return e[Gl]||e}function G0(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Vn=e=>G0(e)&&e!=="classes",xe=Ij({themeId:Gl,defaultTheme:ef,rootShouldForwardProp:Vn});function oh(...e){return e.reduce((t,n)=>n==null?t:function(...s){t.apply(this,s),n.apply(this,s)},()=>{})}function IS(e){return o.jsx(Cj,{...e,defaultTheme:ef,themeId:Gl})}function AS(e){return function(n){return o.jsx(IS,{styles:typeof e=="function"?r=>e({theme:r,...n}):e})}}function zS(){return I0}const pt=Jj;function ct(e){return Uj(e)}function OS(e){return ot("MuiSvgIcon",e)}st("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const MS=e=>{const{color:t,fontSize:n,classes:r}=e,s={root:["root",t!=="inherit"&&`color${ie(t)}`,`fontSize${ie(n)}`]};return at(s,OS,r)},LS=xe("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${ie(n.color)}`],t[`fontSize${ie(n.fontSize)}`]]}})(pt(({theme:e})=>{var t,n,r,s,a,i,l,c,u,d,g,b,N,h;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(s=(t=e.transitions)==null?void 0:t.create)==null?void 0:s.call(t,"fill",{duration:(r=(n=(e.vars??e).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:v=>!v.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((i=(a=e.typography)==null?void 0:a.pxToRem)==null?void 0:i.call(a,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((c=(l=e.typography)==null?void 0:l.pxToRem)==null?void 0:c.call(l,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((d=(u=e.typography)==null?void 0:u.pxToRem)==null?void 0:d.call(u,35))||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,v])=>v&&v.main).map(([v])=>{var S,y;return{props:{color:v},style:{color:(y=(S=(e.vars??e).palette)==null?void 0:S[v])==null?void 0:y.main}}}),{props:{color:"action"},style:{color:(b=(g=(e.vars??e).palette)==null?void 0:g.action)==null?void 0:b.active}},{props:{color:"disabled"},style:{color:(h=(N=(e.vars??e).palette)==null?void 0:N.action)==null?void 0:h.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),kd=m.forwardRef(function(t,n){const r=ct({props:t,name:"MuiSvgIcon"}),{children:s,className:a,color:i="inherit",component:l="svg",fontSize:c="medium",htmlColor:u,inheritViewBox:d=!1,titleAccess:g,viewBox:b="0 0 24 24",...N}=r,h=m.isValidElement(s)&&s.type==="svg",v={...r,color:i,component:l,fontSize:c,instanceFontSize:t.fontSize,inheritViewBox:d,viewBox:b,hasSvgAsChild:h},S={};d||(S.viewBox=b);const y=MS(v);return o.jsxs(LS,{as:l,className:Te(y.root,a),focusable:"false",color:u,"aria-hidden":g?void 0:!0,role:g?"img":void 0,ref:n,...S,...N,...h&&s.props,ownerState:v,children:[h?s.props.children:s,g?o.jsx("title",{children:g}):null]})});kd.muiName="SvgIcon";function Ts(e,t){function n(r,s){return o.jsx(kd,{"data-testid":void 0,ref:s,...r,children:e})}return n.muiName=kd.muiName,m.memo(m.forwardRef(n))}function tf(e,t=166){let n;function r(...s){const a=()=>{e.apply(this,s)};clearTimeout(n),n=setTimeout(a,t)}return r.clear=()=>{clearTimeout(n)},r}function Qn(e){return e&&e.ownerDocument||document}function Xn(e){return Qn(e).defaultView||window}function ah(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function ih(e){const{controlled:t,default:n,name:r,state:s="value"}=e,{current:a}=m.useRef(t!==void 0),[i,l]=m.useState(n),c=a?t:i,u=m.useCallback(d=>{a||l(d)},[]);return[c,u]}function xs(e){const t=m.useRef(e);return Cs(()=>{t.current=e}),m.useRef((...n)=>(0,t.current)(...n)).current}function rn(...e){const t=m.useRef(void 0),n=m.useCallback(r=>{const s=e.map(a=>{if(a==null)return null;if(typeof a=="function"){const i=a,l=i(r);return typeof l=="function"?l:()=>{i(null)}}return a.current=r,()=>{a.current=null}});return()=>{s.forEach(a=>a==null?void 0:a())}},e);return m.useMemo(()=>e.every(r=>r==null)?null:r=>{t.current&&(t.current(),t.current=void 0),r!=null&&(t.current=n(r))},e)}function DS(e,t){const n=e.charCodeAt(2);return e[0]==="o"&&e[1]==="n"&&n>=65&&n<=90&&typeof t=="function"}function K0(e,t){if(!e)return t;function n(i,l){const c={};return Object.keys(l).forEach(u=>{DS(u,l[u])&&typeof i[u]=="function"&&(c[u]=(...d)=>{i[u](...d),l[u](...d)})}),c}if(typeof e=="function"||typeof t=="function")return i=>{const l=typeof t=="function"?t(i):t,c=typeof e=="function"?e({...i,...l}):e,u=Te(i==null?void 0:i.className,l==null?void 0:l.className,c==null?void 0:c.className),d=n(c,l);return{...l,...c,...d,...!!u&&{className:u},...(l==null?void 0:l.style)&&(c==null?void 0:c.style)&&{style:{...l.style,...c.style}},...(l==null?void 0:l.sx)&&(c==null?void 0:c.sx)&&{sx:[...Array.isArray(l.sx)?l.sx:[l.sx],...Array.isArray(c.sx)?c.sx:[c.sx]]}}};const r=t,s=n(e,r),a=Te(r==null?void 0:r.className,e==null?void 0:e.className);return{...t,...e,...s,...!!a&&{className:a},...(r==null?void 0:r.style)&&(e==null?void 0:e.style)&&{style:{...r.style,...e.style}},...(r==null?void 0:r.sx)&&(e==null?void 0:e.sx)&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(e.sx)?e.sx:[e.sx]]}}}function J0(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ed(e,t){return Ed=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Ed(e,t)}function Y0(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ed(e,t)}const lh={disabled:!1},Cl=jn.createContext(null);var FS=function(t){return t.scrollTop},Zo="unmounted",is="exited",ls="entering",Vs="entered",_d="exiting",Zn=function(e){Y0(t,e);function t(r,s){var a;a=e.call(this,r,s)||this;var i=s,l=i&&!i.isMounting?r.enter:r.appear,c;return a.appearStatus=null,r.in?l?(c=is,a.appearStatus=ls):c=Vs:r.unmountOnExit||r.mountOnEnter?c=Zo:c=is,a.state={status:c},a.nextCallback=null,a}t.getDerivedStateFromProps=function(s,a){var i=s.in;return i&&a.status===Zo?{status:is}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var a=null;if(s!==this.props){var i=this.state.status;this.props.in?i!==ls&&i!==Vs&&(a=ls):(i===ls||i===Vs)&&(a=_d)}this.updateStatus(!1,a)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,a,i,l;return a=i=l=s,s!=null&&typeof s!="number"&&(a=s.exit,i=s.enter,l=s.appear!==void 0?s.appear:i),{exit:a,enter:i,appear:l}},n.updateStatus=function(s,a){if(s===void 0&&(s=!1),a!==null)if(this.cancelNextCallback(),a===ls){if(this.props.unmountOnExit||this.props.mountOnEnter){var i=this.props.nodeRef?this.props.nodeRef.current:bi.findDOMNode(this);i&&FS(i)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===is&&this.setState({status:Zo})},n.performEnter=function(s){var a=this,i=this.props.enter,l=this.context?this.context.isMounting:s,c=this.props.nodeRef?[l]:[bi.findDOMNode(this),l],u=c[0],d=c[1],g=this.getTimeouts(),b=l?g.appear:g.enter;if(!s&&!i||lh.disabled){this.safeSetState({status:Vs},function(){a.props.onEntered(u)});return}this.props.onEnter(u,d),this.safeSetState({status:ls},function(){a.props.onEntering(u,d),a.onTransitionEnd(b,function(){a.safeSetState({status:Vs},function(){a.props.onEntered(u,d)})})})},n.performExit=function(){var s=this,a=this.props.exit,i=this.getTimeouts(),l=this.props.nodeRef?void 0:bi.findDOMNode(this);if(!a||lh.disabled){this.safeSetState({status:is},function(){s.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:_d},function(){s.props.onExiting(l),s.onTransitionEnd(i.exit,function(){s.safeSetState({status:is},function(){s.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,a){a=this.setNextCallback(a),this.setState(s,a)},n.setNextCallback=function(s){var a=this,i=!0;return this.nextCallback=function(l){i&&(i=!1,a.nextCallback=null,s(l))},this.nextCallback.cancel=function(){i=!1},this.nextCallback},n.onTransitionEnd=function(s,a){this.setNextCallback(a);var i=this.props.nodeRef?this.props.nodeRef.current:bi.findDOMNode(this),l=s==null&&!this.props.addEndListener;if(!i||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[i,this.nextCallback],u=c[0],d=c[1];this.props.addEndListener(u,d)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===Zo)return null;var a=this.props,i=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var l=J0(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return jn.createElement(Cl.Provider,{value:null},typeof i=="function"?i(s,l):jn.cloneElement(jn.Children.only(i),l))},t}(jn.Component);Zn.contextType=Cl;Zn.propTypes={};function Fs(){}Zn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Fs,onEntering:Fs,onEntered:Fs,onExit:Fs,onExiting:Fs,onExited:Fs};Zn.UNMOUNTED=Zo;Zn.EXITED=is;Zn.ENTERING=ls;Zn.ENTERED=Vs;Zn.EXITING=_d;function BS(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nf(e,t){var n=function(a){return t&&m.isValidElement(a)?t(a):a},r=Object.create(null);return e&&m.Children.map(e,function(s){return s}).forEach(function(s){r[s.key]=n(s)}),r}function VS(e,t){e=e||{},t=t||{};function n(d){return d in t?t[d]:e[d]}var r=Object.create(null),s=[];for(var a in e)a in t?s.length&&(r[a]=s,s=[]):s.push(a);var i,l={};for(var c in t){if(r[c])for(i=0;i<r[c].length;i++){var u=r[c][i];l[r[c][i]]=n(u)}l[c]=n(c)}for(i=0;i<s.length;i++)l[s[i]]=n(s[i]);return l}function fs(e,t,n){return n[t]!=null?n[t]:e.props[t]}function HS(e,t){return nf(e.children,function(n){return m.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:fs(n,"appear",e),enter:fs(n,"enter",e),exit:fs(n,"exit",e)})})}function WS(e,t,n){var r=nf(e.children),s=VS(t,r);return Object.keys(s).forEach(function(a){var i=s[a];if(m.isValidElement(i)){var l=a in t,c=a in r,u=t[a],d=m.isValidElement(u)&&!u.props.in;c&&(!l||d)?s[a]=m.cloneElement(i,{onExited:n.bind(null,i),in:!0,exit:fs(i,"exit",e),enter:fs(i,"enter",e)}):!c&&l&&!d?s[a]=m.cloneElement(i,{in:!1}):c&&l&&m.isValidElement(u)&&(s[a]=m.cloneElement(i,{onExited:n.bind(null,i),in:u.props.in,exit:fs(i,"exit",e),enter:fs(i,"enter",e)}))}}),s}var qS=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},US={component:"div",childFactory:function(t){return t}},rf=function(e){Y0(t,e);function t(r,s){var a;a=e.call(this,r,s)||this;var i=a.handleExited.bind(BS(a));return a.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},a}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(s,a){var i=a.children,l=a.handleExited,c=a.firstRender;return{children:c?HS(s,l):WS(s,i,l),firstRender:!1}},n.handleExited=function(s,a){var i=nf(this.props.children);s.key in i||(s.props.onExited&&s.props.onExited(a),this.mounted&&this.setState(function(l){var c=bl({},l.children);return delete c[s.key],{children:c}}))},n.render=function(){var s=this.props,a=s.component,i=s.childFactory,l=J0(s,["component","childFactory"]),c=this.state.contextValue,u=qS(this.state.children).map(i);return delete l.appear,delete l.enter,delete l.exit,a===null?jn.createElement(Cl.Provider,{value:c},u):jn.createElement(Cl.Provider,{value:c},jn.createElement(a,l,u))},t}(jn.Component);rf.propTypes={};rf.defaultProps=US;const ch={};function Q0(e,t){const n=m.useRef(ch);return n.current===ch&&(n.current=e(t)),n}const GS=[];function KS(e){m.useEffect(e,GS)}class sf{constructor(){Po(this,"currentId",null);Po(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});Po(this,"disposeEffect",()=>this.clear)}static create(){return new sf}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}}function X0(){const e=Q0(sf.create).current;return KS(e.disposeEffect),e}const of=e=>e.scrollTop;function yo(e,t){const{timeout:n,easing:r,style:s={}}=e;return{duration:s.transitionDuration??(typeof n=="number"?n:n[t.mode]||0),easing:s.transitionTimingFunction??(typeof r=="object"?r[t.mode]:r),delay:s.transitionDelay}}function kl(e){return typeof e=="string"}function Z0(e,t,n){return e===void 0||kl(e)?t:{...t,ownerState:{...t.ownerState,...n}}}function ey(e,t,n){return typeof e=="function"?e(t,n):e}function ty(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function uh(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function ny(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:s,className:a}=e;if(!t){const N=Te(n==null?void 0:n.className,a,s==null?void 0:s.className,r==null?void 0:r.className),h={...n==null?void 0:n.style,...s==null?void 0:s.style,...r==null?void 0:r.style},v={...n,...s,...r};return N.length>0&&(v.className=N),Object.keys(h).length>0&&(v.style=h),{props:v,internalRef:void 0}}const i=ty({...s,...r}),l=uh(r),c=uh(s),u=t(i),d=Te(u==null?void 0:u.className,n==null?void 0:n.className,a,s==null?void 0:s.className,r==null?void 0:r.className),g={...u==null?void 0:u.style,...n==null?void 0:n.style,...s==null?void 0:s.style,...r==null?void 0:r.style},b={...u,...n,...c,...l};return d.length>0&&(b.className=d),Object.keys(g).length>0&&(b.style=g),{props:b,internalRef:u.ref}}function Et(e,t){const{className:n,elementType:r,ownerState:s,externalForwardedProps:a,internalForwardedProps:i,shouldForwardComponentProp:l=!1,...c}=t,{component:u,slots:d={[e]:void 0},slotProps:g={[e]:void 0},...b}=a,N=d[e]||r,h=ey(g[e],s),{props:{component:v,...S},internalRef:y}=ny({className:n,...c,externalForwardedProps:e==="root"?b:void 0,externalSlotProps:h}),j=rn(y,h==null?void 0:h.ref,t.ref),f=e==="root"?v||u:v,x=Z0(N,{...e==="root"&&!u&&!d[e]&&i,...e!=="root"&&!d[e]&&i,...S,...f&&!l&&{as:f},...f&&l&&{component:f},ref:j},s);return[N,x]}function JS(e){return ot("MuiPaper",e)}st("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const YS=e=>{const{square:t,elevation:n,variant:r,classes:s}=e,a={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${n}`]};return at(a,JS,s)},QS=xe("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(pt(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),af=m.forwardRef(function(t,n){var N;const r=ct({props:t,name:"MuiPaper"}),s=Ka(),{className:a,component:i="div",elevation:l=1,square:c=!1,variant:u="elevation",...d}=r,g={...r,component:i,elevation:l,square:c,variant:u},b=YS(g);return o.jsx(QS,{as:i,ownerState:g,className:Te(b.root,a),ref:n,...d,style:{...u==="elevation"&&{"--Paper-shadow":(s.vars||s).shadows[l],...s.vars&&{"--Paper-overlay":(N=s.vars.overlays)==null?void 0:N[l]},...!s.vars&&s.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Nl("#fff",Cd(l))}, ${Nl("#fff",Cd(l))})`}},...d.style}})});function dh(e){try{return e.matches(":focus-visible")}catch{}return!1}class El{constructor(){Po(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new El}static use(){const t=Q0(El.create).current,[n,r]=m.useState(!1);return t.shouldMount=n,t.setShouldMount=r,m.useEffect(t.mountEffect,[n]),t}mount(){return this.mounted||(this.mounted=ZS(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...t)})}stop(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...t)})}pulsate(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...t)})}}function XS(){return El.use()}function ZS(){let e,t;const n=new Promise((r,s)=>{e=r,t=s});return n.resolve=e,n.reject=t,n}function eN(e){const{className:t,classes:n,pulsate:r=!1,rippleX:s,rippleY:a,rippleSize:i,in:l,onExited:c,timeout:u}=e,[d,g]=m.useState(!1),b=Te(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),N={width:i,height:i,top:-(i/2)+a,left:-(i/2)+s},h=Te(n.child,d&&n.childLeaving,r&&n.childPulsate);return!l&&!d&&g(!0),m.useEffect(()=>{if(!l&&c!=null){const v=setTimeout(c,u);return()=>{clearTimeout(v)}}},[c,l,u]),o.jsx("span",{className:b,style:N,children:o.jsx("span",{className:h})})}const Pn=st("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Td=550,tN=80,nN=Wa`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,rN=Wa`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,sN=Wa`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,oN=xe("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),aN=xe(eN,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Pn.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${nN};
    animation-duration: ${Td}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${Pn.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${Pn.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Pn.childLeaving} {
    opacity: 0;
    animation-name: ${rN};
    animation-duration: ${Td}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${Pn.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${sN};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,iN=m.forwardRef(function(t,n){const r=ct({props:t,name:"MuiTouchRipple"}),{center:s=!1,classes:a={},className:i,...l}=r,[c,u]=m.useState([]),d=m.useRef(0),g=m.useRef(null);m.useEffect(()=>{g.current&&(g.current(),g.current=null)},[c]);const b=m.useRef(!1),N=X0(),h=m.useRef(null),v=m.useRef(null),S=m.useCallback(x=>{const{pulsate:E,rippleX:k,rippleY:P,rippleSize:A,cb:_}=x;u(T=>[...T,o.jsx(aN,{classes:{ripple:Te(a.ripple,Pn.ripple),rippleVisible:Te(a.rippleVisible,Pn.rippleVisible),ripplePulsate:Te(a.ripplePulsate,Pn.ripplePulsate),child:Te(a.child,Pn.child),childLeaving:Te(a.childLeaving,Pn.childLeaving),childPulsate:Te(a.childPulsate,Pn.childPulsate)},timeout:Td,pulsate:E,rippleX:k,rippleY:P,rippleSize:A},d.current)]),d.current+=1,g.current=_},[a]),y=m.useCallback((x={},E={},k=()=>{})=>{const{pulsate:P=!1,center:A=s||E.pulsate,fakeElement:_=!1}=E;if((x==null?void 0:x.type)==="mousedown"&&b.current){b.current=!1;return}(x==null?void 0:x.type)==="touchstart"&&(b.current=!0);const T=_?null:v.current,O=T?T.getBoundingClientRect():{width:0,height:0,left:0,top:0};let w,R,C;if(A||x===void 0||x.clientX===0&&x.clientY===0||!x.clientX&&!x.touches)w=Math.round(O.width/2),R=Math.round(O.height/2);else{const{clientX:I,clientY:M}=x.touches&&x.touches.length>0?x.touches[0]:x;w=Math.round(I-O.left),R=Math.round(M-O.top)}if(A)C=Math.sqrt((2*O.width**2+O.height**2)/3),C%2===0&&(C+=1);else{const I=Math.max(Math.abs((T?T.clientWidth:0)-w),w)*2+2,M=Math.max(Math.abs((T?T.clientHeight:0)-R),R)*2+2;C=Math.sqrt(I**2+M**2)}x!=null&&x.touches?h.current===null&&(h.current=()=>{S({pulsate:P,rippleX:w,rippleY:R,rippleSize:C,cb:k})},N.start(tN,()=>{h.current&&(h.current(),h.current=null)})):S({pulsate:P,rippleX:w,rippleY:R,rippleSize:C,cb:k})},[s,S,N]),j=m.useCallback(()=>{y({},{pulsate:!0})},[y]),f=m.useCallback((x,E)=>{if(N.clear(),(x==null?void 0:x.type)==="touchend"&&h.current){h.current(),h.current=null,N.start(0,()=>{f(x,E)});return}h.current=null,u(k=>k.length>0?k.slice(1):k),g.current=E},[N]);return m.useImperativeHandle(n,()=>({pulsate:j,start:y,stop:f}),[j,y,f]),o.jsx(oN,{className:Te(Pn.root,a.root,i),ref:v,...l,children:o.jsx(rf,{component:null,exit:!0,children:c})})});function lN(e){return ot("MuiButtonBase",e)}const cN=st("MuiButtonBase",["root","disabled","focusVisible"]),uN=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:s}=e,i=at({root:["root",t&&"disabled",n&&"focusVisible"]},lN,s);return n&&r&&(i.root+=` ${r}`),i},dN=xe("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${cN.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),_l=m.forwardRef(function(t,n){const r=ct({props:t,name:"MuiButtonBase"}),{action:s,centerRipple:a=!1,children:i,className:l,component:c="button",disabled:u=!1,disableRipple:d=!1,disableTouchRipple:g=!1,focusRipple:b=!1,focusVisibleClassName:N,LinkComponent:h="a",onBlur:v,onClick:S,onContextMenu:y,onDragLeave:j,onFocus:f,onFocusVisible:x,onKeyDown:E,onKeyUp:k,onMouseDown:P,onMouseLeave:A,onMouseUp:_,onTouchEnd:T,onTouchMove:O,onTouchStart:w,tabIndex:R=0,TouchRippleProps:C,touchRippleRef:I,type:M,...H}=r,L=m.useRef(null),D=XS(),Y=rn(D.ref,I),[K,fe]=m.useState(!1);u&&K&&fe(!1),m.useImperativeHandle(s,()=>({focusVisible:()=>{fe(!0),L.current.focus()}}),[]);const te=D.shouldMount&&!d&&!u;m.useEffect(()=>{K&&b&&!d&&D.pulsate()},[d,b,K,D]);const Ee=hr(D,"start",P,g),be=hr(D,"stop",y,g),le=hr(D,"stop",j,g),je=hr(D,"stop",_,g),Ve=hr(D,"stop",ue=>{K&&ue.preventDefault(),A&&A(ue)},g),ze=hr(D,"start",w,g),he=hr(D,"stop",T,g),Ce=hr(D,"stop",O,g),de=hr(D,"stop",ue=>{dh(ue.target)||fe(!1),v&&v(ue)},!1),_e=xs(ue=>{L.current||(L.current=ue.currentTarget),dh(ue.target)&&(fe(!0),x&&x(ue)),f&&f(ue)}),ye=()=>{const ue=L.current;return c&&c!=="button"&&!(ue.tagName==="A"&&ue.href)},Se=xs(ue=>{b&&!ue.repeat&&K&&ue.key===" "&&D.stop(ue,()=>{D.start(ue)}),ue.target===ue.currentTarget&&ye()&&ue.key===" "&&ue.preventDefault(),E&&E(ue),ue.target===ue.currentTarget&&ye()&&ue.key==="Enter"&&!u&&(ue.preventDefault(),S&&S(ue))}),Qe=xs(ue=>{b&&ue.key===" "&&K&&!ue.defaultPrevented&&D.stop(ue,()=>{D.pulsate(ue)}),k&&k(ue),S&&ue.target===ue.currentTarget&&ye()&&ue.key===" "&&!ue.defaultPrevented&&S(ue)});let De=c;De==="button"&&(H.href||H.to)&&(De=h);const Fe={};if(De==="button"){const ue=!!H.formAction;Fe.type=M===void 0&&!ue?"button":M,Fe.disabled=u}else!H.href&&!H.to&&(Fe.role="button"),u&&(Fe["aria-disabled"]=u);const Be=rn(n,L),Pe={...r,centerRipple:a,component:c,disabled:u,disableRipple:d,disableTouchRipple:g,focusRipple:b,tabIndex:R,focusVisible:K},Ge=uN(Pe);return o.jsxs(dN,{as:De,className:Te(Ge.root,l),ownerState:Pe,onBlur:de,onClick:S,onContextMenu:be,onFocus:_e,onKeyDown:Se,onKeyUp:Qe,onMouseDown:Ee,onMouseLeave:Ve,onMouseUp:je,onDragLeave:le,onTouchEnd:he,onTouchMove:Ce,onTouchStart:ze,ref:Be,tabIndex:u?-1:R,type:M,...Fe,...H,children:[i,te?o.jsx(iN,{ref:Y,center:a,...C}):null]})});function hr(e,t,n,r=!1){return xs(s=>(n&&n(s),r||e[t](s),!0))}function pN(e){return typeof e.main=="string"}function fN(e,t=[]){if(!pN(e))return!1;for(const n of t)if(!e.hasOwnProperty(n)||typeof e[n]!="string")return!1;return!0}function Nn(e=[]){return([,t])=>t&&fN(t,e)}function mN(e){return ot("MuiCircularProgress",e)}st("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","track","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Wn=44,$d=Wa`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,Pd=Wa`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,hN=typeof $d!="string"?Hp`
        animation: ${$d} 1.4s linear infinite;
      `:null,gN=typeof Pd!="string"?Hp`
        animation: ${Pd} 1.4s ease-in-out infinite;
      `:null,xN=e=>{const{classes:t,variant:n,color:r,disableShrink:s}=e,a={root:["root",n,`color${ie(r)}`],svg:["svg"],track:["track"],circle:["circle",`circle${ie(n)}`,s&&"circleDisableShrink"]};return at(a,mN,t)},yN=xe("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${ie(n.color)}`]]}})(pt(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:hN||{animation:`${$d} 1.4s linear infinite`}},...Object.entries(e.palette).filter(Nn()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}}))]}))),vN=xe("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),bN=xe("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${ie(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(pt(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink,style:gN||{animation:`${Pd} 1.4s ease-in-out infinite`}}]}))),wN=xe("circle",{name:"MuiCircularProgress",slot:"Track"})(pt(({theme:e})=>({stroke:"currentColor",opacity:(e.vars||e).palette.action.activatedOpacity}))),Oa=m.forwardRef(function(t,n){const r=ct({props:t,name:"MuiCircularProgress"}),{className:s,color:a="primary",disableShrink:i=!1,enableTrackSlot:l=!1,size:c=40,style:u,thickness:d=3.6,value:g=0,variant:b="indeterminate",...N}=r,h={...r,color:a,disableShrink:i,size:c,thickness:d,value:g,variant:b,enableTrackSlot:l},v=xN(h),S={},y={},j={};if(b==="determinate"){const f=2*Math.PI*((Wn-d)/2);S.strokeDasharray=f.toFixed(3),j["aria-valuenow"]=Math.round(g),S.strokeDashoffset=`${((100-g)/100*f).toFixed(3)}px`,y.transform="rotate(-90deg)"}return o.jsx(yN,{className:Te(v.root,s),style:{width:c,height:c,...y,...u},ownerState:h,ref:n,role:"progressbar",...j,...N,children:o.jsxs(vN,{className:v.svg,ownerState:h,viewBox:`${Wn/2} ${Wn/2} ${Wn} ${Wn}`,children:[l?o.jsx(wN,{className:v.track,ownerState:h,cx:Wn,cy:Wn,r:(Wn-d)/2,fill:"none",strokeWidth:d,"aria-hidden":"true"}):null,o.jsx(bN,{className:v.circle,style:S,ownerState:h,cx:Wn,cy:Wn,r:(Wn-d)/2,fill:"none",strokeWidth:d})]})})});function jN(e){return ot("MuiIconButton",e)}const ph=st("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),SN=e=>{const{classes:t,disabled:n,color:r,edge:s,size:a,loading:i}=e,l={root:["root",i&&"loading",n&&"disabled",r!=="default"&&`color${ie(r)}`,s&&`edge${ie(s)}`,`size${ie(a)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return at(l,jN,t)},NN=xe(_l,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.loading&&t.loading,n.color!=="default"&&t[`color${ie(n.color)}`],n.edge&&t[`edge${ie(n.edge)}`],t[`size${ie(n.size)}`]]}})(pt(({theme:e})=>({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:t=>!t.disableRipple,style:{"--IconButton-hoverBg":e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),pt(({theme:e})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter(Nn()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette).filter(Nn()).map(([t])=>({props:{color:t},style:{"--IconButton-hoverBg":e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${ph.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled},[`&.${ph.loading}`]:{color:"transparent"}}))),CN=xe("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(e.vars||e).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),kN=m.forwardRef(function(t,n){const r=ct({props:t,name:"MuiIconButton"}),{edge:s=!1,children:a,className:i,color:l="default",disabled:c=!1,disableFocusRipple:u=!1,size:d="medium",id:g,loading:b=null,loadingIndicator:N,...h}=r,v=_c(g),S=N??o.jsx(Oa,{"aria-labelledby":v,color:"inherit",size:16}),y={...r,edge:s,color:l,disabled:c,disableFocusRipple:u,loading:b,loadingIndicator:S,size:d},j=SN(y);return o.jsxs(NN,{id:b?v:g,className:Te(j.root,i),centerRipple:!0,focusRipple:!u,disabled:c||b,ref:n,...h,ownerState:y,children:[typeof b=="boolean"&&o.jsx("span",{className:j.loadingWrapper,style:{display:"contents"},children:o.jsx(CN,{className:j.loadingIndicator,ownerState:y,children:b&&S})}),a]})});function EN(e){return ot("MuiTypography",e)}st("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const _N={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},TN=zS(),$N=e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:s,variant:a,classes:i}=e,l={root:["root",a,e.align!=="inherit"&&`align${ie(t)}`,n&&"gutterBottom",r&&"noWrap",s&&"paragraph"]};return at(l,EN,i)},PN=xe("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${ie(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(pt(({theme:e})=>{var t;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(e.palette).filter(Nn()).map(([n])=>({props:{color:n},style:{color:(e.vars||e).palette[n].main}})),...Object.entries(((t=e.palette)==null?void 0:t.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${ie(n)}`},style:{color:(e.vars||e).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),fh={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},zn=m.forwardRef(function(t,n){const{color:r,...s}=ct({props:t,name:"MuiTypography"}),a=!_N[r],i=TN({...s,...a&&{color:r}}),{align:l="inherit",className:c,component:u,gutterBottom:d=!1,noWrap:g=!1,paragraph:b=!1,variant:N="body1",variantMapping:h=fh,...v}=i,S={...i,align:l,color:r,className:c,component:u,gutterBottom:d,noWrap:g,paragraph:b,variant:N,variantMapping:h},y=u||(b?"p":h[N]||fh[N])||"span",j=$N(S);return o.jsx(PN,{as:y,ref:n,className:Te(j.root,c),...v,ownerState:S,style:{...l!=="inherit"&&{"--Typography-textAlign":l},...v.style}})});function RN(e){var g;const{elementType:t,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:s=!1,...a}=e,i=s?{}:ey(n,r),{props:l,internalRef:c}=ny({...a,externalSlotProps:i}),u=rn(c,i==null?void 0:i.ref,(g=e.additionalProps)==null?void 0:g.ref);return Z0(t,{...l,ref:u},r)}function Co(e){var t;return parseInt(m.version,10)>=19?((t=e==null?void 0:e.props)==null?void 0:t.ref)||null:(e==null?void 0:e.ref)||null}function IN(e){return typeof e=="function"?e():e}const AN=m.forwardRef(function(t,n){const{children:r,container:s,disablePortal:a=!1}=t,[i,l]=m.useState(null),c=rn(m.isValidElement(r)?Co(r):null,n);if(Cs(()=>{a||l(IN(s)||document.body)},[s,a]),Cs(()=>{if(i&&!a)return ah(n,i),()=>{ah(n,null)}},[n,i,a]),a){if(m.isValidElement(r)){const u={ref:c};return m.cloneElement(r,u)}return r}return i&&Rp.createPortal(r,i)}),zN=Ts(o.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function ON(e){return ot("MuiChip",e)}const Me=st("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),MN=e=>{const{classes:t,disabled:n,size:r,color:s,iconColor:a,onDelete:i,clickable:l,variant:c}=e,u={root:["root",c,n&&"disabled",`size${ie(r)}`,`color${ie(s)}`,l&&"clickable",l&&`clickableColor${ie(s)}`,i&&"deletable",i&&`deletableColor${ie(s)}`,`${c}${ie(s)}`],label:["label",`label${ie(r)}`],avatar:["avatar",`avatar${ie(r)}`,`avatarColor${ie(s)}`],icon:["icon",`icon${ie(r)}`,`iconColor${ie(a)}`],deleteIcon:["deleteIcon",`deleteIcon${ie(r)}`,`deleteIconColor${ie(s)}`,`deleteIcon${ie(c)}Color${ie(s)}`]};return at(u,ON,t)},LN=xe("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:r,iconColor:s,clickable:a,onDelete:i,size:l,variant:c}=n;return[{[`& .${Me.avatar}`]:t.avatar},{[`& .${Me.avatar}`]:t[`avatar${ie(l)}`]},{[`& .${Me.avatar}`]:t[`avatarColor${ie(r)}`]},{[`& .${Me.icon}`]:t.icon},{[`& .${Me.icon}`]:t[`icon${ie(l)}`]},{[`& .${Me.icon}`]:t[`iconColor${ie(s)}`]},{[`& .${Me.deleteIcon}`]:t.deleteIcon},{[`& .${Me.deleteIcon}`]:t[`deleteIcon${ie(l)}`]},{[`& .${Me.deleteIcon}`]:t[`deleteIconColor${ie(r)}`]},{[`& .${Me.deleteIcon}`]:t[`deleteIcon${ie(c)}Color${ie(r)}`]},t.root,t[`size${ie(l)}`],t[`color${ie(r)}`],a&&t.clickable,a&&r!=="default"&&t[`clickableColor${ie(r)}`],i&&t.deletable,i&&r!=="default"&&t[`deletableColor${ie(r)}`],t[c],t[`${c}${ie(r)}`]]}})(pt(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return{maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,lineHeight:1.5,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Me.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Me.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:t,fontSize:e.typography.pxToRem(12)},[`& .${Me.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${Me.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${Me.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${Me.icon}`]:{marginLeft:5,marginRight:-6},[`& .${Me.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:e.alpha((e.vars||e).palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.alpha((e.vars||e).palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${Me.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${Me.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(e.palette).filter(Nn(["contrastText"])).map(([n])=>({props:{color:n},style:{backgroundColor:(e.vars||e).palette[n].main,color:(e.vars||e).palette[n].contrastText,[`& .${Me.deleteIcon}`]:{color:e.alpha((e.vars||e).palette[n].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[n].contrastText}}}})),{props:n=>n.iconColor===n.color,style:{[`& .${Me.icon}`]:{color:e.vars?e.vars.palette.Chip.defaultIconColor:t}}},{props:n=>n.iconColor===n.color&&n.color!=="default",style:{[`& .${Me.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${Me.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.action.selected,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)}}},...Object.entries(e.palette).filter(Nn(["dark"])).map(([n])=>({props:{color:n,onDelete:!0},style:{[`&.${Me.focusVisible}`]:{background:(e.vars||e).palette[n].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.alpha((e.vars||e).palette.action.selected,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`)},[`&.${Me.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.action.selected,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)},"&:active":{boxShadow:(e.vars||e).shadows[1]}}},...Object.entries(e.palette).filter(Nn(["dark"])).map(([n])=>({props:{color:n,clickable:!0},style:{[`&:hover, &.${Me.focusVisible}`]:{backgroundColor:(e.vars||e).palette[n].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${Me.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${Me.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${Me.avatar}`]:{marginLeft:4},[`& .${Me.avatarSmall}`]:{marginLeft:2},[`& .${Me.icon}`]:{marginLeft:4},[`& .${Me.iconSmall}`]:{marginLeft:2},[`& .${Me.deleteIcon}`]:{marginRight:5},[`& .${Me.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(e.palette).filter(Nn()).map(([n])=>({props:{variant:"outlined",color:n},style:{color:(e.vars||e).palette[n].main,border:`1px solid ${e.alpha((e.vars||e).palette[n].main,.7)}`,[`&.${Me.clickable}:hover`]:{backgroundColor:e.alpha((e.vars||e).palette[n].main,(e.vars||e).palette.action.hoverOpacity)},[`&.${Me.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette[n].main,(e.vars||e).palette.action.focusOpacity)},[`& .${Me.deleteIcon}`]:{color:e.alpha((e.vars||e).palette[n].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[n].main}}}}))]}})),DN=xe("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:r}=n;return[t.label,t[`label${ie(r)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function mh(e){return e.key==="Backspace"||e.key==="Delete"}const ur=m.forwardRef(function(t,n){const r=ct({props:t,name:"MuiChip"}),{avatar:s,className:a,clickable:i,color:l="default",component:c,deleteIcon:u,disabled:d=!1,icon:g,label:b,onClick:N,onDelete:h,onKeyDown:v,onKeyUp:S,size:y="medium",variant:j="filled",tabIndex:f,skipFocusWhenDisabled:x=!1,slots:E={},slotProps:k={},...P}=r,A=m.useRef(null),_=rn(A,n),T=le=>{le.stopPropagation(),h&&h(le)},O=le=>{le.currentTarget===le.target&&mh(le)&&le.preventDefault(),v&&v(le)},w=le=>{le.currentTarget===le.target&&h&&mh(le)&&h(le),S&&S(le)},R=i!==!1&&N?!0:i,C=R||h?_l:c||"div",I={...r,component:C,disabled:d,size:y,color:l,iconColor:m.isValidElement(g)&&g.props.color||l,onDelete:!!h,clickable:R,variant:j},M=MN(I),H=C===_l?{component:c||"div",focusVisibleClassName:M.focusVisible,...h&&{disableRipple:!0}}:{};let L=null;h&&(L=u&&m.isValidElement(u)?m.cloneElement(u,{className:Te(u.props.className,M.deleteIcon),onClick:T}):o.jsx(zN,{className:M.deleteIcon,onClick:T}));let D=null;s&&m.isValidElement(s)&&(D=m.cloneElement(s,{className:Te(M.avatar,s.props.className)}));let Y=null;g&&m.isValidElement(g)&&(Y=m.cloneElement(g,{className:Te(M.icon,g.props.className)}));const K={slots:E,slotProps:k},[fe,te]=Et("root",{elementType:LN,externalForwardedProps:{...K,...P},ownerState:I,shouldForwardComponentProp:!0,ref:_,className:Te(M.root,a),additionalProps:{disabled:R&&d?!0:void 0,tabIndex:x&&d?-1:f,...H},getSlotProps:le=>({...le,onClick:je=>{var Ve;(Ve=le.onClick)==null||Ve.call(le,je),N==null||N(je)},onKeyDown:je=>{var Ve;(Ve=le.onKeyDown)==null||Ve.call(le,je),O(je)},onKeyUp:je=>{var Ve;(Ve=le.onKeyUp)==null||Ve.call(le,je),w(je)}})}),[Ee,be]=Et("label",{elementType:DN,externalForwardedProps:K,ownerState:I,className:M.label});return o.jsxs(fe,{as:C,...te,children:[D||Y,o.jsx(Ee,{...be,children:b}),L]})});function Si(e){return parseInt(e,10)||0}const FN={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function BN(e){for(const t in e)return!1;return!0}function hh(e){return BN(e)||e.outerHeightStyle===0&&!e.overflowing}const VN=m.forwardRef(function(t,n){const{onChange:r,maxRows:s,minRows:a=1,style:i,value:l,...c}=t,{current:u}=m.useRef(l!=null),d=m.useRef(null),g=rn(n,d),b=m.useRef(null),N=m.useRef(null),h=m.useCallback(()=>{const f=d.current,x=N.current;if(!f||!x)return;const k=Xn(f).getComputedStyle(f);if(k.width==="0px")return{outerHeightStyle:0,overflowing:!1};x.style.width=k.width,x.value=f.value||t.placeholder||"x",x.value.slice(-1)===`
`&&(x.value+=" ");const P=k.boxSizing,A=Si(k.paddingBottom)+Si(k.paddingTop),_=Si(k.borderBottomWidth)+Si(k.borderTopWidth),T=x.scrollHeight;x.value="x";const O=x.scrollHeight;let w=T;a&&(w=Math.max(Number(a)*O,w)),s&&(w=Math.min(Number(s)*O,w)),w=Math.max(w,O);const R=w+(P==="border-box"?A+_:0),C=Math.abs(w-T)<=1;return{outerHeightStyle:R,overflowing:C}},[s,a,t.placeholder]),v=xs(()=>{const f=d.current,x=h();if(!f||!x||hh(x))return!1;const E=x.outerHeightStyle;return b.current!=null&&b.current!==E}),S=m.useCallback(()=>{const f=d.current,x=h();if(!f||!x||hh(x))return;const E=x.outerHeightStyle;b.current!==E&&(b.current=E,f.style.height=`${E}px`),f.style.overflow=x.overflowing?"hidden":""},[h]),y=m.useRef(-1);Cs(()=>{const f=tf(S),x=d==null?void 0:d.current;if(!x)return;const E=Xn(x);E.addEventListener("resize",f);let k;return typeof ResizeObserver<"u"&&(k=new ResizeObserver(()=>{v()&&(k.unobserve(x),cancelAnimationFrame(y.current),S(),y.current=requestAnimationFrame(()=>{k.observe(x)}))}),k.observe(x)),()=>{f.clear(),cancelAnimationFrame(y.current),E.removeEventListener("resize",f),k&&k.disconnect()}},[h,S,v]),Cs(()=>{S()});const j=f=>{u||S();const x=f.target,E=x.value.length,k=x.value.endsWith(`
`),P=x.selectionStart===E;k&&P&&x.setSelectionRange(E,E),r&&r(f)};return o.jsxs(m.Fragment,{children:[o.jsx("textarea",{value:l,onChange:j,ref:g,rows:a,style:i,...c}),o.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:N,tabIndex:-1,style:{...FN.shadow,...i,paddingTop:0,paddingBottom:0}})]})});function ko({props:e,states:t,muiFormControl:n}){return t.reduce((r,s)=>(r[s]=e[s],n&&typeof e[s]>"u"&&(r[s]=n[s]),r),{})}const lf=m.createContext(void 0);function Eo(){return m.useContext(lf)}function gh(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function Tl(e,t=!1){return e&&(gh(e.value)&&e.value!==""||t&&gh(e.defaultValue)&&e.defaultValue!=="")}function HN(e){return e.startAdornment}function WN(e){return ot("MuiInputBase",e)}const vo=st("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var xh;const Tc=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,n.size==="small"&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${ie(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},$c=(e,t)=>{const{ownerState:n}=e;return[t.input,n.size==="small"&&t.inputSizeSmall,n.multiline&&t.inputMultiline,n.type==="search"&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},qN=e=>{const{classes:t,color:n,disabled:r,error:s,endAdornment:a,focused:i,formControl:l,fullWidth:c,hiddenLabel:u,multiline:d,readOnly:g,size:b,startAdornment:N,type:h}=e,v={root:["root",`color${ie(n)}`,r&&"disabled",s&&"error",c&&"fullWidth",i&&"focused",l&&"formControl",b&&b!=="medium"&&`size${ie(b)}`,d&&"multiline",N&&"adornedStart",a&&"adornedEnd",u&&"hiddenLabel",g&&"readOnly"],input:["input",r&&"disabled",h==="search"&&"inputTypeSearch",d&&"inputMultiline",b==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",N&&"inputAdornedStart",a&&"inputAdornedEnd",g&&"readOnly"]};return at(v,WN,t)},Pc=xe("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Tc})(pt(({theme:e})=>({...e.typography.body1,color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${vo.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:t})=>t.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:t,size:n})=>t.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:t})=>t.fullWidth,style:{width:"100%"}}]}))),Rc=xe("input",{name:"MuiInputBase",slot:"Input",overridesResolver:$c})(pt(({theme:e})=>{const t=e.palette.mode==="light",n={color:"currentColor",...e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5},transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},r={opacity:"0 !important"},s=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${vo.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${vo.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},variants:[{props:({ownerState:a})=>!a.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:a})=>a.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),yh=AS({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),cf=m.forwardRef(function(t,n){const r=ct({props:t,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:a,autoFocus:i,className:l,color:c,components:u={},componentsProps:d={},defaultValue:g,disabled:b,disableInjectingGlobalStyles:N,endAdornment:h,error:v,fullWidth:S=!1,id:y,inputComponent:j="input",inputProps:f={},inputRef:x,margin:E,maxRows:k,minRows:P,multiline:A=!1,name:_,onBlur:T,onChange:O,onClick:w,onFocus:R,onKeyDown:C,onKeyUp:I,placeholder:M,readOnly:H,renderSuffix:L,rows:D,size:Y,slotProps:K={},slots:fe={},startAdornment:te,type:Ee="text",value:be,...le}=r,je=f.value!=null?f.value:be,{current:Ve}=m.useRef(je!=null),ze=m.useRef(),he=m.useCallback(we=>{},[]),Ce=rn(ze,x,f.ref,he),[de,_e]=m.useState(!1),ye=Eo(),Se=ko({props:r,muiFormControl:ye,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Se.focused=ye?ye.focused:de,m.useEffect(()=>{!ye&&b&&de&&(_e(!1),T&&T())},[ye,b,de,T]);const Qe=ye&&ye.onFilled,De=ye&&ye.onEmpty,Fe=m.useCallback(we=>{Tl(we)?Qe&&Qe():De&&De()},[Qe,De]);Cs(()=>{Ve&&Fe({value:je})},[je,Fe,Ve]);const Be=we=>{R&&R(we),f.onFocus&&f.onFocus(we),ye&&ye.onFocus?ye.onFocus(we):_e(!0)},Pe=we=>{T&&T(we),f.onBlur&&f.onBlur(we),ye&&ye.onBlur?ye.onBlur(we):_e(!1)},Ge=(we,...ke)=>{if(!Ve){const _t=we.target||ze.current;if(_t==null)throw new Error(kr(1));Fe({value:_t.value})}f.onChange&&f.onChange(we,...ke),O&&O(we,...ke)};m.useEffect(()=>{Fe(ze.current)},[]);const ue=we=>{ze.current&&we.currentTarget===we.target&&ze.current.focus(),w&&w(we)};let $e=j,Ae=f;A&&$e==="input"&&(D?Ae={type:void 0,minRows:D,maxRows:D,...Ae}:Ae={type:void 0,maxRows:k,minRows:P,...Ae},$e=VN);const Ye=we=>{Fe(we.animationName==="mui-auto-fill-cancel"?ze.current:{value:"x"})};m.useEffect(()=>{ye&&ye.setAdornedStart(!!te)},[ye,te]);const Xe={...r,color:Se.color||"primary",disabled:Se.disabled,endAdornment:h,error:Se.error,focused:Se.focused,formControl:ye,fullWidth:S,hiddenLabel:Se.hiddenLabel,multiline:A,size:Se.size,startAdornment:te,type:Ee},xt=qN(Xe),zt=fe.root||u.Root||Pc,ne=K.root||d.root||{},Oe=fe.input||u.Input||Rc;return Ae={...Ae,...K.input??d.input},o.jsxs(m.Fragment,{children:[!N&&typeof yh=="function"&&(xh||(xh=o.jsx(yh,{}))),o.jsxs(zt,{...ne,ref:n,onClick:ue,...le,...!kl(zt)&&{ownerState:{...Xe,...ne.ownerState}},className:Te(xt.root,ne.className,l,H&&"MuiInputBase-readOnly"),children:[te,o.jsx(lf.Provider,{value:null,children:o.jsx(Oe,{"aria-invalid":Se.error,"aria-describedby":s,autoComplete:a,autoFocus:i,defaultValue:g,disabled:Se.disabled,id:y,onAnimationStart:Ye,name:_,placeholder:M,readOnly:H,required:Se.required,rows:D,value:je,onKeyDown:C,onKeyUp:I,type:Ee,...Ae,...!kl(Oe)&&{as:$e,ownerState:{...Xe,...Ae.ownerState}},ref:Ce,className:Te(xt.input,Ae.className,H&&"MuiInputBase-readOnly"),onBlur:Pe,onChange:Ge,onFocus:Be})}),h,L?L({...Se,startAdornment:te}):null]})]})});function UN(e){return ot("MuiInput",e)}const Vo={...vo,...st("MuiInput",["root","underline","input"])};function GN(e){return ot("MuiOutlinedInput",e)}const rr={...vo,...st("MuiOutlinedInput",["root","notchedOutline","input"])};function KN(e){return ot("MuiFilledInput",e)}const ts={...vo,...st("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},JN=Ts(o.jsx("path",{d:"M7 10l5 5 5-5z"})),YN={entering:{opacity:1},entered:{opacity:1}},QN=m.forwardRef(function(t,n){const r=Ka(),s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:a,appear:i=!0,children:l,easing:c,in:u,onEnter:d,onEntered:g,onEntering:b,onExit:N,onExited:h,onExiting:v,style:S,timeout:y=s,TransitionComponent:j=Zn,...f}=t,x=m.useRef(null),E=rn(x,Co(l),n),k=C=>I=>{if(C){const M=x.current;I===void 0?C(M):C(M,I)}},P=k(b),A=k((C,I)=>{of(C);const M=yo({style:S,timeout:y,easing:c},{mode:"enter"});C.style.webkitTransition=r.transitions.create("opacity",M),C.style.transition=r.transitions.create("opacity",M),d&&d(C,I)}),_=k(g),T=k(v),O=k(C=>{const I=yo({style:S,timeout:y,easing:c},{mode:"exit"});C.style.webkitTransition=r.transitions.create("opacity",I),C.style.transition=r.transitions.create("opacity",I),N&&N(C)}),w=k(h),R=C=>{a&&a(x.current,C)};return o.jsx(j,{appear:i,in:u,nodeRef:x,onEnter:A,onEntered:_,onEntering:P,onExit:O,onExited:w,onExiting:T,addEndListener:R,timeout:y,...f,children:(C,{ownerState:I,...M})=>m.cloneElement(l,{style:{opacity:0,visibility:C==="exited"&&!u?"hidden":void 0,...YN[C],...S,...l.props.style},ref:E,...M})})});function XN(e){return ot("MuiBackdrop",e)}st("MuiBackdrop",["root","invisible"]);const ZN=e=>{const{classes:t,invisible:n}=e;return at({root:["root",n&&"invisible"]},XN,t)},eC=xe("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),tC=m.forwardRef(function(t,n){const r=ct({props:t,name:"MuiBackdrop"}),{children:s,className:a,component:i="div",invisible:l=!1,open:c,components:u={},componentsProps:d={},slotProps:g={},slots:b={},TransitionComponent:N,transitionDuration:h,...v}=r,S={...r,component:i,invisible:l},y=ZN(S),j={transition:N,root:u.Root,...b},f={...d,...g},x={component:i,slots:j,slotProps:f},[E,k]=Et("root",{elementType:eC,externalForwardedProps:x,className:Te(y.root,a),ownerState:S}),[P,A]=Et("transition",{elementType:QN,externalForwardedProps:x,ownerState:S});return o.jsx(P,{in:c,timeout:h,...v,...A,children:o.jsx(E,{"aria-hidden":!0,...k,classes:y,ref:n,children:s})})}),nC=st("MuiBox",["root"]),rC=U0(),Tt=_j({themeId:Gl,defaultTheme:rC,defaultClassName:nC.root,generateClassName:A0.generate});function sC(e){return ot("MuiButton",e)}const ns=st("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),oC=m.createContext({}),aC=m.createContext(void 0),iC=e=>{const{color:t,disableElevation:n,fullWidth:r,size:s,variant:a,loading:i,loadingPosition:l,classes:c}=e,u={root:["root",i&&"loading",a,`${a}${ie(t)}`,`size${ie(s)}`,`${a}Size${ie(s)}`,`color${ie(t)}`,n&&"disableElevation",r&&"fullWidth",i&&`loadingPosition${ie(l)}`],startIcon:["icon","startIcon",`iconSize${ie(s)}`],endIcon:["icon","endIcon",`iconSize${ie(s)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},d=at(u,sC,c);return{...c,...d}},ry=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],lC=xe(_l,{shouldForwardProp:e=>Vn(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${ie(n.color)}`],t[`size${ie(n.size)}`],t[`${n.variant}Size${ie(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth,n.loading&&t.loading]}})(pt(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],n=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${ns.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${ns.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${ns.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${ns.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(Nn()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(e.vars||e).palette[r].main,"--variant-outlinedColor":(e.vars||e).palette[r].main,"--variant-outlinedBorder":e.alpha((e.vars||e).palette[r].main,.5),"--variant-containedColor":(e.vars||e).palette[r].contrastText,"--variant-containedBg":(e.vars||e).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[r].dark,"--variant-textBg":e.alpha((e.vars||e).palette[r].main,(e.vars||e).palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[r].main,"--variant-outlinedBg":e.alpha((e.vars||e).palette[r].main,(e.vars||e).palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity),"--variant-outlinedBg":e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${ns.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${ns.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),[`&.${ns.loading}`]:{color:"transparent"}}}]}})),cC=xe("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,n.loading&&t.startIconLoadingStart,t[`iconSize${ie(n.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...ry]})),uC=xe("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,n.loading&&t.endIconLoadingEnd,t[`iconSize${ie(n.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...ry]})),dC=xe("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(e.vars||e).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),vh=xe("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),pC=m.forwardRef(function(t,n){const r=m.useContext(oC),s=m.useContext(aC),a=Sl(r,t),i=ct({props:a,name:"MuiButton"}),{children:l,color:c="primary",component:u="button",className:d,disabled:g=!1,disableElevation:b=!1,disableFocusRipple:N=!1,endIcon:h,focusVisibleClassName:v,fullWidth:S=!1,id:y,loading:j=null,loadingIndicator:f,loadingPosition:x="center",size:E="medium",startIcon:k,type:P,variant:A="text",..._}=i,T=_c(y),O=f??o.jsx(Oa,{"aria-labelledby":T,color:"inherit",size:16}),w={...i,color:c,component:u,disabled:g,disableElevation:b,disableFocusRipple:N,fullWidth:S,loading:j,loadingIndicator:O,loadingPosition:x,size:E,type:P,variant:A},R=iC(w),C=(k||j&&x==="start")&&o.jsx(cC,{className:R.startIcon,ownerState:w,children:k||o.jsx(vh,{className:R.loadingIconPlaceholder,ownerState:w})}),I=(h||j&&x==="end")&&o.jsx(uC,{className:R.endIcon,ownerState:w,children:h||o.jsx(vh,{className:R.loadingIconPlaceholder,ownerState:w})}),M=s||"",H=typeof j=="boolean"?o.jsx("span",{className:R.loadingWrapper,style:{display:"contents"},children:j&&o.jsx(dC,{className:R.loadingIndicator,ownerState:w,children:O})}):null;return o.jsxs(lC,{ownerState:w,className:Te(r.className,R.root,d,M),component:u,disabled:g||j,focusRipple:!N,focusVisibleClassName:Te(R.focusVisible,v),ref:n,type:P,id:j?T:y,..._,classes:R,children:[C,x!=="end"&&H,l,x==="end"&&H,I]})});function fC(e){return ot("MuiCard",e)}st("MuiCard",["root"]);const mC=e=>{const{classes:t}=e;return at({root:["root"]},fC,t)},hC=xe(af,{name:"MuiCard",slot:"Root"})({overflow:"hidden"}),gC=m.forwardRef(function(t,n){const r=ct({props:t,name:"MuiCard"}),{className:s,raised:a=!1,...i}=r,l={...r,raised:a},c=mC(l);return o.jsx(hC,{className:Te(c.root,s),elevation:a?8:void 0,ref:n,ownerState:l,...i})});function xC(e){return ot("MuiCardContent",e)}st("MuiCardContent",["root"]);const yC=e=>{const{classes:t}=e;return at({root:["root"]},xC,t)},vC=xe("div",{name:"MuiCardContent",slot:"Root"})({padding:16,"&:last-child":{paddingBottom:24}}),bC=m.forwardRef(function(t,n){const r=ct({props:t,name:"MuiCardContent"}),{className:s,component:a="div",...i}=r,l={...r,component:a},c=yC(l);return o.jsx(vC,{as:a,className:Te(c.root,s),ownerState:l,ref:n,...i})});function sy(e=window){const t=e.document.documentElement.clientWidth;return e.innerWidth-t}function wC(e){const t=Qn(e);return t.body===e?Xn(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function pa(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function bh(e){return parseInt(Xn(e).getComputedStyle(e).paddingRight,10)||0}function jC(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),r=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||r}function wh(e,t,n,r,s){const a=[t,n,...r];[].forEach.call(e.children,i=>{const l=!a.includes(i),c=!jC(i);l&&c&&pa(i,s)})}function gu(e,t){let n=-1;return e.some((r,s)=>t(r)?(n=s,!0):!1),n}function SC(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(wC(r)){const i=sy(Xn(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${bh(r)+i}px`;const l=Qn(r).querySelectorAll(".mui-fixed");[].forEach.call(l,c=>{n.push({value:c.style.paddingRight,property:"padding-right",el:c}),c.style.paddingRight=`${bh(c)+i}px`})}let a;if(r.parentNode instanceof DocumentFragment)a=Qn(r).body;else{const i=r.parentElement,l=Xn(r);a=(i==null?void 0:i.nodeName)==="HTML"&&l.getComputedStyle(i).overflowY==="scroll"?i:r}n.push({value:a.style.overflow,property:"overflow",el:a},{value:a.style.overflowX,property:"overflow-x",el:a},{value:a.style.overflowY,property:"overflow-y",el:a}),a.style.overflow="hidden"}return()=>{n.forEach(({value:a,el:i,property:l})=>{a?i.style.setProperty(l,a):i.style.removeProperty(l)})}}function NC(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class CC{constructor(){this.modals=[],this.containers=[]}add(t,n){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&pa(t.modalRef,!1);const s=NC(n);wh(n,t.mount,t.modalRef,s,!0);const a=gu(this.containers,i=>i.container===n);return a!==-1?(this.containers[a].modals.push(t),r):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:s}),r)}mount(t,n){const r=gu(this.containers,a=>a.modals.includes(t)),s=this.containers[r];s.restore||(s.restore=SC(s,n))}remove(t,n=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const s=gu(this.containers,i=>i.modals.includes(t)),a=this.containers[s];if(a.modals.splice(a.modals.indexOf(t),1),this.modals.splice(r,1),a.modals.length===0)a.restore&&a.restore(),t.modalRef&&pa(t.modalRef,n),wh(a.container,t.mount,t.modalRef,a.hiddenSiblings,!1),this.containers.splice(s,1);else{const i=a.modals[a.modals.length-1];i.modalRef&&pa(i.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}function ea(e){var n;let t=e.activeElement;for(;((n=t==null?void 0:t.shadowRoot)==null?void 0:n.activeElement)!=null;)t=t.shadowRoot.activeElement;return t}const kC=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function EC(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function _C(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=r=>e.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function TC(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||_C(e))}function $C(e){const t=[],n=[];return Array.from(e.querySelectorAll(kC)).forEach((r,s)=>{const a=EC(r);a===-1||!TC(r)||(a===0?t.push(r):n.push({documentOrder:s,tabIndex:a,node:r}))}),n.sort((r,s)=>r.tabIndex===s.tabIndex?r.documentOrder-s.documentOrder:r.tabIndex-s.tabIndex).map(r=>r.node).concat(t)}function PC(){return!0}function RC(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:s=!1,getTabbable:a=$C,isEnabled:i=PC,open:l}=e,c=m.useRef(!1),u=m.useRef(null),d=m.useRef(null),g=m.useRef(null),b=m.useRef(null),N=m.useRef(!1),h=m.useRef(null),v=rn(Co(t),h),S=m.useRef(null);m.useEffect(()=>{!l||!h.current||(N.current=!n)},[n,l]),m.useEffect(()=>{if(!l||!h.current)return;const f=Qn(h.current),x=ea(f);return h.current.contains(x)||(h.current.hasAttribute("tabIndex")||h.current.setAttribute("tabIndex","-1"),N.current&&h.current.focus()),()=>{s||(g.current&&g.current.focus&&(c.current=!0,g.current.focus()),g.current=null)}},[l]),m.useEffect(()=>{if(!l||!h.current)return;const f=Qn(h.current),x=ea(f),E=A=>{S.current=A,!(r||!i()||A.key!=="Tab")&&x===h.current&&A.shiftKey&&(c.current=!0,d.current&&d.current.focus())},k=()=>{var O,w;const A=h.current;if(A===null)return;const _=ea(f);if(!f.hasFocus()||!i()||c.current){c.current=!1;return}if(A.contains(_)||r&&_!==u.current&&_!==d.current)return;if(_!==b.current)b.current=null;else if(b.current!==null)return;if(!N.current)return;let T=[];if((_===u.current||_===d.current)&&(T=a(h.current)),T.length>0){const R=!!((O=S.current)!=null&&O.shiftKey&&((w=S.current)==null?void 0:w.key)==="Tab"),C=T[0],I=T[T.length-1];typeof C!="string"&&typeof I!="string"&&(R?I.focus():C.focus())}else A.focus()};f.addEventListener("focusin",k),f.addEventListener("keydown",E,!0);const P=setInterval(()=>{const A=ea(f);A&&A.tagName==="BODY"&&k()},50);return()=>{clearInterval(P),f.removeEventListener("focusin",k),f.removeEventListener("keydown",E,!0)}},[n,r,s,i,l,a]);const y=f=>{g.current===null&&(g.current=f.relatedTarget),N.current=!0,b.current=f.target;const x=t.props.onFocus;x&&x(f)},j=f=>{g.current===null&&(g.current=f.relatedTarget),N.current=!0};return o.jsxs(m.Fragment,{children:[o.jsx("div",{tabIndex:l?0:-1,onFocus:j,ref:u,"data-testid":"sentinelStart"}),m.cloneElement(t,{ref:v,onFocus:y}),o.jsx("div",{tabIndex:l?0:-1,onFocus:j,ref:d,"data-testid":"sentinelEnd"})]})}function IC(e){return typeof e=="function"?e():e}function AC(e){return e?e.props.hasOwnProperty("in"):!1}const jh=()=>{},Ni=new CC;function zC(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:s=!1,onTransitionEnter:a,onTransitionExited:i,children:l,onClose:c,open:u,rootRef:d}=e,g=m.useRef({}),b=m.useRef(null),N=m.useRef(null),h=rn(N,d),[v,S]=m.useState(!u),y=AC(l);let j=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(j=!1);const f=()=>Qn(b.current),x=()=>(g.current.modalRef=N.current,g.current.mount=b.current,g.current),E=()=>{Ni.mount(x(),{disableScrollLock:r}),N.current&&(N.current.scrollTop=0)},k=xs(()=>{const I=IC(t)||f().body;Ni.add(x(),I),N.current&&E()}),P=()=>Ni.isTopModal(x()),A=xs(I=>{b.current=I,I&&(u&&P()?E():N.current&&pa(N.current,j))}),_=m.useCallback(()=>{Ni.remove(x(),j)},[j]);m.useEffect(()=>()=>{_()},[_]),m.useEffect(()=>{u?k():(!y||!s)&&_()},[u,_,y,s,k]);const T=I=>M=>{var H;(H=I.onKeyDown)==null||H.call(I,M),!(M.key!=="Escape"||M.which===229||!P())&&(n||(M.stopPropagation(),c&&c(M,"escapeKeyDown")))},O=I=>M=>{var H;(H=I.onClick)==null||H.call(I,M),M.target===M.currentTarget&&c&&c(M,"backdropClick")};return{getRootProps:(I={})=>{const M=ty(e);delete M.onTransitionEnter,delete M.onTransitionExited;const H={...M,...I};return{role:"presentation",...H,onKeyDown:T(H),ref:h}},getBackdropProps:(I={})=>{const M=I;return{"aria-hidden":!0,...M,onClick:O(M),open:u}},getTransitionProps:()=>{const I=()=>{S(!1),a&&a()},M=()=>{S(!0),i&&i(),s&&_()};return{onEnter:oh(I,(l==null?void 0:l.props.onEnter)??jh),onExited:oh(M,(l==null?void 0:l.props.onExited)??jh)}},rootRef:h,portalRef:A,isTopModal:P,exited:v,hasTransition:y}}function OC(e){return ot("MuiModal",e)}st("MuiModal",["root","hidden","backdrop"]);const MC=e=>{const{open:t,exited:n,classes:r}=e;return at({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},OC,r)},LC=xe("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(pt(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:t})=>!t.open&&t.exited,style:{visibility:"hidden"}}]}))),DC=xe(tC,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),oy=m.forwardRef(function(t,n){const r=ct({name:"MuiModal",props:t}),{BackdropComponent:s=DC,BackdropProps:a,classes:i,className:l,closeAfterTransition:c=!1,children:u,container:d,component:g,components:b={},componentsProps:N={},disableAutoFocus:h=!1,disableEnforceFocus:v=!1,disableEscapeKeyDown:S=!1,disablePortal:y=!1,disableRestoreFocus:j=!1,disableScrollLock:f=!1,hideBackdrop:x=!1,keepMounted:E=!1,onClose:k,onTransitionEnter:P,onTransitionExited:A,open:_,slotProps:T={},slots:O={},theme:w,...R}=r,C={...r,closeAfterTransition:c,disableAutoFocus:h,disableEnforceFocus:v,disableEscapeKeyDown:S,disablePortal:y,disableRestoreFocus:j,disableScrollLock:f,hideBackdrop:x,keepMounted:E},{getRootProps:I,getBackdropProps:M,getTransitionProps:H,portalRef:L,isTopModal:D,exited:Y,hasTransition:K}=zC({...C,rootRef:n}),fe={...C,exited:Y},te=MC(fe),Ee={};if(u.props.tabIndex===void 0&&(Ee.tabIndex="-1"),K){const{onEnter:he,onExited:Ce}=H();Ee.onEnter=he,Ee.onExited=Ce}const be={slots:{root:b.Root,backdrop:b.Backdrop,...O},slotProps:{...N,...T}},[le,je]=Et("root",{ref:n,elementType:LC,externalForwardedProps:{...be,...R,component:g},getSlotProps:I,ownerState:fe,className:Te(l,te==null?void 0:te.root,!fe.open&&fe.exited&&(te==null?void 0:te.hidden))}),[Ve,ze]=Et("backdrop",{ref:a==null?void 0:a.ref,elementType:s,externalForwardedProps:be,shouldForwardComponentProp:!0,additionalProps:a,getSlotProps:he=>M({...he,onClick:Ce=>{he!=null&&he.onClick&&he.onClick(Ce)}}),className:Te(a==null?void 0:a.className,te==null?void 0:te.backdrop),ownerState:fe});return!E&&!_&&(!K||Y)?null:o.jsx(AN,{ref:L,container:d,disablePortal:y,children:o.jsxs(le,{...je,children:[!x&&s?o.jsx(Ve,{...ze}):null,o.jsx(RC,{disableEnforceFocus:v,disableAutoFocus:h,disableRestoreFocus:j,isEnabled:D,open:_,children:m.cloneElement(u,Ee)})]})})});function FC(e,t,n){const r=t.getBoundingClientRect(),s=n&&n.getBoundingClientRect(),a=Xn(t);let i;if(t.fakeTransform)i=t.fakeTransform;else{const u=a.getComputedStyle(t);i=u.getPropertyValue("-webkit-transform")||u.getPropertyValue("transform")}let l=0,c=0;if(i&&i!=="none"&&typeof i=="string"){const u=i.split("(")[1].split(")")[0].split(",");l=parseInt(u[4],10),c=parseInt(u[5],10)}return e==="left"?s?`translateX(${s.right+l-r.left}px)`:`translateX(${a.innerWidth+l-r.left}px)`:e==="right"?s?`translateX(-${r.right-s.left-l}px)`:`translateX(-${r.left+r.width-l}px)`:e==="up"?s?`translateY(${s.bottom+c-r.top}px)`:`translateY(${a.innerHeight+c-r.top}px)`:s?`translateY(-${r.top-s.top+r.height-c}px)`:`translateY(-${r.top+r.height-c}px)`}function BC(e){return typeof e=="function"?e():e}function Ci(e,t,n){const r=BC(n),s=FC(e,t,r);s&&(t.style.webkitTransform=s,t.style.transform=s)}const VC=m.forwardRef(function(t,n){const r=Ka(),s={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},a={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:i,appear:l=!0,children:c,container:u,direction:d="down",easing:g=s,in:b,onEnter:N,onEntered:h,onEntering:v,onExit:S,onExited:y,onExiting:j,style:f,timeout:x=a,TransitionComponent:E=Zn,...k}=t,P=m.useRef(null),A=rn(Co(c),P,n),_=L=>D=>{L&&(D===void 0?L(P.current):L(P.current,D))},T=_((L,D)=>{Ci(d,L,u),of(L),N&&N(L,D)}),O=_((L,D)=>{const Y=yo({timeout:x,style:f,easing:g},{mode:"enter"});L.style.webkitTransition=r.transitions.create("-webkit-transform",{...Y}),L.style.transition=r.transitions.create("transform",{...Y}),L.style.webkitTransform="none",L.style.transform="none",v&&v(L,D)}),w=_(h),R=_(j),C=_(L=>{const D=yo({timeout:x,style:f,easing:g},{mode:"exit"});L.style.webkitTransition=r.transitions.create("-webkit-transform",D),L.style.transition=r.transitions.create("transform",D),Ci(d,L,u),S&&S(L)}),I=_(L=>{L.style.webkitTransition="",L.style.transition="",y&&y(L)}),M=L=>{i&&i(P.current,L)},H=m.useCallback(()=>{P.current&&Ci(d,P.current,u)},[d,u]);return m.useEffect(()=>{if(b||d==="down"||d==="right")return;const L=tf(()=>{P.current&&Ci(d,P.current,u)}),D=Xn(P.current);return D.addEventListener("resize",L),()=>{L.clear(),D.removeEventListener("resize",L)}},[d,b,u]),m.useEffect(()=>{b||H()},[b,H]),o.jsx(E,{nodeRef:P,onEnter:T,onEntered:w,onEntering:O,onExit:C,onExited:I,onExiting:R,addEndListener:M,appear:l,in:b,timeout:x,...k,children:(L,{ownerState:D,...Y})=>m.cloneElement(c,{ref:A,style:{visibility:L==="exited"&&!b?"hidden":void 0,...f,...c.props.style},...Y})})});function HC(e){return ot("MuiDrawer",e)}st("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const ay=(e,t)=>{const{ownerState:n}=e;return[t.root,(n.variant==="permanent"||n.variant==="persistent")&&t.docked,t.modal]},WC=e=>{const{classes:t,anchor:n,variant:r}=e,s={root:["root",`anchor${ie(n)}`],docked:[(r==="permanent"||r==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${ie(n)}`,r!=="temporary"&&`paperAnchorDocked${ie(n)}`]};return at(s,HC,t)},qC=xe(oy,{name:"MuiDrawer",slot:"Root",overridesResolver:ay})(pt(({theme:e})=>({zIndex:(e.vars||e).zIndex.drawer}))),UC=xe("div",{shouldForwardProp:Vn,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:ay})({flex:"0 0 auto"}),GC=xe(af,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`paperAnchor${ie(n.anchor)}`],n.variant!=="temporary"&&t[`paperAnchorDocked${ie(n.anchor)}`]]}})(pt(({theme:e})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(e.vars||e).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:t})=>t.anchor==="left"&&t.variant!=="temporary",style:{borderRight:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="top"&&t.variant!=="temporary",style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="right"&&t.variant!=="temporary",style:{borderLeft:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="bottom"&&t.variant!=="temporary",style:{borderTop:`1px solid ${(e.vars||e).palette.divider}`}}]}))),iy={left:"right",right:"left",top:"down",bottom:"up"};function KC(e){return["left","right"].includes(e)}function JC({direction:e},t){return e==="rtl"&&KC(t)?iy[t]:t}const YC=m.forwardRef(function(t,n){const r=ct({props:t,name:"MuiDrawer"}),s=Ka(),a=D0(),i={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{anchor:l="left",BackdropProps:c,children:u,className:d,elevation:g=16,hideBackdrop:b=!1,ModalProps:{BackdropProps:N,...h}={},onClose:v,open:S=!1,PaperProps:y={},SlideProps:j,TransitionComponent:f,transitionDuration:x=i,variant:E="temporary",slots:k={},slotProps:P={},...A}=r,_=m.useRef(!1);m.useEffect(()=>{_.current=!0},[]);const T=JC({direction:a?"rtl":"ltr"},l),w={...r,anchor:l,elevation:g,open:S,variant:E,...A},R=WC(w),C={slots:{transition:f,...k},slotProps:{paper:y,transition:j,...P,backdrop:K0(P.backdrop||{...c,...N},{transitionDuration:x})}},[I,M]=Et("root",{ref:n,elementType:qC,className:Te(R.root,R.modal,d),shouldForwardComponentProp:!0,ownerState:w,externalForwardedProps:{...C,...A,...h},additionalProps:{open:S,onClose:v,hideBackdrop:b,slots:{backdrop:C.slots.backdrop},slotProps:{backdrop:C.slotProps.backdrop}}}),[H,L]=Et("paper",{elementType:GC,shouldForwardComponentProp:!0,className:Te(R.paper,y.className),ownerState:w,externalForwardedProps:C,additionalProps:{elevation:E==="temporary"?g:0,square:!0,...E==="temporary"&&{role:"dialog","aria-modal":"true"}}}),[D,Y]=Et("docked",{elementType:UC,ref:n,className:Te(R.root,R.docked,d),ownerState:w,externalForwardedProps:C,additionalProps:A}),[K,fe]=Et("transition",{elementType:VC,ownerState:w,externalForwardedProps:C,additionalProps:{in:S,direction:iy[T],timeout:x,appear:_.current}}),te=o.jsx(H,{...L,children:u});if(E==="permanent")return o.jsx(D,{...Y,children:te});const Ee=o.jsx(K,{...fe,children:te});return E==="persistent"?o.jsx(D,{...Y,children:Ee}):o.jsx(I,{...M,children:Ee})}),QC=e=>{const{classes:t,disableUnderline:n,startAdornment:r,endAdornment:s,size:a,hiddenLabel:i,multiline:l}=e,c={root:["root",!n&&"underline",r&&"adornedStart",s&&"adornedEnd",a==="small"&&`size${ie(a)}`,i&&"hiddenLabel",l&&"multiline"],input:["input"]},u=at(c,KN,t);return{...t,...u}},XC=xe(Pc,{shouldForwardProp:e=>Vn(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...Tc(e,t),!n.disableUnderline&&t.underline]}})(pt(({theme:e})=>{const t=e.palette.mode==="light",n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=t?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r}},[`&.${ts.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r},[`&.${ts.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:a},variants:[{props:({ownerState:i})=>!i.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ts.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ts.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?e.alpha(e.vars.palette.common.onBackground,e.vars.opacity.inputUnderline):n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ts.disabled}, .${ts.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${ts.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(Nn()).map(([i])=>{var l;return{props:{disableUnderline:!1,color:i},style:{"&::after":{borderBottom:`2px solid ${(l=(e.vars||e).palette[i])==null?void 0:l.main}`}}}}),{props:({ownerState:i})=>i.startAdornment,style:{paddingLeft:12}},{props:({ownerState:i})=>i.endAdornment,style:{paddingRight:12}},{props:({ownerState:i})=>i.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:i,size:l})=>i.multiline&&l==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:i})=>i.multiline&&i.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:i})=>i.multiline&&i.hiddenLabel&&i.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),ZC=xe(Rc,{name:"MuiFilledInput",slot:"Input",overridesResolver:$c})(pt(({theme:e})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:t})=>t.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}},{props:({ownerState:t})=>t.hiddenLabel&&t.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:t})=>t.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),uf=m.forwardRef(function(t,n){const r=ct({props:t,name:"MuiFilledInput"}),{disableUnderline:s=!1,components:a={},componentsProps:i,fullWidth:l=!1,hiddenLabel:c,inputComponent:u="input",multiline:d=!1,slotProps:g,slots:b={},type:N="text",...h}=r,v={...r,disableUnderline:s,fullWidth:l,inputComponent:u,multiline:d,type:N},S=QC(r),y={root:{ownerState:v},input:{ownerState:v}},j=g??i?tn(y,g??i):y,f=b.root??a.Root??XC,x=b.input??a.Input??ZC;return o.jsx(cf,{slots:{root:f,input:x},slotProps:j,fullWidth:l,inputComponent:u,multiline:d,ref:n,type:N,...h,classes:S})});uf.muiName="Input";function e2(e){return ot("MuiFormControl",e)}st("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const t2=e=>{const{classes:t,margin:n,fullWidth:r}=e,s={root:["root",n!=="none"&&`margin${ie(n)}`,r&&"fullWidth"]};return at(s,e2,t)},n2=xe("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`margin${ie(n.margin)}`],n.fullWidth&&t.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),r2=m.forwardRef(function(t,n){const r=ct({props:t,name:"MuiFormControl"}),{children:s,className:a,color:i="primary",component:l="div",disabled:c=!1,error:u=!1,focused:d,fullWidth:g=!1,hiddenLabel:b=!1,margin:N="none",required:h=!1,size:v="medium",variant:S="outlined",...y}=r,j={...r,color:i,component:l,disabled:c,error:u,fullWidth:g,hiddenLabel:b,margin:N,required:h,size:v,variant:S},f=t2(j),[x,E]=m.useState(()=>{let I=!1;return s&&m.Children.forEach(s,M=>{if(!mu(M,["Input","Select"]))return;const H=mu(M,["Select"])?M.props.input:M;H&&HN(H.props)&&(I=!0)}),I}),[k,P]=m.useState(()=>{let I=!1;return s&&m.Children.forEach(s,M=>{mu(M,["Input","Select"])&&(Tl(M.props,!0)||Tl(M.props.inputProps,!0))&&(I=!0)}),I}),[A,_]=m.useState(!1);c&&A&&_(!1);const T=d!==void 0&&!c?d:A;let O;m.useRef(!1);const w=m.useCallback(()=>{P(!0)},[]),R=m.useCallback(()=>{P(!1)},[]),C=m.useMemo(()=>({adornedStart:x,setAdornedStart:E,color:i,disabled:c,error:u,filled:k,focused:T,fullWidth:g,hiddenLabel:b,size:v,onBlur:()=>{_(!1)},onFocus:()=>{_(!0)},onEmpty:R,onFilled:w,registerEffect:O,required:h,variant:S}),[x,i,c,u,k,T,g,b,O,R,w,h,v,S]);return o.jsx(lf.Provider,{value:C,children:o.jsx(n2,{as:l,ownerState:j,className:Te(f.root,a),ref:n,...y,children:s})})});function s2(e){return ot("MuiFormHelperText",e)}const Sh=st("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var Nh;const o2=e=>{const{classes:t,contained:n,size:r,disabled:s,error:a,filled:i,focused:l,required:c}=e,u={root:["root",s&&"disabled",a&&"error",r&&`size${ie(r)}`,n&&"contained",l&&"focused",i&&"filled",c&&"required"]};return at(u,s2,t)},a2=xe("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${ie(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})(pt(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${Sh.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${Sh.error}`]:{color:(e.vars||e).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:t})=>t.contained,style:{marginLeft:14,marginRight:14}}]}))),i2=m.forwardRef(function(t,n){const r=ct({props:t,name:"MuiFormHelperText"}),{children:s,className:a,component:i="p",disabled:l,error:c,filled:u,focused:d,margin:g,required:b,variant:N,...h}=r,v=Eo(),S=ko({props:r,muiFormControl:v,states:["variant","size","disabled","error","filled","focused","required"]}),y={...r,component:i,contained:S.variant==="filled"||S.variant==="outlined",variant:S.variant,size:S.size,disabled:S.disabled,error:S.error,filled:S.filled,focused:S.focused,required:S.required};delete y.ownerState;const j=o2(y);return o.jsx(a2,{as:i,className:Te(j.root,a),ref:n,...h,ownerState:y,children:s===" "?Nh||(Nh=o.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):s})});function l2(e){return ot("MuiFormLabel",e)}const fa=st("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),c2=e=>{const{classes:t,color:n,focused:r,disabled:s,error:a,filled:i,required:l}=e,c={root:["root",`color${ie(n)}`,s&&"disabled",a&&"error",i&&"filled",r&&"focused",l&&"required"],asterisk:["asterisk",a&&"error"]};return at(c,l2,t)},u2=xe("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color==="secondary"&&t.colorSecondary,n.filled&&t.filled]}})(pt(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(e.palette).filter(Nn()).map(([t])=>({props:{color:t},style:{[`&.${fa.focused}`]:{color:(e.vars||e).palette[t].main}}})),{props:{},style:{[`&.${fa.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${fa.error}`]:{color:(e.vars||e).palette.error.main}}}]}))),d2=xe("span",{name:"MuiFormLabel",slot:"Asterisk"})(pt(({theme:e})=>({[`&.${fa.error}`]:{color:(e.vars||e).palette.error.main}}))),p2=m.forwardRef(function(t,n){const r=ct({props:t,name:"MuiFormLabel"}),{children:s,className:a,color:i,component:l="label",disabled:c,error:u,filled:d,focused:g,required:b,...N}=r,h=Eo(),v=ko({props:r,muiFormControl:h,states:["color","required","focused","disabled","error","filled"]}),S={...r,color:v.color||"primary",component:l,disabled:v.disabled,error:v.error,filled:v.filled,focused:v.focused,required:v.required},y=c2(S);return o.jsxs(u2,{as:l,ownerState:S,className:Te(y.root,a),ref:n,...N,children:[s,v.required&&o.jsxs(d2,{ownerState:S,"aria-hidden":!0,className:y.asterisk,children:["","*"]})]})});function Rd(e){return`scale(${e}, ${e**2})`}const f2={entering:{opacity:1,transform:Rd(1)},entered:{opacity:1,transform:"none"}},xu=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Id=m.forwardRef(function(t,n){const{addEndListener:r,appear:s=!0,children:a,easing:i,in:l,onEnter:c,onEntered:u,onEntering:d,onExit:g,onExited:b,onExiting:N,style:h,timeout:v="auto",TransitionComponent:S=Zn,...y}=t,j=X0(),f=m.useRef(),x=Ka(),E=m.useRef(null),k=rn(E,Co(a),n),P=I=>M=>{if(I){const H=E.current;M===void 0?I(H):I(H,M)}},A=P(d),_=P((I,M)=>{of(I);const{duration:H,delay:L,easing:D}=yo({style:h,timeout:v,easing:i},{mode:"enter"});let Y;v==="auto"?(Y=x.transitions.getAutoHeightDuration(I.clientHeight),f.current=Y):Y=H,I.style.transition=[x.transitions.create("opacity",{duration:Y,delay:L}),x.transitions.create("transform",{duration:xu?Y:Y*.666,delay:L,easing:D})].join(","),c&&c(I,M)}),T=P(u),O=P(N),w=P(I=>{const{duration:M,delay:H,easing:L}=yo({style:h,timeout:v,easing:i},{mode:"exit"});let D;v==="auto"?(D=x.transitions.getAutoHeightDuration(I.clientHeight),f.current=D):D=M,I.style.transition=[x.transitions.create("opacity",{duration:D,delay:H}),x.transitions.create("transform",{duration:xu?D:D*.666,delay:xu?H:H||D*.333,easing:L})].join(","),I.style.opacity=0,I.style.transform=Rd(.75),g&&g(I)}),R=P(b),C=I=>{v==="auto"&&j.start(f.current||0,I),r&&r(E.current,I)};return o.jsx(S,{appear:s,in:l,nodeRef:E,onEnter:_,onEntered:T,onEntering:A,onExit:w,onExited:R,onExiting:O,addEndListener:C,timeout:v==="auto"?null:v,...y,children:(I,{ownerState:M,...H})=>m.cloneElement(a,{style:{opacity:0,transform:Rd(.75),visibility:I==="exited"&&!l?"hidden":void 0,...f2[I],...h,...a.props.style},ref:k,...H})})});Id&&(Id.muiSupportAuto=!0);const m2=e=>{const{classes:t,disableUnderline:n}=e,s=at({root:["root",!n&&"underline"],input:["input"]},UN,t);return{...t,...s}},h2=xe(Pc,{shouldForwardProp:e=>Vn(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...Tc(e,t),!n.disableUnderline&&t.underline]}})(pt(({theme:e})=>{let n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(n=e.alpha(e.vars.palette.common.onBackground,e.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Vo.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Vo.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Vo.disabled}, .${Vo.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${Vo.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(Nn()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[r].main}`}}}))]}})),g2=xe(Rc,{name:"MuiInput",slot:"Input",overridesResolver:$c})({}),df=m.forwardRef(function(t,n){const r=ct({props:t,name:"MuiInput"}),{disableUnderline:s=!1,components:a={},componentsProps:i,fullWidth:l=!1,inputComponent:c="input",multiline:u=!1,slotProps:d,slots:g={},type:b="text",...N}=r,h=m2(r),S={root:{ownerState:{disableUnderline:s}}},y=d??i?tn(d??i,S):S,j=g.root??a.Root??h2,f=g.input??a.Input??g2;return o.jsx(cf,{slots:{root:j,input:f},slotProps:y,fullWidth:l,inputComponent:c,multiline:u,ref:n,type:b,...N,classes:h})});df.muiName="Input";function x2(e){return ot("MuiInputLabel",e)}st("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const y2=e=>{const{classes:t,formControl:n,size:r,shrink:s,disableAnimation:a,variant:i,required:l}=e,c={root:["root",n&&"formControl",!a&&"animated",s&&"shrink",r&&r!=="medium"&&`size${ie(r)}`,i],asterisk:[l&&"asterisk"]},u=at(c,x2,t);return{...t,...u}},v2=xe(p2,{shouldForwardProp:e=>Vn(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${fa.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,n.size==="small"&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})(pt(({theme:e})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:t})=>t.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:t})=>t.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:t})=>!t.disableAnimation,style:{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:t,ownerState:n})=>t==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:t,ownerState:n,size:r})=>t==="filled"&&n.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:t,ownerState:n})=>t==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),b2=m.forwardRef(function(t,n){const r=ct({name:"MuiInputLabel",props:t}),{disableAnimation:s=!1,margin:a,shrink:i,variant:l,className:c,...u}=r,d=Eo();let g=i;typeof g>"u"&&d&&(g=d.filled||d.focused||d.adornedStart);const b=ko({props:r,muiFormControl:d,states:["size","variant","required","focused"]}),N={...r,disableAnimation:s,formControl:d,shrink:g,size:b.size,variant:b.variant,required:b.required,focused:b.focused},h=y2(N);return o.jsx(v2,{"data-shrink":g,ref:n,className:Te(h.root,c),...u,ownerState:N,classes:h})}),w2=m.createContext({});function j2(e){return ot("MuiList",e)}st("MuiList",["root","padding","dense","subheader"]);const S2=e=>{const{classes:t,disablePadding:n,dense:r,subheader:s}=e;return at({root:["root",!n&&"padding",r&&"dense",s&&"subheader"]},j2,t)},N2=xe("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>e.subheader,style:{paddingTop:0}}]}),C2=m.forwardRef(function(t,n){const r=ct({props:t,name:"MuiList"}),{children:s,className:a,component:i="ul",dense:l=!1,disablePadding:c=!1,subheader:u,...d}=r,g=m.useMemo(()=>({dense:l}),[l]),b={...r,component:i,dense:l,disablePadding:c},N=S2(b);return o.jsx(w2.Provider,{value:g,children:o.jsxs(N2,{as:i,className:Te(N.root,a),ref:n,ownerState:b,...d,children:[u,s]})})});function yu(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function Ch(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function ly(e,t){if(t===void 0)return!0;let n=e.innerText;return n===void 0&&(n=e.textContent),n=n.trim().toLowerCase(),n.length===0?!1:t.repeating?n[0]===t.keys[0]:n.startsWith(t.keys.join(""))}function Ho(e,t,n,r,s,a){let i=!1,l=s(e,t,t?n:!1);for(;l;){if(l===e.firstChild){if(i)return!1;i=!0}const c=r?!1:l.disabled||l.getAttribute("aria-disabled")==="true";if(!l.hasAttribute("tabindex")||!ly(l,a)||c)l=s(e,l,n);else return l.focus(),!0}return!1}const k2=m.forwardRef(function(t,n){const{actions:r,autoFocus:s=!1,autoFocusItem:a=!1,children:i,className:l,disabledItemsFocusable:c=!1,disableListWrap:u=!1,onKeyDown:d,variant:g="selectedMenu",...b}=t,N=m.useRef(null),h=m.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Cs(()=>{s&&N.current.focus()},[s]),m.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(f,{direction:x})=>{const E=!N.current.style.width;if(f.clientHeight<N.current.clientHeight&&E){const k=`${sy(Xn(f))}px`;N.current.style[x==="rtl"?"paddingLeft":"paddingRight"]=k,N.current.style.width=`calc(100% + ${k})`}return N.current}}),[]);const v=f=>{const x=N.current,E=f.key;if(f.ctrlKey||f.metaKey||f.altKey){d&&d(f);return}const P=ea(Qn(x));if(E==="ArrowDown")f.preventDefault(),Ho(x,P,u,c,yu);else if(E==="ArrowUp")f.preventDefault(),Ho(x,P,u,c,Ch);else if(E==="Home")f.preventDefault(),Ho(x,null,u,c,yu);else if(E==="End")f.preventDefault(),Ho(x,null,u,c,Ch);else if(E.length===1){const A=h.current,_=E.toLowerCase(),T=performance.now();A.keys.length>0&&(T-A.lastTime>500?(A.keys=[],A.repeating=!0,A.previousKeyMatched=!0):A.repeating&&_!==A.keys[0]&&(A.repeating=!1)),A.lastTime=T,A.keys.push(_);const O=P&&!A.repeating&&ly(P,A);A.previousKeyMatched&&(O||Ho(x,P,!1,c,yu,A))?f.preventDefault():A.previousKeyMatched=!1}d&&d(f)},S=rn(N,n);let y=-1;m.Children.forEach(i,(f,x)=>{if(!m.isValidElement(f)){y===x&&(y+=1,y>=i.length&&(y=-1));return}f.props.disabled||(g==="selectedMenu"&&f.props.selected||y===-1)&&(y=x),y===x&&(f.props.disabled||f.props.muiSkipListHighlight||f.type.muiSkipListHighlight)&&(y+=1,y>=i.length&&(y=-1))});const j=m.Children.map(i,(f,x)=>{if(x===y){const E={};return a&&(E.autoFocus=!0),f.props.tabIndex===void 0&&g==="selectedMenu"&&(E.tabIndex=0),m.cloneElement(f,E)}return f});return o.jsx(C2,{role:"menu",ref:S,className:l,onKeyDown:v,tabIndex:s?0:-1,...b,children:j})});function E2(e){return ot("MuiPopover",e)}st("MuiPopover",["root","paper"]);function kh(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.height/2:t==="bottom"&&(n=e.height),n}function Eh(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.width/2:t==="right"&&(n=e.width),n}function _h(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function ki(e){return typeof e=="function"?e():e}const _2=e=>{const{classes:t}=e;return at({root:["root"],paper:["paper"]},E2,t)},T2=xe(oy,{name:"MuiPopover",slot:"Root"})({}),cy=xe(af,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),$2=m.forwardRef(function(t,n){const r=ct({props:t,name:"MuiPopover"}),{action:s,anchorEl:a,anchorOrigin:i={vertical:"top",horizontal:"left"},anchorPosition:l,anchorReference:c="anchorEl",children:u,className:d,container:g,elevation:b=8,marginThreshold:N=16,open:h,PaperProps:v={},slots:S={},slotProps:y={},transformOrigin:j={vertical:"top",horizontal:"left"},TransitionComponent:f,transitionDuration:x="auto",TransitionProps:E={},disableScrollLock:k=!1,...P}=r,A=m.useRef(),_={...r,anchorOrigin:i,anchorReference:c,elevation:b,marginThreshold:N,transformOrigin:j,TransitionComponent:f,transitionDuration:x,TransitionProps:E},T=_2(_),O=m.useCallback(()=>{if(c==="anchorPosition")return l;const he=ki(a),de=(he&&he.nodeType===1?he:Qn(A.current).body).getBoundingClientRect();return{top:de.top+kh(de,i.vertical),left:de.left+Eh(de,i.horizontal)}},[a,i.horizontal,i.vertical,l,c]),w=m.useCallback(he=>({vertical:kh(he,j.vertical),horizontal:Eh(he,j.horizontal)}),[j.horizontal,j.vertical]),R=m.useCallback(he=>{const Ce={width:he.offsetWidth,height:he.offsetHeight},de=w(Ce);if(c==="none")return{top:null,left:null,transformOrigin:_h(de)};const _e=O();let ye=_e.top-de.vertical,Se=_e.left-de.horizontal;const Qe=ye+Ce.height,De=Se+Ce.width,Fe=Xn(ki(a)),Be=Fe.innerHeight-N,Pe=Fe.innerWidth-N;if(N!==null&&ye<N){const Ge=ye-N;ye-=Ge,de.vertical+=Ge}else if(N!==null&&Qe>Be){const Ge=Qe-Be;ye-=Ge,de.vertical+=Ge}if(N!==null&&Se<N){const Ge=Se-N;Se-=Ge,de.horizontal+=Ge}else if(De>Pe){const Ge=De-Pe;Se-=Ge,de.horizontal+=Ge}return{top:`${Math.round(ye)}px`,left:`${Math.round(Se)}px`,transformOrigin:_h(de)}},[a,c,O,w,N]),[C,I]=m.useState(h),M=m.useCallback(()=>{const he=A.current;if(!he)return;const Ce=R(he);Ce.top!==null&&he.style.setProperty("top",Ce.top),Ce.left!==null&&(he.style.left=Ce.left),he.style.transformOrigin=Ce.transformOrigin,I(!0)},[R]);m.useEffect(()=>(k&&window.addEventListener("scroll",M),()=>window.removeEventListener("scroll",M)),[a,k,M]);const H=()=>{M()},L=()=>{I(!1)};m.useEffect(()=>{h&&M()}),m.useImperativeHandle(s,()=>h?{updatePosition:()=>{M()}}:null,[h,M]),m.useEffect(()=>{if(!h)return;const he=tf(()=>{M()}),Ce=Xn(ki(a));return Ce.addEventListener("resize",he),()=>{he.clear(),Ce.removeEventListener("resize",he)}},[a,h,M]);let D=x;const Y={slots:{transition:f,...S},slotProps:{transition:E,paper:v,...y}},[K,fe]=Et("transition",{elementType:Id,externalForwardedProps:Y,ownerState:_,getSlotProps:he=>({...he,onEntering:(Ce,de)=>{var _e;(_e=he.onEntering)==null||_e.call(he,Ce,de),H()},onExited:Ce=>{var de;(de=he.onExited)==null||de.call(he,Ce),L()}}),additionalProps:{appear:!0,in:h}});x==="auto"&&!K.muiSupportAuto&&(D=void 0);const te=g||(a?Qn(ki(a)).body:void 0),[Ee,{slots:be,slotProps:le,...je}]=Et("root",{ref:n,elementType:T2,externalForwardedProps:{...Y,...P},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:S.backdrop},slotProps:{backdrop:K0(typeof y.backdrop=="function"?y.backdrop(_):y.backdrop,{invisible:!0})},container:te,open:h},ownerState:_,className:Te(T.root,d)}),[Ve,ze]=Et("paper",{ref:A,className:T.paper,elementType:cy,externalForwardedProps:Y,shouldForwardComponentProp:!0,additionalProps:{elevation:b,style:C?void 0:{opacity:0}},ownerState:_});return o.jsx(Ee,{...je,...!kl(Ee)&&{slots:be,slotProps:le,disableScrollLock:k},children:o.jsx(K,{...fe,timeout:D,children:o.jsx(Ve,{...ze,children:u})})})});function P2(e){return ot("MuiMenu",e)}st("MuiMenu",["root","paper","list"]);const R2={vertical:"top",horizontal:"right"},I2={vertical:"top",horizontal:"left"},A2=e=>{const{classes:t}=e;return at({root:["root"],paper:["paper"],list:["list"]},P2,t)},z2=xe($2,{shouldForwardProp:e=>Vn(e)||e==="classes",name:"MuiMenu",slot:"Root"})({}),O2=xe(cy,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),M2=xe(k2,{name:"MuiMenu",slot:"List"})({outline:0}),L2=m.forwardRef(function(t,n){const r=ct({props:t,name:"MuiMenu"}),{autoFocus:s=!0,children:a,className:i,disableAutoFocusItem:l=!1,MenuListProps:c={},onClose:u,open:d,PaperProps:g={},PopoverClasses:b,transitionDuration:N="auto",TransitionProps:{onEntering:h,...v}={},variant:S="selectedMenu",slots:y={},slotProps:j={},...f}=r,x=D0(),E={...r,autoFocus:s,disableAutoFocusItem:l,MenuListProps:c,onEntering:h,PaperProps:g,transitionDuration:N,TransitionProps:v,variant:S},k=A2(E),P=s&&!l&&d,A=m.useRef(null),_=(D,Y)=>{A.current&&A.current.adjustStyleForScrollbar(D,{direction:x?"rtl":"ltr"}),h&&h(D,Y)},T=D=>{D.key==="Tab"&&(D.preventDefault(),u&&u(D,"tabKeyDown"))};let O=-1;m.Children.map(a,(D,Y)=>{m.isValidElement(D)&&(D.props.disabled||(S==="selectedMenu"&&D.props.selected||O===-1)&&(O=Y))});const w={slots:y,slotProps:{list:c,transition:v,paper:g,...j}},R=RN({elementType:y.root,externalSlotProps:j.root,ownerState:E,className:[k.root,i]}),[C,I]=Et("paper",{className:k.paper,elementType:O2,externalForwardedProps:w,shouldForwardComponentProp:!0,ownerState:E}),[M,H]=Et("list",{className:Te(k.list,c.className),elementType:M2,shouldForwardComponentProp:!0,externalForwardedProps:w,getSlotProps:D=>({...D,onKeyDown:Y=>{var K;T(Y),(K=D.onKeyDown)==null||K.call(D,Y)}}),ownerState:E}),L=typeof w.slotProps.transition=="function"?w.slotProps.transition(E):w.slotProps.transition;return o.jsx(z2,{onClose:u,anchorOrigin:{vertical:"bottom",horizontal:x?"right":"left"},transformOrigin:x?R2:I2,slots:{root:y.root,paper:C,backdrop:y.backdrop,...y.transition&&{transition:y.transition}},slotProps:{root:R,paper:I,backdrop:typeof j.backdrop=="function"?j.backdrop(E):j.backdrop,transition:{...L,onEntering:(...D)=>{var Y;_(...D),(Y=L==null?void 0:L.onEntering)==null||Y.call(L,...D)}}},open:d,ref:n,transitionDuration:N,ownerState:E,...f,classes:b,children:o.jsx(M,{actions:A,autoFocus:s&&(O===-1||l),autoFocusItem:P,variant:S,...H,children:a})})});function D2(e){return ot("MuiNativeSelect",e)}const pf=st("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),F2=e=>{const{classes:t,variant:n,disabled:r,multiple:s,open:a,error:i}=e,l={select:["select",n,r&&"disabled",s&&"multiple",i&&"error"],icon:["icon",`icon${ie(n)}`,a&&"iconOpen",r&&"disabled"]};return at(l,D2,t)},uy=xe("select",{name:"MuiNativeSelect"})(({theme:e})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${pf.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},variants:[{props:({ownerState:t})=>t.variant!=="filled"&&t.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}}]})),B2=xe(uy,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Vn,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${pf.multiple}`]:t.multiple}]}})({}),dy=xe("svg",{name:"MuiNativeSelect"})(({theme:e})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${pf.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:({ownerState:t})=>t.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),V2=xe(dy,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${ie(n.variant)}`],n.open&&t.iconOpen]}})({}),H2=m.forwardRef(function(t,n){const{className:r,disabled:s,error:a,IconComponent:i,inputRef:l,variant:c="standard",...u}=t,d={...t,disabled:s,variant:c,error:a},g=F2(d);return o.jsxs(m.Fragment,{children:[o.jsx(B2,{ownerState:d,className:Te(g.select,r),disabled:s,ref:l||n,...u}),t.multiple?null:o.jsx(V2,{as:i,ownerState:d,className:g.icon})]})});var Th;const W2=xe("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:Vn})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),q2=xe("legend",{name:"MuiNotchedOutlined",shouldForwardProp:Vn})(pt(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:t})=>!t.withLabel,style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:({ownerState:t})=>t.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:t})=>t.withLabel&&t.notched,style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]})));function U2(e){const{children:t,classes:n,className:r,label:s,notched:a,...i}=e,l=s!=null&&s!=="",c={...e,notched:a,withLabel:l};return o.jsx(W2,{"aria-hidden":!0,className:r,ownerState:c,...i,children:o.jsx(q2,{ownerState:c,children:l?o.jsx("span",{children:s}):Th||(Th=o.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const G2=e=>{const{classes:t}=e,r=at({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},GN,t);return{...t,...r}},K2=xe(Pc,{shouldForwardProp:e=>Vn(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Tc})(pt(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${rr.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${rr.notchedOutline}`]:{borderColor:e.vars?e.alpha(e.vars.palette.common.onBackground,.23):t}},[`&.${rr.focused} .${rr.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(e.palette).filter(Nn()).map(([n])=>({props:{color:n},style:{[`&.${rr.focused} .${rr.notchedOutline}`]:{borderColor:(e.vars||e).palette[n].main}}})),{props:{},style:{[`&.${rr.error} .${rr.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${rr.disabled} .${rr.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:r})=>n.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),J2=xe(U2,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(pt(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?e.alpha(e.vars.palette.common.onBackground,.23):t}})),Y2=xe(Rc,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:$c})(pt(({theme:e})=>({padding:"16.5px 14px",...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:t})=>t.multiline,style:{padding:0}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}}]}))),ff=m.forwardRef(function(t,n){const r=ct({props:t,name:"MuiOutlinedInput"}),{components:s={},fullWidth:a=!1,inputComponent:i="input",label:l,multiline:c=!1,notched:u,slots:d={},slotProps:g={},type:b="text",...N}=r,h=G2(r),v=Eo(),S=ko({props:r,muiFormControl:v,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),y={...r,color:S.color||"primary",disabled:S.disabled,error:S.error,focused:S.focused,formControl:v,fullWidth:a,hiddenLabel:S.hiddenLabel,multiline:c,size:S.size,type:b},j=d.root??s.Root??K2,f=d.input??s.Input??Y2,[x,E]=Et("notchedOutline",{elementType:J2,className:h.notchedOutline,shouldForwardComponentProp:!0,ownerState:y,externalForwardedProps:{slots:d,slotProps:g},additionalProps:{label:l!=null&&l!==""&&S.required?o.jsxs(m.Fragment,{children:[l,"","*"]}):l}});return o.jsx(cf,{slots:{root:j,input:f},slotProps:g,renderSuffix:k=>o.jsx(x,{...E,notched:typeof u<"u"?u:!!(k.startAdornment||k.filled||k.focused)}),fullWidth:a,inputComponent:i,multiline:c,ref:n,type:b,...N,classes:{...h,notchedOutline:null}})});ff.muiName="Input";function py(e){return ot("MuiSelect",e)}const Wo=st("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var $h;const Q2=xe(uy,{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${Wo.select}`]:t.select},{[`&.${Wo.select}`]:t[n.variant]},{[`&.${Wo.error}`]:t.error},{[`&.${Wo.multiple}`]:t.multiple}]}})({[`&.${Wo.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),X2=xe(dy,{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${ie(n.variant)}`],n.open&&t.iconOpen]}})({}),Z2=xe("input",{shouldForwardProp:e=>G0(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Ph(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function ek(e){return e==null||typeof e=="string"&&!e.trim()}const tk=e=>{const{classes:t,variant:n,disabled:r,multiple:s,open:a,error:i}=e,l={select:["select",n,r&&"disabled",s&&"multiple",i&&"error"],icon:["icon",`icon${ie(n)}`,a&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return at(l,py,t)},nk=m.forwardRef(function(t,n){var ce,St,U,Z;const{"aria-describedby":r,"aria-label":s,autoFocus:a,autoWidth:i,children:l,className:c,defaultOpen:u,defaultValue:d,disabled:g,displayEmpty:b,error:N=!1,IconComponent:h,inputRef:v,labelId:S,MenuProps:y={},multiple:j,name:f,onBlur:x,onChange:E,onClose:k,onFocus:P,onKeyDown:A,onMouseDown:_,onOpen:T,open:O,readOnly:w,renderValue:R,required:C,SelectDisplayProps:I={},tabIndex:M,type:H,value:L,variant:D="standard",...Y}=t,[K,fe]=ih({controlled:L,default:d,name:"Select"}),[te,Ee]=ih({controlled:O,default:u,name:"Select"}),be=m.useRef(null),le=m.useRef(null),[je,Ve]=m.useState(null),{current:ze}=m.useRef(O!=null),[he,Ce]=m.useState(),de=rn(n,v),_e=m.useCallback(W=>{le.current=W,W&&Ve(W)},[]),ye=je==null?void 0:je.parentNode;m.useImperativeHandle(de,()=>({focus:()=>{le.current.focus()},node:be.current,value:K}),[K]),m.useEffect(()=>{u&&te&&je&&!ze&&(Ce(i?null:ye.clientWidth),le.current.focus())},[je,i]),m.useEffect(()=>{a&&le.current.focus()},[a]),m.useEffect(()=>{if(!S)return;const W=Qn(le.current).getElementById(S);if(W){const p=()=>{getSelection().isCollapsed&&le.current.focus()};return W.addEventListener("click",p),()=>{W.removeEventListener("click",p)}}},[S]);const Se=(W,p)=>{W?T&&T(p):k&&k(p),ze||(Ce(i?null:ye.clientWidth),Ee(W))},Qe=W=>{_==null||_(W),W.button===0&&(W.preventDefault(),le.current.focus(),Se(!0,W))},De=W=>{Se(!1,W)},Fe=m.Children.toArray(l),Be=W=>{const p=Fe.find($=>$.props.value===W.target.value);p!==void 0&&(fe(p.props.value),E&&E(W,p))},Pe=W=>p=>{let $;if(p.currentTarget.hasAttribute("tabindex")){if(j){$=Array.isArray(K)?K.slice():[];const z=K.indexOf(W.props.value);z===-1?$.push(W.props.value):$.splice(z,1)}else $=W.props.value;if(W.props.onClick&&W.props.onClick(p),K!==$&&(fe($),E)){const z=p.nativeEvent||p,F=new z.constructor(z.type,z);Object.defineProperty(F,"target",{writable:!0,value:{value:$,name:f}}),E(F,W)}j||Se(!1,p)}},Ge=W=>{w||([" ","ArrowUp","ArrowDown","Enter"].includes(W.key)&&(W.preventDefault(),Se(!0,W)),A==null||A(W))},ue=je!==null&&te,$e=W=>{!ue&&x&&(Object.defineProperty(W,"target",{writable:!0,value:{value:K,name:f}}),x(W))};delete Y["aria-invalid"];let Ae,Ye;const Xe=[];let xt=!1;(Tl({value:K})||b)&&(R?Ae=R(K):xt=!0);const zt=Fe.map(W=>{if(!m.isValidElement(W))return null;let p;if(j){if(!Array.isArray(K))throw new Error(kr(2));p=K.some($=>Ph($,W.props.value)),p&&xt&&Xe.push(W.props.children)}else p=Ph(K,W.props.value),p&&xt&&(Ye=W.props.children);return m.cloneElement(W,{"aria-selected":p?"true":"false",onClick:Pe(W),onKeyUp:$=>{$.key===" "&&$.preventDefault(),W.props.onKeyUp&&W.props.onKeyUp($)},role:"option",selected:p,value:void 0,"data-value":W.props.value})});xt&&(j?Xe.length===0?Ae=null:Ae=Xe.reduce((W,p,$)=>(W.push(p),$<Xe.length-1&&W.push(", "),W),[]):Ae=Ye);let ne=he;!i&&ze&&je&&(ne=ye.clientWidth);let Oe;typeof M<"u"?Oe=M:Oe=g?null:0;const we=I.id||(f?`mui-component-select-${f}`:void 0),ke={...t,variant:D,value:K,open:ue,error:N},_t=tk(ke),Jt={...y.PaperProps,...typeof((ce=y.slotProps)==null?void 0:ce.paper)=="function"?y.slotProps.paper(ke):(St=y.slotProps)==null?void 0:St.paper},jt={...y.MenuListProps,...typeof((U=y.slotProps)==null?void 0:U.list)=="function"?y.slotProps.list(ke):(Z=y.slotProps)==null?void 0:Z.list},Ht=_c();return o.jsxs(m.Fragment,{children:[o.jsx(Q2,{as:"div",ref:_e,tabIndex:Oe,role:"combobox","aria-controls":ue?Ht:void 0,"aria-disabled":g?"true":void 0,"aria-expanded":ue?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[S,we].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":C?"true":void 0,"aria-invalid":N?"true":void 0,onKeyDown:Ge,onMouseDown:g||w?null:Qe,onBlur:$e,onFocus:P,...I,ownerState:ke,className:Te(I.className,_t.select,c),id:we,children:ek(Ae)?$h||($h=o.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):Ae}),o.jsx(Z2,{"aria-invalid":N,value:Array.isArray(K)?K.join(","):K,name:f,ref:be,"aria-hidden":!0,onChange:Be,tabIndex:-1,disabled:g,className:_t.nativeInput,autoFocus:a,required:C,...Y,ownerState:ke}),o.jsx(X2,{as:h,className:_t.icon,ownerState:ke}),o.jsx(L2,{id:`menu-${f||""}`,anchorEl:ye,open:ue,onClose:De,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...y,slotProps:{...y.slotProps,list:{"aria-labelledby":S,role:"listbox","aria-multiselectable":j?"true":void 0,disableListWrap:!0,id:Ht,...jt},paper:{...Jt,style:{minWidth:ne,...Jt!=null?Jt.style:null}}},children:zt})]})}),rk=e=>{const{classes:t}=e,r=at({root:["root"]},py,t);return{...t,...r}},mf={name:"MuiSelect",slot:"Root",shouldForwardProp:e=>Vn(e)&&e!=="variant"},sk=xe(df,mf)(""),ok=xe(ff,mf)(""),ak=xe(uf,mf)(""),fy=m.forwardRef(function(t,n){const r=ct({name:"MuiSelect",props:t}),{autoWidth:s=!1,children:a,classes:i={},className:l,defaultOpen:c=!1,displayEmpty:u=!1,IconComponent:d=JN,id:g,input:b,inputProps:N,label:h,labelId:v,MenuProps:S,multiple:y=!1,native:j=!1,onClose:f,onOpen:x,open:E,renderValue:k,SelectDisplayProps:P,variant:A="outlined",..._}=r,T=j?H2:nk,O=Eo(),w=ko({props:r,muiFormControl:O,states:["variant","error"]}),R=w.variant||A,C={...r,variant:R,classes:i},I=rk(C),{root:M,...H}=I,L=b||{standard:o.jsx(sk,{ownerState:C}),outlined:o.jsx(ok,{label:h,ownerState:C}),filled:o.jsx(ak,{ownerState:C})}[R],D=rn(n,Co(L));return o.jsx(m.Fragment,{children:m.cloneElement(L,{inputComponent:T,inputProps:{children:a,error:w.error,IconComponent:d,variant:R,type:void 0,multiple:y,...j?{id:g}:{autoWidth:s,defaultOpen:c,displayEmpty:u,labelId:v,MenuProps:S,onClose:f,onOpen:x,open:E,renderValue:k,SelectDisplayProps:{id:g,...P}},...N,classes:N?tn(H,N.classes):H,...b?b.props.inputProps:{}},...(y&&j||u)&&R==="outlined"?{notched:!0}:{},ref:D,className:Te(L.props.className,l,I.root),...!b&&{variant:R},..._})})});fy.muiName="Select";function ik(e){return ot("MuiTextField",e)}st("MuiTextField",["root"]);const lk={standard:df,filled:uf,outlined:ff},ck=e=>{const{classes:t}=e;return at({root:["root"]},ik,t)},uk=xe(r2,{name:"MuiTextField",slot:"Root"})({}),dk=m.forwardRef(function(t,n){const r=ct({props:t,name:"MuiTextField"}),{autoComplete:s,autoFocus:a=!1,children:i,className:l,color:c="primary",defaultValue:u,disabled:d=!1,error:g=!1,FormHelperTextProps:b,fullWidth:N=!1,helperText:h,id:v,InputLabelProps:S,inputProps:y,InputProps:j,inputRef:f,label:x,maxRows:E,minRows:k,multiline:P=!1,name:A,onBlur:_,onChange:T,onFocus:O,placeholder:w,required:R=!1,rows:C,select:I=!1,SelectProps:M,slots:H={},slotProps:L={},type:D,value:Y,variant:K="outlined",...fe}=r,te={...r,autoFocus:a,color:c,disabled:d,error:g,fullWidth:N,multiline:P,required:R,select:I,variant:K},Ee=ck(te),be=_c(v),le=h&&be?`${be}-helper-text`:void 0,je=x&&be?`${be}-label`:void 0,Ve=lk[K],ze={slots:H,slotProps:{input:j,inputLabel:S,htmlInput:y,formHelperText:b,select:M,...L}},he={},Ce=ze.slotProps.inputLabel;K==="outlined"&&(Ce&&typeof Ce.shrink<"u"&&(he.notched=Ce.shrink),he.label=x),I&&((!M||!M.native)&&(he.id=void 0),he["aria-describedby"]=void 0);const[de,_e]=Et("root",{elementType:uk,shouldForwardComponentProp:!0,externalForwardedProps:{...ze,...fe},ownerState:te,className:Te(Ee.root,l),ref:n,additionalProps:{disabled:d,error:g,fullWidth:N,required:R,color:c,variant:K}}),[ye,Se]=Et("input",{elementType:Ve,externalForwardedProps:ze,additionalProps:he,ownerState:te}),[Qe,De]=Et("inputLabel",{elementType:b2,externalForwardedProps:ze,ownerState:te}),[Fe,Be]=Et("htmlInput",{elementType:"input",externalForwardedProps:ze,ownerState:te}),[Pe,Ge]=Et("formHelperText",{elementType:i2,externalForwardedProps:ze,ownerState:te}),[ue,$e]=Et("select",{elementType:fy,externalForwardedProps:ze,ownerState:te}),Ae=o.jsx(ye,{"aria-describedby":le,autoComplete:s,autoFocus:a,defaultValue:u,fullWidth:N,multiline:P,name:A,rows:C,maxRows:E,minRows:k,type:D,value:Y,id:be,inputRef:f,onBlur:_,onChange:T,onFocus:O,placeholder:w,inputProps:Be,slots:{input:H.htmlInput?Fe:void 0},...Se});return o.jsxs(de,{..._e,children:[x!=null&&x!==""&&o.jsx(Qe,{htmlFor:be,id:je,...De,children:x}),I?o.jsx(ue,{"aria-describedby":le,id:be,labelId:je,value:Y,input:Ae,...$e,children:i}):Ae,h&&o.jsx(Pe,{id:le,...Ge,children:h})]})}),my=Ts([o.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),o.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")]),pk=Ts(o.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),fk=Ts(o.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"})),hy=Ts(o.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-5 11.5h.25V19h-4.5v-4.5H10c.55 0 1-.45 1-1V5h2v8.5c0 .55.45 1 1 1M5 5h2v8.5c0 .55.45 1 1 1h.25V19H5zm14 14h-3.25v-4.5H16c.55 0 1-.45 1-1V5h2z"})),mk=Ts(o.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"})),hk=async(e,t)=>{const n=await fetch(`${e}/api/vincent-dindy/reports`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok){const r=await n.json().catch(()=>({detail:"Erreur inconnue"}));throw new Error(r.detail||`Erreur ${n.status}`)}return n.json()};function ma({currentView:e,setCurrentView:t,setSelectedIds:n,hideNickView:r}){if(r)return null;const s=i=>{t(i),n(new Set)},a=[{key:"nicolas",label:"Gestion & Pianos"},{key:"technicien",label:"Technicien"},{key:"vdi",label:" valider"}];return o.jsx("div",{className:"flex gap-2 mb-4",children:a.map(i=>o.jsx("button",{onClick:()=>s(i.key),className:`px-4 py-2 text-sm font-medium rounded-full transition-colors ${e===i.key?"bg-blue-500 text-white shadow-sm":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200"}`,children:i.label},i.key))})}function gk({status:e}){if(!e||e==="idle")return null;const n={modified:{bg:"bg-amber-100",text:"text-amber-700",border:"border-amber-300",label:"Modifi",icon:""},saving:{bg:"bg-blue-100",text:"text-blue-700",border:"border-blue-300",label:"En cours...",icon:""},saved:{bg:"bg-green-100",text:"text-green-700",border:"border-green-300",label:"Sauvegard",icon:""},error:{bg:"bg-red-100",text:"text-red-700",border:"border-red-300",label:"Erreur",icon:""}}[e];return o.jsxs("div",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-semibold border ${n.bg} ${n.text} ${n.border} ${e==="saving"?"animate-pulse":""}`,children:[o.jsx("span",{children:n.icon}),o.jsx("span",{children:n.label})]})}function gy({pianos:e,stats:t,showOnlyProposed:n,setShowOnlyProposed:r,searchLocal:s,setSearchLocal:a,expandedPianoId:i,setExpandedPianoId:l,travailInput:c,setTravailInput:u,saveTravail:d,markWorkCompleted:g,moisDepuisAccord:b,formatDateRelative:N,pianosFiltres:h,selectedInstitution:v,setSelectedInstitution:S,onInstitutionChange:y}){const[j,f]=m.useState({}),x=m.useRef({}),E=T=>{i===T.id?(l(null),u("")):(l(T.id),u(T.travail||""))},k=m.useCallback((T,O)=>{u(O),clearTimeout(x.current[T]),f(w=>({...w,[T]:"modified"})),x.current[T]=setTimeout(async()=>{if(O.trim()){f(w=>({...w,[T]:"saving"}));try{await d(T,O),f(w=>({...w,[T]:"saved"}))}catch{f(w=>({...w,[T]:"error"}))}}},500)},[d,u]),P=[{slug:"vincent-dindy",name:"Vincent-d'Indy"},{slug:"orford",name:"Orford Musique"},{slug:"place-des-arts",name:"Place des Arts"}],A=T=>{S&&S(T),y&&y(T)},_=v||"vincent-dindy";return o.jsxs("div",{className:"bg-gray-50",children:[o.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-white p-4 mb-3 border border-blue-200 rounded-lg",children:[o.jsxs("div",{className:"text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[o.jsx("span",{children:""}),o.jsx("span",{children:"Institution"})]}),o.jsx("div",{className:"flex gap-2",children:P.map(T=>{const O=_===T.slug;return o.jsx("button",{onClick:()=>A(T.slug),className:`flex-1 py-2 px-3 text-sm rounded-lg font-medium transition-all ${O?"bg-blue-600 text-white shadow":"bg-white text-gray-700 hover:bg-blue-50 border border-gray-300"}`,children:T.name},T.slug)})})]}),o.jsxs("div",{className:"bg-white p-3 mb-4 border-b border-gray-200",children:[o.jsxs("div",{className:"flex gap-2 mb-2",children:[o.jsxs("button",{onClick:()=>r(!1),className:`flex-1 py-1 px-2 text-xs rounded ${n?"bg-gray-100":"bg-blue-500 text-white"}`,children:["Tous (",t.total,")"]}),o.jsxs("button",{onClick:()=>r(!0),className:`flex-1 py-1 px-2 text-xs rounded ${n?"bg-blue-500 text-white":"bg-gray-100"}`,children:[" faire (",t.proposed,")"]})]}),o.jsx("input",{type:"text",placeholder:"Rechercher par local (ex: 301)",value:s,onChange:T=>a(T.target.value),className:"w-full px-3 py-2 border rounded text-sm"})]}),o.jsx("div",{className:"p-2 space-y-2",children:h.length===0?o.jsx("div",{className:"bg-white rounded-lg p-6 text-center text-gray-500",children:n?"Aucun piano  faire.":"Aucun piano trouv."}):h.map(T=>{const O=i===T.id,w=b(T.dernierAccord),R=T.travail&&T.travail.trim()!=="";return o.jsxs("div",{className:`rounded-lg shadow overflow-hidden ${T.is_work_completed?"bg-green-100":T.status==="top"?"bg-amber-100":T.status==="proposed"?"bg-yellow-100":"bg-white"}`,children:[o.jsxs("div",{onClick:()=>E(T),className:"p-3 flex justify-between items-center cursor-pointer active:bg-gray-100",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-lg font-bold text-gray-700",children:T.local}),o.jsxs("span",{className:"text-gray-600",children:[T.piano,T.modele?` ${T.modele}`:""]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[T.service_status?o.jsx("span",{className:"text-green-500 text-sm font-bold",title:T.service_status==="pushed"?"Pouss vers Gazelle":"Valid par Nicolas",children:T.service_status==="pushed"?"":""}):T.is_work_completed?o.jsx("span",{className:"text-green-500 text-sm font-bold",title:"Termin",children:""}):R?o.jsx("span",{className:"text-blue-500 text-xs",children:""}):null,!O&&j[T.id]==="modified"&&o.jsx("span",{className:"w-2 h-2 rounded-full bg-amber-400",title:"Non sauvegard"}),o.jsx("span",{className:`text-sm ${w>=6?"text-orange-500":"text-gray-400"}`,children:N(T.dernierAccord)}),o.jsx("span",{className:"text-gray-400",children:O?"":""})]})]}),O&&o.jsxs("div",{className:"border-t bg-gray-50 p-3 space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Srie:"})," ",T.serie]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Type:"})," ",T.type==="D"?"Droit":"Queue"]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Dernier:"})," ",N(T.dernierAccord)]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Usage:"})," ",T.usage||"-"]})]}),T.aFaire&&o.jsxs("div",{className:"bg-yellow-100 p-2 rounded text-sm",children:[o.jsx("span",{className:"font-medium",children:" faire:"})," ",T.aFaire]}),T.service_status&&o.jsx("div",{className:`text-xs font-medium rounded px-2 py-1.5 ${T.service_status==="pushed"?"bg-gray-100 text-gray-600":"bg-green-100 text-green-700"}`,children:T.service_status==="pushed"?"Pouss vers Gazelle  lecture seule":"Valid par Nicolas  lecture seule"}),o.jsxs("div",{children:[o.jsx("textarea",{value:c,onChange:C=>k(T.id,C.target.value),className:`w-full border rounded-lg p-3 text-sm h-24 resize-y focus:outline-none ${T.service_status?"bg-gray-100 border-gray-200 cursor-not-allowed text-gray-500":"border-gray-300 focus:ring-2 focus:ring-blue-300 focus:border-blue-400"}`,placeholder:"Notes d'accord, observations...",autoFocus:!T.service_status,disabled:!!T.service_status,readOnly:!!T.service_status}),!T.service_status&&o.jsxs("div",{className:"flex justify-between items-center mt-1",children:[o.jsx("div",{className:"text-xs text-gray-400",children:"auto-save"}),o.jsx(gk,{status:j[T.id]})]})]}),!T.service_status&&g&&o.jsx("button",{onClick:()=>g(T.id,!T.is_work_completed),className:`w-full py-2.5 rounded-lg text-sm font-semibold transition-colors ${T.is_work_completed?"bg-gray-200 text-gray-600 hover:bg-gray-300":"bg-green-500 text-white hover:bg-green-600 active:bg-green-700"}`,children:T.is_work_completed?"Rouvrir":" Termin"})]})]},T.id)})})]})}const on={admin:{name:"Administrateur",email:"asutton@piano-tek.com",gazelleId:"usr_ofYggsCDt2JAVeNP",permissions:["*"],dashboards:["inventaire","commissions","stats","admin","sync_gazelle","tournees"],technicianName:"allan"},nick:{name:"Nick (Gestionnaire)",email:"nlessard@piano-tek.com",gazelleId:"usr_HcCiFk7o0vZ9xAI0",permissions:["view_inventory","manage_own_inventory","create_tours","view_tours","use_assistant"],dashboards:["inventaire","tournees","vincent-dindy"]},louise:{name:"Louise (Assistante)",email:"info@piano-tek.com",gazelleId:"usr_tndhXmnT0iakT4HF",permissions:["view_inventory","edit_inventory","view_tours","use_assistant"],dashboards:["inventaire","tournees"]},jeanphilippe:{name:"Jean-Philippe (Technicien)",email:"jpreny@gmail.com",gazelleId:"usr_ReUSmIJmBF86ilY1",permissions:["view_inventory","edit_inventory","view_tours","use_assistant"],dashboards:["inventaire","tournees"]},margot:{name:"Margot (Assistante + Technicienne)",email:"margotcharignon@gmail.com",gazelleId:"usr_bbt59aCUqUaDWA8n",permissions:["view_inventory","edit_inventory","view_tours","use_assistant","edit_vdi"],dashboards:["inventaire","tournees","vincent-dindy"]},alexandre:{name:"Alexandre (VDI)",email:null,gazelleId:null,initials:"AB",permissions:["view_inventory","view_tours","edit_vdi"],dashboards:["vincent-dindy"]},nikolas:{name:"Nikolas (VDI)",email:null,gazelleId:null,initials:"NG",permissions:["view_inventory","view_tours","edit_vdi"],dashboards:["vincent-dindy"]},guillaume:{name:"Guillaume (VDI)",email:null,gazelleId:null,initials:"GL",permissions:["view_inventory","view_tours","edit_vdi"],dashboards:["vincent-dindy"]}};function ta(e,t=null){if(!e)return t||"admin";const n=e.toLowerCase();for(const[r,s]of Object.entries(on))if(s.email&&s.email.toLowerCase()===n)return r;return t||"admin"}const xk="https://assistant-gazelle-v5-api.onrender.com";function xy({pianosFiltres:e,pianos:t,setPianos:n,stats:r,institution:s,currentUser:a,tournees:i,selectedTourneeId:l,setSelectedTourneeId:c,setShowOnlySelected:u,getTourneePianos:d,showOnlySelected:g,showAllPianos:b,setShowAllPianos:N,filterUsage:h,setFilterUsage:v,filterAccordDepuis:S,setFilterAccordDepuis:y,usages:j,selectedIds:f,setSelectedIds:x,selectAllCheckboxRef:E,loadPianosFromAPI:k,loading:P,selectAll:A,deselectAll:_,toggleProposed:T,toggleSelected:O,batchSetStatus:w,batchSetUsage:R,batchHideFromInventory:C,savePianoToAPI:I,removePianoFromTournee:M,editingAFaireId:H,setEditingAFaireId:L,aFaireInput:D,setAFaireInput:Y,sortConfig:K,handleSort:fe,getRowClass:te,moisDepuisAccord:Ee,formatDateRelative:be,isPianoInTournee:le,filterEtage:je,setFilterEtage:Ve,handlePushToGazelle:ze,readyForPushCount:he,pushInProgress:Ce}){var zt;const de=({columnKey:ne})=>K.key!==ne?o.jsx("span",{className:"text-gray-300 ml-1",children:""}):o.jsx("span",{className:"text-blue-600 ml-1",children:K.direction==="asc"?"":""}),_e=({columnKey:ne,children:Oe})=>o.jsx("th",{onClick:()=>fe(ne),className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase cursor-pointer hover:bg-gray-100 select-none",children:o.jsxs("div",{className:"flex items-center",children:[Oe,o.jsx(de,{columnKey:ne})]})}),[ye,Se]=m.useState(null),[Qe,De]=m.useState([]),[Fe,Be]=m.useState(!1),[Pe,Ge]=m.useState({key:"date",dir:"desc"}),[ue,$e]=m.useState(""),[Ae,Ye]=m.useState("all"),Xe=m.useCallback(async ne=>{Se(ne),De([]),Be(!0);try{const we=await fetch(`${xk}/api/${s||"vincent-dindy"}/pianos/${ne.id}/timeline?limit=200`);if(we.ok){const ke=await we.json();De(ke.entries||[])}}catch(Oe){console.error("Erreur chargement timeline:",Oe)}finally{Be(!1)}},[]),xt=({type:ne,source:Oe})=>{const ke={APPOINTMENT:{bg:"bg-blue-100",text:"text-blue-700",label:"RDV"},SERVICE:{bg:"bg-green-100",text:"text-green-700",label:Oe==="local"?"Service (local)":"Service"},SERVICE_ENTRY_MANUAL:{bg:"bg-green-100",text:"text-green-700",label:"Service"},SERVICE_ENTRY_AUTOMATED:{bg:"bg-green-100",text:"text-green-700",label:"Facture/Service"},USER_COMMENT:{bg:"bg-yellow-100",text:"text-yellow-700",label:"Note"},PIANO_MEASUREMENT:{bg:"bg-cyan-100",text:"text-cyan-700",label:"Mesure"},INVOICE:{bg:"bg-purple-100",text:"text-purple-700",label:"Facture"},INVOICE_LOG:{bg:"bg-purple-100",text:"text-purple-700",label:"Facture"},ESTIMATE:{bg:"bg-orange-100",text:"text-orange-700",label:"Devis"},ESTIMATE_LOG:{bg:"bg-orange-100",text:"text-orange-700",label:"Devis"}}[ne]||{bg:"bg-gray-100",text:"text-gray-600",label:ne||"?"};return o.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-semibold ${ke.bg} ${ke.text}`,children:ke.label})};return o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow p-4 mb-4 space-y-3",children:[l&&o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-3",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("span",{className:"text-sm font-medium text-blue-900",children:[" Tourne: ",((zt=i.find(ne=>ne.id===l))==null?void 0:zt.nom)||"Inconnue"]}),o.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Slectionnez les pianos  inclure dans cette tourne"})]}),o.jsx("button",{onClick:()=>{c(null),u(!1)},className:"text-sm text-blue-600 hover:text-blue-800",children:" Dslectionner"})]})}),o.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[o.jsxs("button",{onClick:()=>{u(!1),N(!1)},className:`px-4 py-2 rounded text-sm font-medium ${!g&&!b?"bg-blue-500 text-white":"bg-gray-100 hover:bg-gray-200"}`,children:[" Inventaire (",t.filter(ne=>!ne.is_hidden).length,")"]}),(ta(a==null?void 0:a.email)==="admin"||ta(a==null?void 0:a.email)==="nick")&&o.jsxs("button",{onClick:()=>{u(!1),N(!0)},className:`px-4 py-2 rounded text-sm font-medium ${!g&&b?"bg-purple-500 text-white":"bg-gray-100 hover:bg-gray-200"}`,title:"Afficher tous les pianos (mme ceux masqus de l'inventaire)",children:[" Tout voir (",r.total,")"]}),o.jsx("button",{onClick:()=>{u(!0),N(!1)},className:`px-4 py-2 rounded text-sm font-medium ${g?"bg-blue-500 text-white":"bg-gray-100 hover:bg-gray-200"}`,children:l?o.jsxs(o.Fragment,{children:[" Pianos de cette tourne (",t.filter(ne=>le(ne,l)&&(!ne.is_hidden||b)).length,")"]}):o.jsxs(o.Fragment,{children:[" Projet de tourne (",r.proposed+r.completed,")"]})}),o.jsx("button",{onClick:async()=>{await k()},className:"px-3 py-2 rounded text-sm font-medium bg-gray-100 hover:bg-gray-200 disabled:opacity-50",disabled:P,title:"Rafrachir les donnes",children:P?"...":""}),ze&&o.jsx("button",{onClick:ze,className:`px-4 py-2 rounded text-sm font-medium ${he>0?"bg-green-500 text-white hover:bg-green-600":"bg-gray-100 text-gray-400 cursor-not-allowed"} disabled:opacity-50`,disabled:Ce||he===0,title:he>0?`Envoyer ${he} piano(s) vers Gazelle`:"Aucun piano  synchroniser",children:Ce?" Envoi...":`Sync Gazelle${he>0?` (${he})`:""}`})]}),o.jsxs("div",{className:"flex gap-4 flex-wrap items-center border-t pt-3",children:[o.jsxs("select",{value:h,onChange:ne=>v(ne.target.value),className:"border rounded px-2 py-1 text-sm",children:[o.jsx("option",{value:"all",children:"Tous usages"}),j.map(ne=>o.jsx("option",{value:ne,children:ne},ne)),o.jsx("option",{value:"",children:"Sans usage"})]}),o.jsxs("select",{value:S,onChange:ne=>y(parseInt(ne.target.value)),className:"border rounded px-2 py-1 text-sm",children:[o.jsx("option",{value:0,children:"Tous"}),o.jsx("option",{value:3,children:"3+ mois"}),o.jsx("option",{value:6,children:"6+ mois"}),o.jsx("option",{value:12,children:"12+ mois"})]}),o.jsxs("select",{value:je,onChange:ne=>Ve(ne.target.value),className:"border rounded px-2 py-1 text-sm",children:[o.jsx("option",{value:"all",children:"Tous tages"}),o.jsx("option",{value:"1",children:"1er tage"}),o.jsx("option",{value:"2",children:"2e tage"}),o.jsx("option",{value:"3",children:"3e tage"}),o.jsx("option",{value:"4",children:"4e tage"}),o.jsx("option",{value:"5",children:"5e tage"})]})]}),o.jsxs("div",{className:"flex gap-3 flex-wrap items-center border-t pt-3",children:[o.jsx("button",{onClick:A,className:"px-3 py-1 rounded text-sm bg-gray-200 hover:bg-gray-300",children:" Tous"}),o.jsx("button",{onClick:_,className:"px-3 py-1 rounded text-sm bg-gray-200 hover:bg-gray-300",children:" Aucun"}),f.size>0&&o.jsxs(o.Fragment,{children:[o.jsxs("span",{className:"text-purple-600 font-medium text-sm",children:[f.size," sel."]}),o.jsx("button",{onClick:()=>w("top"),className:"px-3 py-1 rounded text-sm bg-orange-400 hover:bg-orange-500",title:"Marquer les pianos slectionns comme priorit leve",children:" Top"}),o.jsx("button",{onClick:()=>w("proposed"),className:"px-3 py-1 rounded text-sm bg-yellow-400 hover:bg-yellow-500",title:"Marquer les pianos slectionns comme  faire",children:"  faire"}),o.jsxs("select",{onChange:ne=>{ne.target.value&&R(ne.target.value)},className:"border rounded px-2 py-1 text-sm",value:"",children:[o.jsx("option",{value:"",children:"Usage..."}),j.map(ne=>o.jsx("option",{value:ne,children:ne},ne))]}),(ta(a==null?void 0:a.email)==="admin"||ta(a==null?void 0:a.email)==="nick")&&o.jsx("button",{onClick:C,className:"px-3 py-1 rounded text-sm bg-red-100 hover:bg-red-200 text-red-700 border border-red-300",title:"Masquer les pianos slectionns de l'inventaire",children:" Masquer sel."}),o.jsx("button",{onClick:async()=>{if(f.size!==0){for(const ne of Array.from(f)){const Oe=t.find(we=>we.id===ne);Oe&&Oe.is_hidden&&await I(ne,{isHidden:!1})}await k(),_()}},className:"px-3 py-1 rounded text-sm bg-green-100 hover:bg-green-200 text-green-700 border border-green-300",title:"Afficher les pianos slectionns dans l'inventaire",children:" Afficher sel."})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-50 border-b",children:[o.jsx("th",{className:"px-2 py-3 w-10",children:o.jsx("input",{ref:E,type:"checkbox",onChange:ne=>ne.target.checked?A():_(),className:"rounded"})}),o.jsx(_e,{columnKey:"local",children:"Local"}),o.jsx(_e,{columnKey:"piano",children:"Piano"}),o.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"# Srie"}),o.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Usage"}),o.jsx(_e,{columnKey:"mois",children:"Mois"}),o.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase bg-yellow-50",children:"Note"}),o.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Visible"}),o.jsx("th",{className:"px-3 py-3 text-center text-xs font-medium text-gray-500 uppercase w-12",children:"Hist."})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map(ne=>{const Oe=Ee(ne.dernierAccord);return o.jsxs("tr",{className:`${te(ne)} cursor-pointer hover:opacity-80`,onClick:()=>T(ne.id),children:[o.jsx("td",{className:"px-2 py-3 text-center",onClick:we=>we.stopPropagation(),children:o.jsx("input",{type:"checkbox",checked:f.has(ne.id),onChange:()=>O(ne.id),className:"rounded"})}),o.jsx("td",{className:"px-3 py-3 text-sm font-medium",children:ne.local}),o.jsx("td",{className:"px-3 py-3 text-sm",children:ne.piano}),o.jsx("td",{className:"px-3 py-3 text-sm text-gray-500 font-mono",children:ne.serie}),o.jsx("td",{className:"px-3 py-3 text-sm text-gray-500",children:ne.usage||"-"}),o.jsx("td",{className:`px-3 py-3 text-sm font-medium ${Oe===999?"text-gray-400":Oe>=12?"text-red-600":Oe>=6?"text-orange-500":"text-green-600"}`,children:be(ne.dernierAccord)}),o.jsx("td",{className:"px-3 py-3 bg-yellow-50",onClick:we=>we.stopPropagation(),children:H===ne.id?o.jsx("input",{type:"text",value:D,onChange:we=>Y(we.target.value),onKeyDown:async we=>{we.key==="Enter"&&(n(t.map(ke=>ke.id===ne.id?{...ke,aFaire:D}:ke)),L(null),Y(""),await I(ne.id,{aFaire:D}))},onBlur:async()=>{n(t.map(ke=>ke.id===ne.id?{...ke,aFaire:D}:ke)),L(null);const we=D;Y(""),await I(ne.id,{aFaire:we})},className:"border rounded px-2 py-1 text-sm w-full",placeholder:"Instructions...",autoFocus:!0}):o.jsx("span",{className:"text-sm cursor-text",onClick:()=>{L(ne.id),Y(ne.aFaire||"")},children:ne.aFaire||o.jsx("span",{className:"text-gray-400",children:"Cliquer..."})})}),o.jsx("td",{className:"px-3 py-3 text-center",onClick:we=>we.stopPropagation(),children:o.jsx("input",{type:"checkbox",checked:!ne.is_hidden,onChange:async()=>{const we=!ne.is_hidden;n(t.map(ke=>ke.id===ne.id?{...ke,is_hidden:we}:ke)),await I(ne.id,{isHidden:we})},className:"rounded",title:ne.is_hidden?"Masqu  cocher pour afficher":"Visible  dcocher pour masquer"})}),o.jsx("td",{className:"px-3 py-3 text-center",onClick:we=>we.stopPropagation(),children:o.jsx("button",{onClick:()=>Xe(ne),className:"text-gray-400 hover:text-blue-600 transition-colors",title:"Voir l'historique d'entretien",children:o.jsx("svg",{className:"w-4 h-4 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})})]},ne.id)})})]}),e.length===0&&o.jsx("div",{className:"p-8 text-center text-gray-500",children:"Aucun piano."})]}),o.jsxs("div",{className:"mt-4 bg-white rounded-lg shadow p-3 flex gap-4 text-sm flex-wrap",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"w-3 h-3 bg-white border rounded"})," Normal"]},"legend-normal"),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"w-3 h-3 bg-yellow-200 rounded"}),"  faire"]},"legend-proposed"),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"w-3 h-3 bg-orange-200 rounded"})," Top (priorit)"]},"legend-top")]}),ye&&(()=>{const ne={SERVICE_ENTRY_MANUAL:"Service",SERVICE_ENTRY_AUTOMATED:"Facture/Service",SERVICE:"Service (local)",PIANO_MEASUREMENT:"Mesure",USER_COMMENT:"Note",APPOINTMENT:"RDV",INVOICE:"Facture",INVOICE_LOG:"Facture",ESTIMATE:"Devis",ESTIMATE_LOG:"Devis"},Oe=[...new Set(Qe.map(ce=>ce.type))],we=ce=>[ce.summary,ce.comment,ce.user,ce.invoice_number].filter(Boolean).join(" ").toLowerCase(),ke=Qe.filter(ce=>!(Ae!=="all"&&ce.type!==Ae||ue&&!we(ce).includes(ue.toLowerCase()))),_t=[...ke].sort((ce,St)=>{let U,Z;switch(Pe.key){case"date":U=ce.date||"",Z=St.date||"";break;case"type":U=ne[ce.type]||ce.type||"",Z=ne[St.type]||St.type||"";break;case"user":U=ce.user||"",Z=St.user||"";break;default:U="",Z=""}const W=typeof U=="string"?U.localeCompare(Z):U-Z;return Pe.dir==="asc"?W:-W}),Jt=ce=>{Ge(St=>St.key===ce?{key:ce,dir:St.dir==="asc"?"desc":"asc"}:{key:ce,dir:ce==="date"?"desc":"asc"})},jt=({col:ce})=>Pe.key!==ce?o.jsx("span",{className:"text-gray-300 ml-0.5",children:""}):o.jsx("span",{className:"text-blue-600 ml-0.5",children:Pe.dir==="asc"?"":""}),Ht=ce=>ce?new Date(ce).toLocaleDateString("fr-CA",{year:"numeric",month:"short",day:"numeric"}):"-";return o.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-start justify-center pt-8 px-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-5xl max-h-[85vh] flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between px-5 py-3 border-b bg-gray-50 rounded-t-xl",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-base font-bold text-gray-900",children:["Historique  ",ye.local]}),o.jsxs("p",{className:"text-xs text-gray-500",children:[ye.piano,ye.modele?` ${ye.modele}`:"","  ",ye.serie,o.jsxs("span",{className:"ml-2 text-gray-400",children:["(",ke.length," entre",ke.length>1?"s":"",")"]})]})]}),o.jsx("button",{onClick:()=>{Se(null),$e(""),Ye("all")},className:"text-gray-400 hover:text-gray-700 text-xl leading-none px-2",children:""})]}),o.jsxs("div",{className:"flex items-center gap-3 px-5 py-2 border-b bg-white",children:[o.jsx("input",{type:"text",placeholder:"Rechercher...",value:ue,onChange:ce=>$e(ce.target.value),className:"border border-gray-300 rounded px-2.5 py-1.5 text-xs w-56 focus:outline-none focus:ring-1 focus:ring-blue-400"}),o.jsxs("select",{value:Ae,onChange:ce=>Ye(ce.target.value),className:"border border-gray-300 rounded px-2 py-1.5 text-xs bg-white focus:outline-none focus:ring-1 focus:ring-blue-400",children:[o.jsx("option",{value:"all",children:"Tous les types"}),Oe.map(ce=>o.jsx("option",{value:ce,children:ne[ce]||ce},ce))]})]}),o.jsx("div",{className:"flex-1 overflow-auto",children:Fe?o.jsx("div",{className:"text-center py-8 text-gray-500",children:"Chargement..."}):_t.length===0?o.jsx("div",{className:"text-center py-8 text-gray-500",children:Qe.length===0?"Aucun historique.":"Aucun rsultat pour ce filtre."}):o.jsxs("table",{className:"w-full text-xs",children:[o.jsx("thead",{className:"sticky top-0 bg-gray-50 z-10",children:o.jsxs("tr",{className:"border-b text-left text-[10px] font-semibold text-gray-500 uppercase",children:[o.jsxs("th",{className:"px-3 py-2 w-28 cursor-pointer select-none",onClick:()=>Jt("date"),children:["Date ",o.jsx(jt,{col:"date"})]}),o.jsxs("th",{className:"px-3 py-2 w-28 cursor-pointer select-none",onClick:()=>Jt("type"),children:["Type ",o.jsx(jt,{col:"type"})]}),o.jsxs("th",{className:"px-3 py-2 w-32 cursor-pointer select-none",onClick:()=>Jt("user"),children:["Technicien ",o.jsx(jt,{col:"user"})]}),o.jsx("th",{className:"px-3 py-2",children:"Description"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:_t.map((ce,St)=>o.jsxs("tr",{className:`hover:bg-blue-50/50 ${ce.source==="local"?"bg-green-50/30":""}`,children:[o.jsx("td",{className:"px-3 py-2 text-gray-600 whitespace-nowrap align-top",children:Ht(ce.date)}),o.jsx("td",{className:"px-3 py-2 align-top",children:o.jsx(xt,{type:ce.type,source:ce.source})}),o.jsx("td",{className:"px-3 py-2 text-gray-700 align-top",children:ce.user||"-"}),o.jsxs("td",{className:"px-3 py-2 text-gray-800 align-top",children:[ce.summary&&ce.comment?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"font-medium",children:ce.summary}),o.jsx("p",{className:"whitespace-pre-wrap mt-0.5 text-gray-600",children:ce.comment})]}):o.jsx("span",{className:"whitespace-pre-wrap",children:ce.comment||ce.summary||"-"}),ce.invoice_number&&o.jsxs("span",{className:"ml-2 text-purple-500",children:["#",ce.invoice_number]}),ce.source==="local"&&ce.status&&o.jsx("span",{className:`ml-2 text-[10px] px-1.5 py-0.5 rounded-full font-medium ${ce.status==="pushed"?"bg-gray-200 text-gray-600":"bg-green-100 text-green-700"}`,children:ce.status==="pushed"?"Pouss":ce.status==="imported"?"Sheet":"Valid"})]})]},ce.id||St))})]})})]})})})()]})}const yk={allan:{gazelleId:"usr_ofYggsCDt2JAVeNP",supabaseId:"usr_ofYggsCDt2JAVeNP",prenom:"Allan",nom:"Sutton",nomComplet:"Allan Sutton",abbreviation:"Allan",username:"allan",email:"asutton@piano-tek.com",slack:null,role:"admin",isAdmin:!0,isTechnicien:!0,isAssistant:!1},nicolas:{gazelleId:"usr_HcCiFk7o0vZ9xAI0",supabaseId:"usr_HcCiFk7o0vZ9xAI0",prenom:"Nicolas",nom:"Lessard",nomComplet:"Nicolas Lessard",abbreviation:"Nick",username:"nicolas",email:"nlessard@piano-tek.com",slack:null,role:"technicien",isAdmin:!1,isTechnicien:!0,isAssistant:!1},jeanphilippe:{gazelleId:"usr_ReUSmIJmBF86ilY1",supabaseId:"usr_ReUSmIJmBF86ilY1",prenom:"Jean-Philippe",nom:"Reny",nomComplet:"Jean-Philippe Reny",abbreviation:"JP",username:"jeanphilippe",email:"jpreny@gmail.com",slack:null,role:"technicien",isAdmin:!1,isTechnicien:!0,isAssistant:!1}},hf=Object.values(yk);hf.map(e=>e.gazelleId);hf.map(e=>e.email);hf.map(e=>e.username);console.log("[VincentDIndyDashboard] Fichier charg - ligne 1");const un="https://assistant-gazelle-v5-api.onrender.com",rs=({currentUser:e,initialView:t="nicolas",hideNickView:n=!1,institution:r="vincent-dindy"})=>{const[s,a]=m.useState([]),[i,l]=m.useState(!0),[c,u]=m.useState(null),[d,g]=m.useState(n?"technicien":t);m.useEffect(()=>{n&&d!=="technicien"&&g("technicien")},[n,d]);const[b,N]=m.useState(!1),[h,v]=m.useState(!1),[S,y]=m.useState(""),[j,f]=m.useState(!1),[x,E]=m.useState({key:"local",direction:"asc"}),[k,P]=m.useState("all"),[A,_]=m.useState(0),[T,O]=m.useState("all"),[w,R]=m.useState(new Set),C=m.useRef(null),[I,M]=m.useState(null),[H,L]=m.useState(""),[D,Y]=m.useState(""),[K,fe]=m.useState(!1),[te,Ee]=m.useState(null),[be,le]=m.useState(""),[je,Ve]=m.useState(null),[ze,he]=m.useState(""),[Ce,de]=m.useState(null),[_e,ye]=m.useState(""),[Se,Qe]=m.useState(null),[De,Fe]=m.useState(""),[Be,Pe]=m.useState([]),[Ge,ue]=m.useState(!1),[$e,Ae]=m.useState(!1),[Ye,Xe]=m.useState(null),[xt,zt]=m.useState({}),[ne,Oe]=m.useState(!1),[we,ke]=m.useState("vincent-dindy"),[_t,Jt]=m.useState(r);m.useEffect(()=>{console.log("[VincentDIndyDashboard] Institution initiale:",r,"selectedInstitutionForTechnician:",_t)},[r,_t]);const[jt,Ht]=m.useState(0),[ce,St]=m.useState(!1),U=["Piano","Accompagnement","Pratique","Concert","Enseignement","Loisir"],Z=m.useCallback(async(B=null)=>{var ae;try{l(!0),u(null);const oe=B||r;console.log(" Chargement des pianos depuis:",un,"pour institution:",oe);const ge=`${un}/api/${oe}/pianos?include_inactive=true`,Ie=await(await fetch(ge)).json();console.log(" Donnes reues:",Ie),console.log(" Nombre de pianos:",Ie.count||((ae=Ie.pianos)==null?void 0:ae.length)||0),Ie.error?(console.error(" Erreur API:",Ie.message),u(Ie.message||"Erreur lors du chargement des pianos"),a([])):(a(Ie.pianos||[]),Ie.debug&&console.log(" Debug:",Ie.debug))}catch(oe){console.error(" Erreur lors du chargement des pianos:",oe),u(oe.message||"Erreur lors du chargement des pianos"),a([])}finally{l(!1)}},[r]),W=m.useCallback(async()=>{ue(!0);try{const B=await fetch(`${un}/api/vincent-dindy/service-history?limit=200`);B.ok&&Pe(await B.json())}catch(B){console.error("Erreur chargement historique:",B)}finally{ue(!1)}},[]),p=async(B,ae)=>{var oe;try{const ge={...ae,updated_by:(e==null?void 0:e.email)||(e==null?void 0:e.name)||"Unknown"};if(ge.travail!==void 0&&ge.travail.trim()!==""){const qe=`[${(e==null?void 0:e.initials)||((oe=e==null?void 0:e.name)==null?void 0:oe[0])||"?"}]`;if(!ge.travail.startsWith(qe)){const Dt=ge.travail.replace(/^\[.+?\]\s*/,"");ge.travail=`${qe} ${Dt}`}}const Ne=await fetch(`${un}/api/${r}/pianos/${B}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ge)});if(!Ne.ok){const Ie=await Ne.json().catch(()=>({detail:"Erreur inconnue"}));throw new Error(Ie.detail||`Erreur ${Ne.status}`)}return console.log(" Piano sauvegard par",e==null?void 0:e.name,":",B,ge),Ne.json()}catch(ge){console.error(" Erreur lors de la sauvegarde:",ge),alert(`Erreur lors de la sauvegarde: ${ge.message}`),await Z()}},$=B=>{if(!B||B.trim()==="")return 999;const ae=new Date(B);if(isNaN(ae.getTime()))return 999;const ge=Math.floor((new Date-ae)/(1e3*60*60*24));return ge<30?ge/30:Math.floor(ge/30)},z=B=>{if(!B||B.trim()==="")return"-";const ae=new Date(B);if(isNaN(ae.getTime()))return"-";const ge=new Date-ae,Ne=Math.floor(ge/(1e3*60*60*24)),Ie=Math.floor(Ne/7),qe=Math.floor(Ne/30);return Ne===0?"Aujourd'hui":Ne===1?"1j":Ne<7?`${Ne}j`:Ie===1?"1s":Ie<4?`${Ie}s`:qe===1?"1m":qe<12?`${qe}m`:`${Math.floor(qe/12)}a`},F=B=>{E(ae=>({key:B,direction:ae.key===B&&ae.direction==="asc"?"desc":"asc"}))},J=m.useMemo(()=>{let B=[...s];if(j||(B=B.filter(ae=>!ae.is_hidden)),d==="nicolas"||d==="technicien"&&(h&&(B=B.filter(ae=>ae.status==="proposed")),S.trim()&&(B=B.filter(ae=>ae.local.toLowerCase().includes(S.toLowerCase())))),k!=="all"&&(B=B.filter(ae=>k===""?!ae.usage:ae.usage===k)),A>0&&(B=B.filter(ae=>$(ae.dernierAccord)>=A)),T!=="all"&&d==="nicolas"){const ae=parseInt(T);B=B.filter(oe=>{if(!oe.local)return!1;const ge=oe.local.match(/^\d/);return ge&&parseInt(ge[0])===ae})}return B.sort((ae,oe)=>{switch(x.key){case"local":const ge=ae.local||"",Ne=oe.local||"";return x.direction==="asc"?ge.localeCompare(Ne,void 0,{numeric:!0}):Ne.localeCompare(ge,void 0,{numeric:!0});case"piano":const Ie=ae.piano||"",qe=oe.piano||"";return x.direction==="asc"?Ie.localeCompare(qe):qe.localeCompare(Ie);case"accord":const Dt=ae.dernierAccord?new Date(ae.dernierAccord).getTime():0,ei=oe.dernierAccord?new Date(oe.dernierAccord).getTime():0;return x.direction==="asc"?Dt-ei:ei-Dt;case"mois":const ti=$(ae.dernierAccord),ni=$(oe.dernierAccord);return x.direction==="asc"?ti-ni:ni-ti;default:return 0}}),B},[s,x,k,A,T,d,b,h,S,j,$]);m.useEffect(()=>{if(C.current&&J.length>=0){const B=w.size===J.length&&J.length>0,ae=w.size>0&&w.size<J.length;C.current.checked=B,C.current.indeterminate=ae}},[w.size,J.length]);const se=async B=>{const ae=s.find(Ne=>Ne.id===B);if(!ae)return;let oe,ge;ae.status==="normal"||!ae.status?(oe="proposed",ge=" faire"):ae.status==="proposed"?(oe="top",ge="Top priorit"):(ae.status,oe="normal",ge="Normal"),window.confirm(`Changer le statut de ${ae.local||ae.piano}   ${ge}  ?`)&&(a(s.map(Ne=>Ne.id===B?{...Ne,status:oe}:Ne)),await p(B,{status:oe}))},G=async B=>{const ae=s.find(oe=>oe.id===B);if(!ae){console.error(" Piano non trouv:",B);return}console.log(`
 TOGGLE PIANO:`,ae.serie||B),console.log("   Piano ID (gazelleId):",ae.id),R(oe=>{const ge=new Set(oe);return ge.has(B)?ge.delete(B):ge.add(B),ge})},Q=()=>R(new Set(J.map(B=>B.id))),ve=()=>R(new Set),re=async B=>{const ae=Array.from(w),oe=s.map(ge=>w.has(ge.id)?{...ge,status:B}:ge);a(oe),R(new Set);for(const ge of ae)await p(ge,{status:B})},He=async B=>{const ae=Array.from(w);a(s.map(oe=>w.has(oe.id)?{...oe,usage:B}:oe)),R(new Set);for(const oe of ae)await p(oe,{usage:B})},it=async()=>{const B=Array.from(w);if(B.length===0){alert("Aucun piano slectionn");return}if(confirm(`Masquer ${B.length} piano(s) de l'inventaire?`)){a(s.map(ae=>w.has(ae.id)?{...ae,is_hidden:!0}:ae)),R(new Set);for(const ae of B)await p(ae,{isHidden:!0})}},Xr=async(B,ae=!0)=>{a(s.map(oe=>oe.id===B?{...oe,is_work_completed:ae}:oe)),await p(B,{is_work_completed:ae})},$s=async(B,ae)=>{const oe=ae!==void 0?ae:H;if(!s.find(qe=>qe.id===B))return;let Ne=oe;const Ie=e==null?void 0:e.initials;Ie&&Ne.trim()&&!Ne.startsWith(`[${Ie}]`)&&(Ne=Ne.replace(/^\[.+?\]\s*/,""),Ne=`[${Ie}] ${Ne}`),a(s.map(qe=>qe.id===B?{...qe,travail:Ne,status:Ne?"work_in_progress":qe.status}:qe)),await p(B,{travail:Ne})};m.useEffect(()=>{console.log("[VincentDIndyDashboard] useEffect de chargement initial dclench");try{Z()}catch(B){console.error("[VincentDIndyDashboard] Erreur dans useEffect de chargement:",B),alert(`Erreur au chargement initial: ${B.message}

Stack: ${B.stack}`)}},[Z,r]),m.useEffect(()=>{d==="vdi"&&W()},[d,W]);const bf=m.useCallback(async B=>{Jt(B),await Z(B)},[Z]);m.useEffect(()=>{d==="nicolas"&&(async()=>{try{const ae=await fetch(`${un}/api/${r}/pianos-ready-for-push`);if(ae.ok){const oe=await ae.json();Ht(oe.count||0)}}catch(ae){console.error("Erreur chargement pianos prts:",ae)}})()},[s,d,r]);const Ps=m.useMemo(()=>!s||!Array.isArray(s)?{total:0,top:0,proposed:0,completed:0}:{total:s.length,top:s.filter(B=>B&&B.status==="top").length,proposed:s.filter(B=>B&&B.status==="proposed").length,completed:s.filter(B=>B&&B.status==="completed").length},[s]),$o=B=>w.has(B.id)?"bg-purple-100":B.status==="top"?"bg-orange-200":B.status==="proposed"?"bg-yellow-200":"bg-white",vn=async()=>{var B;if(jt===0){alert("Aucun piano prt pour tre envoy  Gazelle.");return}if(confirm(`Envoyer ${jt} piano(s) vers Gazelle?`)){St(!0);try{const oe=await(await fetch(`${un}/api/${r}/push-to-gazelle`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({technician_id:"usr_HcCiFk7o0vZ9xAI0",dry_run:!1})})).json();oe.success?(alert(` ${oe.pushed_count}/${oe.total_pianos} piano(s) envoy(s) avec succs!`),await Z()):(alert(` ${oe.pushed_count||0}/${oe.total_pianos||0} piano(s) envoy(s), ${oe.error_count||0} erreur(s).

Voir console pour dtails.`),console.error("Erreurs push:",((B=oe.results)==null?void 0:B.filter(ge=>ge.status==="error"))||[]))}catch(ae){alert(` Erreur lors du push: ${ae.message}`),console.error(ae)}finally{St(!1)}}},wf=async(B,ae)=>{var ge;const oe=ae||B;if(oe&&!xt[oe]){Oe(!0);try{console.log("[ valider] Chargement historique pour piano:",oe);const Ne=await fetch(`${un}/api/vincent-dindy/pianos/${oe}/timeline?limit=200`);if(!Ne.ok)throw new Error(`HTTP ${Ne.status}`);const Ie=await Ne.json();console.log("[ valider] Donnes brutes:",(ge=Ie.entries)==null?void 0:ge.slice(0,2));const qe=(Ie.entries||[]).map(Dt=>({date:Dt.date||"",text:Dt.summary||Dt.comment||"",entry_type:Dt.type||"NOTE",user:Dt.user||"",source:Dt.source||"gazelle"})).filter(Dt=>Dt.text.trim());console.log("[ valider] Entres transformes:",qe.slice(0,2)),zt(Dt=>({...Dt,[oe]:qe}))}catch(Ne){console.error("Erreur chargement historique:",Ne),zt(Ie=>({...Ie,[oe]:[]}))}finally{Oe(!1)}}},Rs=m.useMemo(()=>s.filter(B=>B.travail&&B.travail.trim()!==""&&!B.service_status).map(B=>({_type:"pending",_key:`pending-${B.id}`,_sortDate:B.updated_at||B.dernierAccord||"1970-01-01",pianoId:B.id,gazelleId:B.gazelleId||B.id,local:B.local,pianoName:`${B.piano}${B.modele?` ${B.modele}`:""}`,aFaire:B.aFaire||"",travail:B.travail,serviceDate:B.updated_at||"",status:"pending"})),[s]),Zr=m.useMemo(()=>s.filter(B=>B.service_status==="validated").map(B=>({_type:"validated_piano",_key:`vp-${B.id}`,_sortDate:B.updated_at||B.dernierAccord||"1970-01-01",pianoId:B.id,gazelleId:B.gazelleId||B.id,local:B.local,pianoName:`${B.piano}${B.modele?` ${B.modele}`:""}`,aFaire:B.aFaire||"",travail:B.travail||"",serviceDate:B.updated_at||"",status:"validated"})),[s]),Is=m.useMemo(()=>s.filter(B=>B.service_status==="pushed").map(B=>({_type:"pushed_piano",_key:`pp-${B.id}`,_sortDate:B.updated_at||B.dernierAccord||"1970-01-01",pianoId:B.id,gazelleId:B.gazelleId||B.id,local:B.local,pianoName:`${B.piano}${B.modele?` ${B.modele}`:""}`,aFaire:B.aFaire||"",travail:B.travail||"",serviceDate:B.updated_at||"",status:"pushed"})),[s]),jf=m.useCallback(async(B,ae)=>{const oe=ae||B;if(!(!oe||xt[oe]))try{const ge=await fetch(`${un}/api/vincent-dindy/pianos/${oe}/timeline?limit=200`);if(!ge.ok)return;const Ie=((await ge.json()).entries||[]).map(qe=>({date:qe.date||"",text:qe.summary||qe.comment||"",entry_type:qe.type||"NOTE",user:qe.user||"",source:qe.source||"gazelle"})).filter(qe=>qe.text.trim());zt(qe=>({...qe,[oe]:Ie}))}catch{zt(Ne=>({...Ne,[oe]:[]}))}},[xt]);if(m.useEffect(()=>{if(d!=="vdi")return;const B=async()=>{const ae=[];[...Rs,...Zr,...Is].forEach(oe=>{const ge=oe.gazelleId||oe.pianoId;ge&&!xt[ge]&&ae.push({pianoId:oe.pianoId,gazelleId:oe.gazelleId})});for(let oe=0;oe<ae.length;oe+=5){const ge=ae.slice(oe,oe+5);await Promise.all(ge.map(({pianoId:Ne,gazelleId:Ie})=>jf(Ne,Ie)))}};(Rs.length>0||Zr.length>0||Is.length>0)&&B()},[d,Rs.length,Zr.length,Is.length,jf]),i)return o.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:o.jsx("div",{className:"text-center",children:o.jsx("div",{className:"text-lg text-gray-600",children:"Chargement des pianos..."})})});if(c)return o.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:o.jsxs("div",{className:"text-center bg-white p-6 rounded-lg shadow max-w-md w-full",children:[o.jsx("div",{className:"text-red-600 mb-2 text-lg font-semibold",children:" Erreur"}),o.jsx("div",{className:"text-sm text-gray-600 mb-4",children:c}),o.jsx("button",{onClick:()=>{u(null),Z()},className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Ressayer"})]})});if(d==="vdi"){const B=new Set([...Zr.map(X=>X.pianoId),...Is.map(X=>X.pianoId)]),ae=Be.filter(X=>!B.has(X.piano_id)).map(X=>({_type:"history",_key:`history-${X.id}`,_sortDate:X.service_date||X.validated_at||X.created_at||"1970-01-01",entryId:X.id,pianoId:X.piano_id,gazelleId:X.gazelle_piano_id||X.piano_id,local:X.piano_local||"",pianoName:X.piano_name||"",aFaire:X.a_faire||"",travail:X.travail||"",serviceDate:X.service_date||"",status:X.status,validatedAt:X.validated_at,pushedAt:X.pushed_at,gazelleEventId:X.gazelle_event_id})),oe=[...Rs,...Zr,...Is,...ae].sort((X,We)=>(We._sortDate||"").localeCompare(X._sortDate||"")),ge=Rs.length,Ne=Zr.length,Ie=Is.length,qe=async X=>{try{const We=await fetch(`${un}/api/vincent-dindy/service-history/validate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({piano_ids:[X],validated_by:(e==null?void 0:e.email)||(e==null?void 0:e.name)||"Unknown"})});if(!We.ok)throw new Error(`HTTP ${We.status}`);a(s.map(ut=>ut.id===X?{...ut,service_status:"validated",last_validated_at:new Date().toISOString()}:ut)),await W()}catch(We){alert("Erreur validation: "+We.message)}},Dt=async()=>{if(ge!==0&&confirm(`Valider ${ge} piano(s)?`))try{const X=Rs.map(ut=>ut.pianoId),We=await fetch(`${un}/api/vincent-dindy/service-history/validate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({piano_ids:X,validated_by:(e==null?void 0:e.email)||(e==null?void 0:e.name)||"Unknown"})});if(!We.ok)throw new Error(`HTTP ${We.status}`);a(s.map(ut=>X.includes(ut.id)?{...ut,service_status:"validated",last_validated_at:new Date().toISOString()}:ut)),await W()}catch(X){alert("Erreur validation: "+X.message)}},ei=async()=>{if(Ne!==0&&confirm(`Pousser ${Ne} piano(s) valid(s) vers Gazelle?`)){St(!0);try{const We=await(await fetch(`${un}/api/vincent-dindy/service-history/push-tournee`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})})).json();if(We.success||We.pushed_count>0){alert(`${We.pushed_count} entre(s) pousse(s) vers Gazelle.`);const ut=Zr.map(Rt=>Rt.pianoId);a(s.map(Rt=>ut.includes(Rt.id)?{...Rt,service_status:"pushed"}:Rt))}else alert("Erreur: "+JSON.stringify(We));await W()}catch(X){alert("Erreur push: "+X.message)}finally{St(!1)}}},ti=async()=>{if(Ie!==0&&confirm(`Terminer la tourne? ${Ie} piano(s) seront nettoy(s) (notes effaces de l'affichage).`)){Ae(!0);try{const We=await(await fetch(`${un}/api/vincent-dindy/service-history/tournee-terminee`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})})).json();if(We.success){alert(`${We.cleaned_count} piano(s) nettoy(s). Tourne termine.`);const ut=new Set(We.piano_ids);a(s.map(Rt=>ut.has(Rt.id)?{...Rt,travail:"",aFaire:"",observations:"",status:"normal",service_status:null,is_work_completed:!1,last_validated_at:null}:Rt))}else alert("Erreur: "+(We.detail||JSON.stringify(We)));await W()}catch(X){alert("Erreur nettoyage: "+X.message)}finally{Ae(!1)}}},ni=async()=>{if(Se)try{const X=await fetch(`${un}/api/vincent-dindy/service-history/${Se}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({travail:De})});if(!X.ok)throw new Error(`HTTP ${X.status}`);Qe(null),Fe(""),await W()}catch(X){alert("Erreur sauvegarde: "+X.message)}},Vy=(X,We)=>{const ut=We||X;Ye===ut?Xe(null):(Xe(ut),wf(X,We))},Hy=X=>{const We=X.gazelleId||X.pianoId;Ye!==We&&(Xe(We),wf(X.pianoId,X.gazelleId))},Wy=({status:X})=>{const We={pending:{bg:"bg-blue-100",text:"text-blue-700",label:" valider"},validated:{bg:"bg-green-100",text:"text-green-700",label:"Valid"},pushed:{bg:"bg-gray-100",text:"text-gray-500",label:"Pouss"},error:{bg:"bg-red-100",text:"text-red-700",label:"Erreur"}},ut=We[X]||We.pending;return o.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-semibold ${ut.bg} ${ut.text}`,children:ut.label})},qy=({row:X})=>{const We=X.gazelleId||X.pianoId,ut=xt[We]||[],Rt=ut.length>0?ut[0]:null,Wt=()=>{if(!Rt)return null;const Ot=Rt.date?(()=>{try{const Tr=new Date(Rt.date);return isNaN(Tr.getTime())?Rt.date.slice(0,10):Tr.toLocaleDateString("fr-CA",{day:"numeric",month:"short",year:"2-digit"})}catch{return Rt.date.slice(0,10)||""}})():"";return o.jsxs("div",{className:"mt-1.5 pt-1.5 border-t border-gray-200",children:[o.jsxs("div",{className:"text-[10px] text-gray-400 mb-0.5",children:["Dernier service ",Ot?`(${Ot})`:""]}),o.jsx("div",{className:"text-[11px] text-gray-500 line-clamp-2",children:Rt.text})]})};return X._type==="pending"?Ce===X.pianoId?o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("textarea",{value:_e,onChange:Ot=>ye(Ot.target.value),className:"w-full border border-blue-300 rounded p-2 text-xs h-24 resize-y focus:outline-none focus:ring-2 focus:ring-blue-300",autoFocus:!0}),o.jsxs("div",{className:"flex gap-1.5",children:[o.jsx("button",{onClick:async()=>{a(s.map(Ot=>Ot.id===X.pianoId?{...Ot,travail:_e}:Ot)),await p(X.pianoId,{travail:_e}),de(null)},className:"px-2 py-1 text-xs font-medium rounded bg-blue-500 text-white hover:bg-blue-600",children:"Sauvegarder"}),o.jsx("button",{onClick:()=>de(null),className:"px-2 py-1 text-xs font-medium rounded bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Annuler"})]}),o.jsx(Wt,{})]}):o.jsxs("div",{children:[o.jsx("div",{onClick:Ot=>{Ot.stopPropagation(),de(X.pianoId),ye(X.travail)},className:"whitespace-pre-wrap cursor-pointer hover:bg-blue-50 hover:text-blue-700 rounded px-1 -mx-1 py-0.5 transition-colors",title:"Cliquer pour modifier",children:X.travail}),o.jsx(Wt,{})]}):X._type==="validated_piano"?Se===`vp-${X.pianoId}`?o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("textarea",{value:De,onChange:Ot=>Fe(Ot.target.value),className:"w-full border border-green-300 rounded p-2 text-xs h-24 resize-y focus:outline-none focus:ring-2 focus:ring-green-300",autoFocus:!0}),o.jsxs("div",{className:"flex gap-1.5",children:[o.jsx("button",{onClick:async()=>{const Ot=Be.find(Tr=>Tr.piano_id===X.pianoId&&Tr.status==="validated");Ot&&await fetch(`${un}/api/vincent-dindy/service-history/${Ot.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({travail:De})}),Qe(null),Fe(""),await W()},className:"px-2 py-1 text-xs font-medium rounded bg-green-500 text-white hover:bg-green-600",children:"Sauvegarder"}),o.jsx("button",{onClick:()=>Qe(null),className:"px-2 py-1 text-xs font-medium rounded bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Annuler"})]})]}):o.jsx("div",{onClick:()=>{Qe(`vp-${X.pianoId}`),Fe(X.travail)},className:"whitespace-pre-wrap cursor-pointer hover:bg-green-50 hover:text-green-700 rounded px-1 -mx-1 py-0.5 transition-colors",title:"Cliquer pour modifier avant le push",children:X.travail}):X._type==="pushed_piano"?o.jsx("div",{className:"whitespace-pre-wrap text-gray-500",children:X.travail}):X.status==="validated"&&X._type==="history"?Se===X.entryId?o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("textarea",{value:De,onChange:Ot=>Fe(Ot.target.value),className:"w-full border border-green-300 rounded p-2 text-xs h-24 resize-y focus:outline-none focus:ring-2 focus:ring-green-300",autoFocus:!0}),o.jsxs("div",{className:"flex gap-1.5",children:[o.jsx("button",{onClick:ni,className:"px-2 py-1 text-xs font-medium rounded bg-green-500 text-white hover:bg-green-600",children:"Sauvegarder"}),o.jsx("button",{onClick:()=>Qe(null),className:"px-2 py-1 text-xs font-medium rounded bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Annuler"})]})]}):o.jsx("div",{onClick:()=>{Qe(X.entryId),Fe(X.travail)},className:"whitespace-pre-wrap cursor-pointer hover:bg-green-50 hover:text-green-700 rounded px-1 -mx-1 py-0.5 transition-colors",title:"Cliquer pour modifier",children:X.travail}):o.jsx("div",{className:"whitespace-pre-wrap text-gray-500",children:X.travail})};return o.jsxs("div",{className:"min-h-screen bg-gray-100",children:[o.jsx(ma,{currentView:d,setCurrentView:g,setSelectedIds:R,hideNickView:n}),o.jsxs("div",{className:"w-full max-w-7xl mx-auto px-4 py-4 space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[ge>0&&o.jsxs("span",{className:"text-xs font-semibold text-blue-700 bg-blue-50 px-2 py-1 rounded-full",children:[ge,"  valider"]}),Ne>0&&o.jsxs("span",{className:"text-xs font-semibold text-green-700 bg-green-50 px-2 py-1 rounded-full",children:[Ne," valid",Ne>1?"s":""," ( pousser)"]}),Ie>0&&o.jsxs("span",{className:"text-xs font-semibold text-gray-600 bg-gray-100 px-2 py-1 rounded-full",children:[Ie," pouss",Ie>1?"s":""]}),oe.length===0&&!Ge&&o.jsx("span",{className:"text-sm text-gray-500",children:"Aucune entre."})]}),o.jsxs("div",{className:"flex gap-2",children:[ge>0&&o.jsxs("button",{onClick:Dt,className:"px-3 py-1.5 text-xs font-medium bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:["Valider tout (",ge,")"]}),Ne>0&&o.jsx("button",{onClick:ei,disabled:ce,className:"px-3 py-1.5 text-xs font-medium bg-orange-500 text-white rounded-lg hover:bg-orange-600 disabled:opacity-50 transition-colors",children:ce?"Envoi...":`Pousser vers Gazelle (${Ne})`}),Ie>0&&Ne===0&&o.jsx("button",{onClick:ti,disabled:$e,className:"px-3 py-1.5 text-xs font-medium bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 transition-colors",children:$e?"Nettoyage...":`Tourne termine (${Ie})`})]})]}),Ge&&oe.length===0?o.jsx("div",{className:"bg-white rounded-lg shadow p-6 text-center text-gray-500",children:"Chargement..."}):oe.length===0?o.jsx("div",{className:"bg-white rounded-lg shadow p-6 text-center text-gray-500",children:"Aucun service en attente de validation ou dans l'historique."}):o.jsx("div",{className:"bg-white rounded-lg shadow overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-50 border-b text-left text-xs font-medium text-gray-500 uppercase",children:[o.jsx("th",{className:"px-3 py-2 w-20",children:"Statut"}),o.jsx("th",{className:"px-3 py-2",children:"Local"}),o.jsx("th",{className:"px-3 py-2",children:"Piano"}),o.jsx("th",{className:"px-3 py-2",children:" faire"}),o.jsx("th",{className:"px-3 py-2",children:"Notes technicien"}),o.jsx("th",{className:"px-3 py-2 w-24",children:"Service"}),o.jsx("th",{className:"px-3 py-2 w-28 text-center",children:"Action"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:oe.map(X=>{const We=X.gazelleId||X.pianoId,ut=Ye===We,Rt=xt[We]||[];return o.jsxs(jn.Fragment,{children:[o.jsxs("tr",{onClick:()=>Hy(X),className:`cursor-pointer ${X.status==="pending"?"bg-blue-50/30 hover:bg-blue-50":X.status==="validated"?"bg-green-50/30 hover:bg-green-50":X.status==="error"?"bg-red-50/30":"bg-gray-50/30 hover:bg-gray-50"}`,children:[o.jsx("td",{className:"px-3 py-2",children:o.jsx(Wy,{status:X.status})}),o.jsx("td",{className:"px-3 py-2 font-medium whitespace-nowrap",children:X.local}),o.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-gray-600",children:X.pianoName}),o.jsx("td",{className:"px-3 py-2 text-xs text-gray-600",children:X.aFaire||"-"}),o.jsx("td",{className:"px-3 py-2 text-xs text-gray-800 max-w-md",children:o.jsx(qy,{row:X})}),o.jsx("td",{className:"px-3 py-2 text-[10px] text-gray-400 whitespace-nowrap",children:X.serviceDate?new Date(X.serviceDate).toLocaleDateString("fr-CA",{day:"numeric",month:"short"}):"-"}),o.jsx("td",{className:"px-3 py-2 text-center",children:o.jsxs("div",{className:"flex items-center justify-center gap-1",children:[X.status==="pending"&&o.jsx("button",{onClick:()=>qe(X.pianoId),className:"px-2 py-1 text-xs font-medium bg-green-500 text-white rounded hover:bg-green-600 transition-colors",children:"Valider"}),o.jsx("button",{onClick:()=>Vy(X.pianoId,X.gazelleId),className:`p-1 rounded transition-colors ${ut?"text-blue-600 bg-blue-100":"text-gray-400 hover:text-blue-600"}`,title:"Voir l'historique d'entretien",children:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})})]}),ut&&o.jsx("tr",{className:"bg-blue-50/50",children:o.jsxs("td",{colSpan:"7",className:"px-4 py-3",children:[o.jsxs("div",{className:"text-xs font-semibold text-blue-800 mb-2",children:[" Historique de Service ",ne?"(chargement...)":`(${Rt.length} entres)`]}),ne?o.jsx("div",{className:"text-xs text-gray-500 italic",children:"Chargement de l'historique..."}):Rt.length===0?o.jsx("div",{className:"text-xs text-gray-500 italic",children:"Aucun historique trouv pour ce piano."}):o.jsx("div",{className:"space-y-1.5 max-h-64 overflow-y-auto pr-2",children:Rt.map((Wt,Ot)=>o.jsx("div",{className:"bg-white p-2 rounded border-l-4 border-blue-400 shadow-sm",children:o.jsxs("div",{className:"flex items-start gap-2 text-[11px]",children:[o.jsx("span",{className:"text-blue-600 font-medium min-w-[75px]",children:(()=>{if(!Wt.date)return"";try{const Tr=new Date(Wt.date);return isNaN(Tr.getTime())?Wt.date.slice(0,10):Tr.toLocaleDateString("fr-CA",{day:"numeric",month:"short",year:"2-digit"})}catch{return Wt.date.slice(0,10)||""}})()}),o.jsx("span",{className:`uppercase min-w-[55px] font-medium ${Wt.entry_type==="SERVICE"?"text-green-600":Wt.entry_type==="MEASUREMENT"?"text-purple-600":"text-gray-400"}`,children:Wt.entry_type==="SERVICE_ENTRY_MANUAL"?"Service":Wt.entry_type==="MEASUREMENT"?"Mesure":Wt.entry_type==="SERVICE"?Wt.source==="local"?"Local":"Service":Wt.entry_type||"Note"}),Wt.user&&o.jsx("span",{className:"text-gray-400 min-w-[80px]",children:Wt.user}),o.jsx("p",{className:"text-gray-700 whitespace-pre-wrap flex-1 line-clamp-2",children:Wt.text})]})},Ot))})]})})]},X._key)})})]})})]})]})}return d==="technicien"?(console.log(" [VincentDIndyDashboard] Rendu vue technicien"),console.log(" [VincentDIndyDashboard] Props pour VDI_TechnicianView:",{selectedInstitutionForTechnician:_t,institution:r,finalSelectedInstitution:_t||r}),o.jsxs("div",{className:"min-h-screen bg-gray-100",children:[o.jsx(ma,{currentView:d,setCurrentView:g,setSelectedIds:R,hideNickView:n}),o.jsx("div",{className:"w-full max-w-md mx-auto px-4 py-4 sm:px-3 sm:py-2",children:o.jsx("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 overflow-hidden",children:o.jsx(gy,{pianos:s,stats:Ps,showOnlyProposed:h,setShowOnlyProposed:v,searchLocal:S,setSearchLocal:y,expandedPianoId:I,setExpandedPianoId:M,travailInput:H,setTravailInput:L,saveTravail:$s,markWorkCompleted:Xr,moisDepuisAccord:$,formatDateRelative:z,pianosFiltres:J,selectedInstitution:_t||r,setSelectedInstitution:Jt,onInstitutionChange:bf})})})]})):o.jsxs("div",{className:"min-h-screen bg-gray-100 p-4",children:[o.jsx(ma,{currentView:d,setCurrentView:g,setSelectedIds:R,hideNickView:n}),d==="nicolas"&&o.jsx(xy,{pianosFiltres:J,pianos:s,setPianos:a,stats:Ps,institution:r,currentUser:e,setShowOnlySelected:N,showOnlySelected:b,showAllPianos:j,setShowAllPianos:f,filterUsage:k,setFilterUsage:P,filterAccordDepuis:A,setFilterAccordDepuis:_,usages:U,selectedIds:w,setSelectedIds:R,selectAllCheckboxRef:C,loadPianosFromAPI:Z,loading:i,selectAll:Q,deselectAll:ve,toggleProposed:se,toggleSelected:G,batchSetStatus:re,batchSetUsage:He,batchHideFromInventory:it,savePianoToAPI:p,editingAFaireId:te,setEditingAFaireId:Ee,aFaireInput:be,setAFaireInput:le,sortConfig:x,handleSort:F,getRowClass:$o,moisDepuisAccord:$,formatDateRelative:z,filterEtage:T,setFilterEtage:O,handlePushToGazelle:vn,readyForPushCount:jt,pushInProgress:ce})]})};console.log("[OrfordDashboard] Fichier charg - ligne 1");const Bs="https://assistant-gazelle-v5-api.onrender.com",Rh=({currentUser:e,initialView:t="nicolas",hideNickView:n=!1,institution:r="orford"})=>{const[s,a]=m.useState([]),[i,l]=m.useState(!0),[c,u]=m.useState(null),[d,g]=m.useState(n?"technicien":t);m.useEffect(()=>{n&&d!=="technicien"&&g("technicien")},[n,d]);const[b,N]=m.useState(!1),[h,v]=m.useState(!1),[S,y]=m.useState(""),[j,f]=m.useState(!1),[x,E]=m.useState({key:"local",direction:"asc"}),[k,P]=m.useState("all"),[A,_]=m.useState(0),[T,O]=m.useState("all"),[w,R]=m.useState(new Set),C=m.useRef(null),[I,M]=m.useState(null),[H,L]=m.useState(""),[D,Y]=m.useState(""),[K,fe]=m.useState(!1),[te,Ee]=m.useState(null),[be,le]=m.useState(""),[je,Ve]=m.useState(null),[ze,he]=m.useState(""),[Ce,de]=m.useState("orford"),[_e,ye]=m.useState(r),[Se,Qe]=m.useState(0),[De,Fe]=m.useState(!1),Be=["Piano","Accompagnement","Pratique","Concert","Enseignement","Loisir"],Pe=m.useCallback(async(U=null)=>{var Z;try{l(!0),u(null);const W=U||r;console.log(" Chargement des pianos depuis:",Bs,"pour institution:",W);const p=`${Bs}/api/${W}/pianos?include_inactive=true`,z=await(await fetch(p)).json();console.log(" Donnes reues:",z),console.log(" Nombre de pianos:",z.count||((Z=z.pianos)==null?void 0:Z.length)||0),z.error?(console.error(" Erreur API:",z.message),u(z.message||"Erreur lors du chargement des pianos"),a([])):(a(z.pianos||[]),z.debug&&console.log(" Debug:",z.debug))}catch(W){console.error(" Erreur lors du chargement des pianos:",W),u(W.message||"Erreur lors du chargement des pianos"),a([])}finally{l(!1)}},[r]),Ge=m.useCallback(async U=>{ye(U),await Pe(U)},[Pe]),ue=async(U,Z)=>{try{const W={...Z,updated_by:(e==null?void 0:e.email)||(e==null?void 0:e.name)||"Unknown"},p=await fetch(`${Bs}/api/${r}/pianos/${U}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)});if(!p.ok){const $=await p.json().catch(()=>({detail:"Erreur inconnue"}));throw new Error($.detail||`Erreur ${p.status}`)}return console.log(" Piano sauvegard par",e==null?void 0:e.name,":",U,W),p.json()}catch(W){console.error(" Erreur lors de la sauvegarde:",W),alert(`Erreur lors de la sauvegarde: ${W.message}`),await Pe()}},$e=U=>{if(!U||U.trim()==="")return 999;const Z=new Date(U);return isNaN(Z.getTime())?999:Math.floor((new Date-Z)/(1e3*60*60*24*30))},Ae=U=>{if(!U||U.trim()==="")return"-";const Z=new Date(U);if(isNaN(Z.getTime()))return"-";const p=new Date-Z,$=Math.floor(p/(1e3*60*60*24)),z=Math.floor($/7),F=Math.floor($/30);return $===0?"Aujourd'hui":$===1?"1j":$<7?`${$}j`:z===1?"1s":z<4?`${z}s`:F===1?"1m":F<12?`${F}m`:`${Math.floor(F/12)}a`},Ye=U=>{E(Z=>({key:U,direction:Z.key===U&&Z.direction==="asc"?"desc":"asc"}))},Xe=m.useMemo(()=>{let U=[...s];if(j||(U=U.filter(Z=>!Z.is_hidden)),d==="nicolas"||d==="technicien"&&(h&&(U=U.filter(Z=>Z.status==="proposed")),S.trim()&&(U=U.filter(Z=>Z.local.toLowerCase().includes(S.toLowerCase())))),k!=="all"&&(U=U.filter(Z=>k===""?!Z.usage:Z.usage===k)),A>0&&(U=U.filter(Z=>$e(Z.dernierAccord)>=A)),T!=="all"&&d==="nicolas"){const Z=parseInt(T);U=U.filter(W=>{if(!W.local)return!1;const p=W.local.match(/^\d/);return p&&parseInt(p[0])===Z})}return U.sort((Z,W)=>{switch(x.key){case"local":const p=Z.local||"",$=W.local||"";return x.direction==="asc"?p.localeCompare($,void 0,{numeric:!0}):$.localeCompare(p,void 0,{numeric:!0});case"piano":const z=Z.piano||"",F=W.piano||"";return x.direction==="asc"?z.localeCompare(F):F.localeCompare(z);case"accord":const J=Z.dernierAccord?new Date(Z.dernierAccord).getTime():0,se=W.dernierAccord?new Date(W.dernierAccord).getTime():0;return x.direction==="asc"?J-se:se-J;case"mois":const G=$e(Z.dernierAccord),Q=$e(W.dernierAccord);return x.direction==="asc"?G-Q:Q-G;default:return 0}}),U},[s,x,k,A,T,d,b,h,S,j,$e]);m.useEffect(()=>{if(C.current&&Xe.length>=0){const U=w.size===Xe.length&&Xe.length>0,Z=w.size>0&&w.size<Xe.length;C.current.checked=U,C.current.indeterminate=Z}},[w.size,Xe.length]);const xt=async U=>{const Z=s.find(p=>p.id===U);if(!Z)return;let W;Z.status==="normal"||!Z.status?W="proposed":Z.status==="proposed"?W="completed":Z.status==="completed"&&(W="normal"),a(s.map(p=>p.id===U?{...p,status:W}:p)),await ue(U,{status:W})},zt=async U=>{const Z=s.find(W=>W.id===U);if(!Z){console.error(" Piano non trouv:",U);return}console.log(`
 TOGGLE PIANO:`,Z.serie||U),console.log("   Piano ID (gazelleId):",Z.id),R(W=>{const p=new Set(W);return p.has(U)?p.delete(U):p.add(U),p})},ne=()=>R(new Set(Xe.map(U=>U.id))),Oe=()=>R(new Set),we=async U=>{const Z=Array.from(w),W=s.map(p=>w.has(p.id)?{...p,status:U}:p);a(W),R(new Set);for(const p of Z)await ue(p,{status:U})},ke=async U=>{const Z=Array.from(w);a(s.map(W=>w.has(W.id)?{...W,usage:U}:W)),R(new Set);for(const W of Z)await ue(W,{usage:U})},_t=async()=>{const U=Array.from(w);if(U.length===0){alert("Aucun piano slectionn");return}if(confirm(`Masquer ${U.length} piano(s) de l'inventaire?`)){a(s.map(Z=>w.has(Z.id)?{...Z,is_hidden:!0}:Z)),R(new Set);for(const Z of U)await ue(Z,{isHidden:!0})}},Jt=async U=>{const Z=s.find(W=>W.id===U);if(Z)try{const W={technician_name:"Technicien",client_name:"Orford Musique",piano_id:Z.gazelleId||null,date:new Date().toISOString().split("T")[0],report_type:"maintenance",description:`Travail effectu sur piano ${Z.piano} (Srie: ${Z.serie}) - Local: ${Z.local}`,service_history_notes:Z.aFaire?` faire: ${Z.aFaire}

Travail: ${H}

Observations: ${D}`:`Travail: ${H}

Observations: ${D}`,hours_worked:null,institution:r||"orford"};await hk(Bs,W);let p=Z.status;K?p="completed":H&&(p="work_in_progress"),a(s.map(F=>F.id===U?{...F,travail:H,is_work_completed:K,status:p}:F)),await ue(U,{travail:H,isWorkCompleted:K,status:p});const $=Xe.findIndex(F=>F.id===U),z=Xe[$+1];z&&z.status==="proposed"?(M(z.id),L(z.travail||""),Y(z.observations||"")):M(null)}catch(W){console.error("Erreur lors de la sauvegarde:",W),alert("Erreur lors de la sauvegarde du rapport. Veuillez ressayer.")}};m.useEffect(()=>{console.log("[OrfordDashboard] useEffect de chargement initial dclench");try{Pe()}catch(U){console.error("[OrfordDashboard] Erreur dans useEffect de chargement:",U),alert(`Erreur au chargement initial: ${U.message}

Stack: ${U.stack}`)}},[Pe,r]),m.useEffect(()=>{d==="nicolas"&&(async()=>{try{const Z=await fetch(`${Bs}/api/${r}/pianos-ready-for-push`);if(Z.ok){const W=await Z.json();Qe(W.count||0)}}catch(Z){console.error("Erreur chargement pianos prts:",Z)}})()},[s,d,r]);const jt=m.useMemo(()=>!s||!Array.isArray(s)?{total:0,top:0,proposed:0,completed:0}:{total:s.length,top:s.filter(U=>U&&U.status==="top").length,proposed:s.filter(U=>U&&(U.status==="proposed"||U.aFaire&&U.aFaire.trim()!=="")).length,completed:s.filter(U=>U&&U.status==="completed").length},[s]),Ht=U=>w.has(U.id)?"bg-purple-100":U.status==="top"?"bg-amber-200":U.status==="completed"&&U.is_work_completed?"bg-green-200":U.status==="work_in_progress"||U.travail&&U.travail.trim()!==""&&!U.is_work_completed?"bg-blue-200":U.status==="proposed"||U.aFaire&&U.aFaire.trim()!==""?"bg-yellow-200":"bg-white",ce=U=>{switch(U){case"pending":return"";case"pushed":return"";case"modified":return"";case"error":return"";default:return""}},St=async()=>{var U;if(Se===0){alert("Aucun piano prt pour tre envoy  Gazelle.");return}if(confirm(`Envoyer ${Se} piano(s) vers Gazelle?`)){Fe(!0);try{const W=await(await fetch(`${Bs}/api/${r}/push-to-gazelle`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({technician_id:"usr_HcCiFk7o0vZ9xAI0",dry_run:!1})})).json();W.success?(alert(` ${W.pushed_count}/${W.total_pianos} piano(s) envoy(s) avec succs!`),await Pe()):(alert(` ${W.pushed_count||0}/${W.total_pianos||0} piano(s) envoy(s), ${W.error_count||0} erreur(s).

Voir console pour dtails.`),console.error("Erreurs push:",((U=W.results)==null?void 0:U.filter(p=>p.status==="error"))||[]))}catch(Z){alert(` Erreur lors du push: ${Z.message}`),console.error(Z)}finally{Fe(!1)}}};return i?o.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:o.jsx("div",{className:"text-center",children:o.jsx("div",{className:"text-lg text-gray-600",children:"Chargement des pianos..."})})}):c?o.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:o.jsxs("div",{className:"text-center bg-white p-6 rounded-lg shadow max-w-md w-full",children:[o.jsx("div",{className:"text-red-600 mb-2 text-lg font-semibold",children:" Erreur"}),o.jsx("div",{className:"text-sm text-gray-600 mb-4",children:c}),o.jsx("button",{onClick:()=>{u(null),Pe()},className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Ressayer"})]})}):d==="technicien"?o.jsxs("div",{className:"min-h-screen bg-gray-100",children:[o.jsx(ma,{currentView:d,setCurrentView:g,setSelectedIds:R,hideNickView:n}),o.jsx("div",{className:"w-full max-w-md mx-auto px-4 py-4 sm:px-3 sm:py-2",children:o.jsx("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 overflow-hidden",children:o.jsx(gy,{pianos:s,stats:jt,showOnlyProposed:h,setShowOnlyProposed:v,searchLocal:S,setSearchLocal:y,expandedPianoId:I,setExpandedPianoId:M,travailInput:H,setTravailInput:L,observationsInput:D,setObservationsInput:Y,isWorkCompleted:K,setIsWorkCompleted:fe,saveTravail:Jt,moisDepuisAccord:$e,formatDateRelative:Ae,getSyncStatusIcon:ce,pianosFiltres:Xe,selectedInstitution:_e,setSelectedInstitution:ye,onInstitutionChange:Ge})})})]}):o.jsxs("div",{className:"min-h-screen bg-gray-100 p-4",children:[o.jsx(ma,{currentView:d,setCurrentView:g,setSelectedIds:R,hideNickView:n}),d==="nicolas"&&o.jsx(xy,{pianosFiltres:Xe,pianos:s,setPianos:a,stats:jt,institution:r,currentUser:e,setShowOnlySelected:N,showOnlySelected:b,showAllPianos:j,setShowAllPianos:f,filterUsage:k,setFilterUsage:P,filterAccordDepuis:A,setFilterAccordDepuis:_,usages:Be,selectedIds:w,setSelectedIds:R,selectAllCheckboxRef:C,loadPianosFromAPI:Pe,loading:i,selectAll:ne,deselectAll:Oe,toggleProposed:xt,toggleSelected:zt,batchSetStatus:we,batchSetUsage:ke,batchHideFromInventory:_t,handlePushToGazelle:St,savePianoToAPI:ue,readyForPushCount:Se,pushInProgress:De,editingAFaireId:te,setEditingAFaireId:Ee,aFaireInput:be,setAFaireInput:le,editingNotesId:je,setEditingNotesId:Ve,notesInput:ze,setNotesInput:he,sortConfig:x,handleSort:Ye,getRowClass:Ht,moisDepuisAccord:$e,formatDateRelative:Ae,getSyncStatusIcon:ce,filterEtage:T,setFilterEtage:O})]})},vk=[{id:1,name:"Allan",initials:"AS",email:on.admin.email,role:"admin",pin:"6342",gazelleId:"usr_ofYggsCDt2JAVeNP"},{id:2,name:"Louise",initials:"L",email:on.louise.email,role:"admin",pin:"6343",gazelleId:null},{id:3,name:"Nick",initials:"NL",email:on.nick.email,role:"technician",pin:"6344",gazelleId:"usr_HcCiFk7o0vZ9xAI0"},{id:4,name:"JP",initials:"JP",email:on.jeanphilippe.email,role:"technician",pin:"6345",gazelleId:"usr_ReUSmIJmBF86ilY1"},{id:5,name:"Margot",initials:"MC",email:on.margot.email,role:"assistant",pin:"6341",gazelleId:"usr_bbt59aCUqUaDWA8n"},{id:6,name:"Alexandre",initials:"AB",email:"alexandre.bourke@gmail.com",role:"technician_vdi",pin:"6346",gazelleId:null},{id:7,name:"Nikolas",initials:"NG",email:"nikolas.gaudreault@gmail.com",role:"technician_vdi",pin:"6347",gazelleId:null},{id:8,name:"Guillaume",initials:"GL",email:"guillaume@laccordeur.ca",role:"technician_vdi",pin:"6348",gazelleId:null}];function bk({onLogin:e}){const[t,n]=m.useState(""),[r,s]=m.useState("");m.useEffect(()=>{const c=u=>{u.key>="0"&&u.key<="9"?(u.preventDefault(),a(u.key)):u.key==="Backspace"||u.key==="Delete"?(u.preventDefault(),i()):u.key==="Enter"&&t.length===4&&(u.preventDefault(),l(t))};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[t]);const a=c=>{if(t.length<4){const u=t+c;n(u),s(""),u.length===4&&setTimeout(()=>{l(u)},100)}},i=()=>{n(t.slice(0,-1)),s("")},l=c=>{const u=vk.find(d=>d.pin===c);u?(localStorage.setItem("currentUser",JSON.stringify(u)),e(u)):(s("PIN incorrect"),setTimeout(()=>{n(""),s("")},1e3))};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-4",children:[o.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-sm w-full overflow-hidden",children:o.jsxs("div",{className:"p-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"text-4xl mb-4",children:""}),o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Entrez votre PIN"})]}),o.jsx("div",{className:"mb-8",children:o.jsx("div",{className:"flex justify-center gap-3",children:[0,1,2,3].map(c=>o.jsx("div",{className:`w-14 h-14 rounded-xl border-2 flex items-center justify-center transition-all ${t.length>c?"border-blue-500 bg-blue-50":"border-gray-300 bg-white"}`,children:t.length>c&&o.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"})},c))})}),r&&o.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm text-center animate-shake",children:r}),o.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[[1,2,3,4,5,6,7,8,9].map(c=>o.jsx("button",{onClick:()=>a(c.toString()),className:"h-16 rounded-xl bg-gray-100 hover:bg-gray-200 active:bg-gray-300 font-semibold text-xl text-gray-800 transition-colors touch-manipulation",disabled:t.length>=4,children:c},c)),o.jsx("div",{}),o.jsx("button",{onClick:()=>a("0"),className:"h-16 rounded-xl bg-gray-100 hover:bg-gray-200 active:bg-gray-300 font-semibold text-xl text-gray-800 transition-colors touch-manipulation",disabled:t.length>=4,children:"0"}),o.jsx("button",{onClick:i,className:"h-16 rounded-xl bg-red-50 hover:bg-red-100 active:bg-red-200 font-semibold text-xl text-red-600 transition-colors touch-manipulation flex items-center justify-center",disabled:t.length===0,children:""})]}),o.jsxs("div",{className:"text-center text-xs text-gray-400 mt-6",children:[o.jsx("div",{children:"Code PIN  4 chiffres"}),o.jsx("div",{className:"mt-1 text-gray-500",children:" Clavier ou pav tactile"})]})]})}),o.jsx("style",{children:`
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          25% { transform: translateX(-8px); }
          75% { transform: translateX(8px); }
        }
        .animate-shake {
          animation: shake 0.3s ease-in-out;
        }
        .touch-manipulation {
          -webkit-tap-highlight-color: transparent;
          user-select: none;
        }
      `})]})}const pe="https://assistant-gazelle-v5-api.onrender.com";console.log("[apiConfig] Mode production - API_URL:",pe);function wk({currentUser:e}){const[t,n]=m.useState([]),[r,s]=m.useState(null),[a,i]=m.useState([]),[l,c]=m.useState(!0),[u,d]=m.useState(null),[g,b]=m.useState(new Date);m.useEffect(()=>{N();const _=setInterval(N,6e4);return()=>clearInterval(_)},[]);const N=async()=>{c(!0),await Promise.all([h(),v(),S()]),b(new Date),c(!1)},h=async()=>{try{const _=await fetch(`${pe}/api/sync-logs/recent?limit=15`);if(_.ok){const T=await _.json();n(T.logs||[])}}catch(_){console.error("Erreur sync logs:",_),d(_.message)}},v=async()=>{try{const _=await fetch(`${pe}/api/sync-logs/stats`);if(_.ok){const T=await _.json();s(T)}}catch(_){console.error("Erreur sync stats:",_)}},S=async()=>{try{const _=await fetch(`${pe}/api/alertes-rv/late-assignment?limit=20`);if(_.ok){const T=await _.json();i(T.alerts||[])}}catch(_){console.error("Erreur late alerts:",_)}},y=_=>{if(!_)return"--:--";try{return new Date(_).toLocaleTimeString("fr-CA",{hour:"2-digit",minute:"2-digit"})}catch{return"--:--"}},j=_=>{if(!_)return"N/A";try{return new Date(_).toLocaleDateString("fr-CA",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"})}catch{return _}},f=_=>{if(!_)return"N/A";const T=Date.now()-new Date(_).getTime(),O=Math.floor(T/6e4);if(O<1)return" l'instant";if(O<60)return`${O} min`;const w=Math.floor(O/60);return w<24?`${w}h`:j(_)},E=(()=>{if(!r||!t.length)return{status:"unknown",color:"gray",text:"Chargement..."};const _=t[0],T=new Date((_==null?void 0:_.created_at)||0),O=(Date.now()-T.getTime())/36e5;return(_==null?void 0:_.status)==="error"?{status:"error",color:"red",text:"Erreur dernire sync"}:O>2?{status:"warning",color:"yellow",text:`Dernire sync: ${f(_==null?void 0:_.created_at)}`}:{status:"ok",color:"green",text:"Systme oprationnel"}})(),k=a.filter(_=>_.status==="pending"),P=a.filter(_=>_.status==="sent"),A=_=>{const T=_.stats||_.tables_updated||{};if(typeof T=="string")try{return JSON.parse(T)}catch{return{}}return T};return l&&t.length===0?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-pulse text-gray-500",children:"Chargement..."})}):o.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6 space-y-6",children:[o.jsx("div",{className:`rounded-xl p-6 shadow-lg border-2 ${E.color==="green"?"bg-green-50 border-green-400":E.color==="red"?"bg-red-50 border-red-400":E.color==="yellow"?"bg-yellow-50 border-yellow-400":"bg-gray-50 border-gray-300"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:`w-5 h-5 rounded-full animate-pulse ${E.color==="green"?"bg-green-500":E.color==="red"?"bg-red-500":E.color==="yellow"?"bg-yellow-500":"bg-gray-400"}`}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Tableau de Bord"}),o.jsx("p",{className:`text-sm ${E.color==="green"?"text-green-700":E.color==="red"?"text-red-700":"text-yellow-700"}`,children:E.text})]})]}),o.jsxs("div",{className:"flex gap-6 text-center",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-bold text-gray-800",children:(r==null?void 0:r.success_count)||0}),o.jsx("div",{className:"text-xs text-gray-500",children:"Syncs (24h)"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-bold text-orange-600",children:k.length}),o.jsx("div",{className:"text-xs text-gray-500",children:"En attente"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:P.length}),o.jsx("div",{className:"text-xs text-gray-500",children:"Envoyes"})]})]}),o.jsxs("button",{onClick:N,disabled:l,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium hover:bg-gray-50 transition-colors disabled:opacity-50",children:[l?"":""," Actualiser"]})]})}),u&&o.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:[" ",u]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:o.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:" Timeline des Synchronisations"})}),o.jsx("div",{className:"divide-y divide-gray-100 max-h-[350px] overflow-y-auto",children:t.length===0?o.jsx("div",{className:"py-12 text-center text-gray-400",children:"Aucune synchronisation enregistre"}):t.map((_,T)=>{const O=A(_),w=_.status==="success",R=_.status==="error";return o.jsxs("div",{className:`px-6 py-4 flex items-center gap-4 hover:bg-gray-50 ${R?"bg-red-50":""}`,children:[o.jsx("div",{className:"w-16 text-center",children:o.jsx("div",{className:"text-lg font-mono font-bold text-gray-700",children:y(_.created_at)})}),o.jsx("div",{className:`w-3 h-3 rounded-full flex-shrink-0 ${w?"bg-green-500":R?"bg-red-500":"bg-yellow-500"}`}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium text-gray-900 truncate",children:_.script_name||"Sync Gazelle"}),_.execution_time_seconds&&o.jsxs("span",{className:"text-xs text-gray-400",children:["(",_.execution_time_seconds,"s)"]})]}),_.message&&o.jsx("p",{className:"text-sm text-gray-500 truncate",children:_.message}),(_.error_details||_.error_message)&&o.jsxs("p",{className:"text-sm text-red-600 truncate",children:[" ",_.error_details||_.error_message]})]}),o.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[O.appointments!==void 0&&o.jsxs("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded",children:[O.appointments," RV"]}),O.clients!==void 0&&O.clients>0&&o.jsxs("span",{className:"bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded",children:[O.clients," clients"]})]})]},_.id||T)})})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[o.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200 flex items-center justify-between",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:" Alertes Email (Dernire Minute)"}),o.jsxs("div",{className:"flex gap-3 text-sm",children:[o.jsxs("span",{className:"bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full",children:[k.length," en attente"]}),o.jsxs("span",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full",children:[P.length," envoyes"]})]})]}),o.jsx("div",{className:"divide-y divide-gray-100 max-h-[300px] overflow-y-auto",children:a.length===0?o.jsx("div",{className:"py-12 text-center text-gray-400",children:"Aucune alerte email"}):a.map((_,T)=>{var C;const O=_.status==="pending",w=_.status==="sent",R=_.status==="failed";return o.jsxs("div",{className:`px-6 py-4 flex items-center gap-4 ${O?"bg-yellow-50":R?"bg-red-50":"hover:bg-gray-50"}`,children:[o.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 text-xl",children:O?"":w?"":""}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"font-medium text-gray-900",children:[_.appointment_date," ",(C=_.appointment_time)==null?void 0:C.slice(0,5)]}),o.jsx("span",{className:"text-gray-400",children:""}),o.jsxs("span",{className:"text-gray-700 truncate",children:[_.technician_first_name||""," ",_.technician_last_name||_.technician_id]})]}),o.jsxs("div",{className:"text-sm text-gray-500 truncate",children:[_.client_name||"Client N/A",_.technician_email&&o.jsxs("span",{className:"text-gray-400 ml-2",children:["(",_.technician_email,")"]})]})]}),o.jsxs("div",{className:"text-right text-xs text-gray-500 flex-shrink-0",children:[O&&_.scheduled_send_at&&o.jsxs("div",{children:["Envoi: ",j(_.scheduled_send_at)]}),w&&_.sent_at&&o.jsxs("div",{className:"text-green-600",children:["Envoy: ",f(_.sent_at)]}),R&&o.jsx("div",{className:"text-red-600",children:"chec"})]})]},_.id||T)})})]}),o.jsxs("div",{className:"text-center text-xs text-gray-400",children:["Dernire actualisation: ",g.toLocaleTimeString("fr-CA"),"  Sync horaire 7h-21h  Buffer 5 min avant envoi"]})]})}const jk=({data:e=[],filename:t="export",columns:n=null,className:r=""})=>{const[s,a]=m.useState(!1),l=n||["code_produit","nom","categorie","description","unite_mesure","prix_unitaire","fournisseur","has_commission","commission_rate","variant_group","variant_label","display_order","is_active"],c=(d,g)=>{if(!d||d.length===0)return"";const b=g.map(v=>({code_produit:"Code Produit",nom:"Nom",categorie:"Catgorie",description:"Description",unite_mesure:"Unit",prix_unitaire:"Prix Unitaire",fournisseur:"Fournisseur",has_commission:"Avec Commission",commission_rate:"Taux Commission (%)",variant_group:"Groupe Variantes",variant_label:"Label Variante",display_order:"Ordre Affichage",is_active:"Actif"})[v]||v),N=d.map(v=>g.map(S=>{let y=v[S];return y==null?y="":typeof y=="boolean"?y=y?"Oui":"Non":typeof y=="number"?y=y:(y=String(y).replace(/"/g,'""'),(y.includes(",")||y.includes('"')||y.includes(`
`))&&(y=`"${y}"`)),y}));return[b.join(","),...N.map(v=>v.join(","))].join(`
`)},u=()=>{if(!e||e.length===0){alert("Aucune donne  exporter");return}a(!0);try{const d=c(e,l),g="\uFEFF",b=new Blob([g+d],{type:"text/csv;charset=utf-8;"}),N=document.createElement("a"),h=URL.createObjectURL(b);N.setAttribute("href",h),N.setAttribute("download",`${t}_${new Date().toISOString().split("T")[0]}.csv`),N.style.visibility="hidden",document.body.appendChild(N),N.click(),document.body.removeChild(N),setTimeout(()=>URL.revokeObjectURL(h),100)}catch(d){console.error("Erreur lors de l'export:",d),alert("Erreur lors de l'export: "+d.message)}finally{a(!1)}};return o.jsx("button",{onClick:u,disabled:s||!e||e.length===0,className:`
        px-4 py-2 rounded-lg font-medium transition-colors
        ${s||!e||e.length===0?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700 active:bg-green-800"}
        ${r}
      `,title:!e||e.length===0?"Aucune donne  exporter":"Exporter en CSV",children:s?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"inline-block animate-spin mr-2",children:""}),"Export en cours..."]}):o.jsxs(o.Fragment,{children:[" Exporter CSV (",(e==null?void 0:e.length)||0," produits)"]})})},Sk={allan:{gazelleId:"usr_ofYggsCDt2JAVeNP",supabaseId:"usr_ofYggsCDt2JAVeNP",prenom:"Allan",nom:"Sutton",nomComplet:"Allan Sutton",abbreviation:"Allan",username:"allan",email:"asutton@piano-tek.com",slack:null,role:"admin",isAdmin:!0,isTechnicien:!0,isAssistant:!1},nicolas:{gazelleId:"usr_HcCiFk7o0vZ9xAI0",supabaseId:"usr_HcCiFk7o0vZ9xAI0",prenom:"Nicolas",nom:"Lessard",nomComplet:"Nicolas Lessard",abbreviation:"Nick",username:"nicolas",email:"nlessard@piano-tek.com",slack:null,role:"technicien",isAdmin:!1,isTechnicien:!0,isAssistant:!1},jeanphilippe:{gazelleId:"usr_ReUSmIJmBF86ilY1",supabaseId:"usr_ReUSmIJmBF86ilY1",prenom:"Jean-Philippe",nom:"Reny",nomComplet:"Jean-Philippe Reny",abbreviation:"JP",username:"jeanphilippe",email:"jpreny@gmail.com",slack:null,role:"technicien",isAdmin:!1,isTechnicien:!0,isAssistant:!1}},Ja=Object.values(Sk);Ja.map(e=>e.gazelleId);Ja.map(e=>e.email);Ja.map(e=>e.username);const gr=Ja.map(e=>({id:e.gazelleId,name:e.abbreviation,prenom:e.prenom,username:e.username})),vu=({currentUser:e})=>{const[t,n]=m.useState([]),[r,s]=m.useState([]),[a,i]=m.useState(!0),[l,c]=m.useState(null),[u,d]=m.useState("inventaire"),[g,b]=m.useState(""),[N,h]=m.useState(new Set),[v,S]=m.useState({}),[y,j]=m.useState([]),[f,x]=m.useState(!1),[E,k]=m.useState(null),[P,A]=m.useState(""),[_,T]=m.useState(null),[O,w]=m.useState(!1),[R,C]=m.useState(!1),[I,M]=m.useState(new Set),[H,L]=m.useState(null),[D,Y]=m.useState("produit"),[K,fe]=m.useState(!1),[te,Ee]=m.useState([]),[be,le]=m.useState([]),[je,Ve]=m.useState("catalogue"),[ze,he]=m.useState(null),[Ce,de]=m.useState(!1),[_e,ye]=m.useState(new Set),[Se,Qe]=m.useState("Services"),[De,Fe]=m.useState("service"),[Be,Pe]=m.useState(!1),[Ge,ue]=m.useState(0),[$e,Ae]=m.useState(window.innerWidth<=768);m.useEffect(()=>{const p=()=>Ae(window.innerWidth<=768);return window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]);const Ye=async()=>{var p,$;try{i(!0),c(null);const z=new AbortController,F=setTimeout(()=>z.abort(),15e3),J=await fetch(`${pe}/api/inventaire/catalogue`,{signal:z.signal});if(clearTimeout(F),!J.ok){const re=await J.text().catch(()=>"Dtails non disponibles");throw new Error(`Erreur HTTP ${J.status}: ${re.substring(0,200)}`)}const se=await J.json(),G={};se.produits.forEach(re=>{const He={};gr.forEach(it=>{He[it.username]=0}),G[re.code_produit]={id:re.code_produit,code_produit:re.code_produit,name:re.nom,original_name:re.nom,sku:re.code_produit,category:re.categorie||"Sans catgorie",categorie:re.categorie,variant_group:re.variant_group,variant_label:re.variant_label,prix_unitaire:re.prix_unitaire,has_commission:re.has_commission,commission_rate:re.commission_rate,type_produit:re.type_produit,display_order:re.display_order||0,is_active:re.is_active!==!1,quantities:He}}),console.log(` Catalogue charg: ${se.produits.length} produits`),console.log(" Cls productsMap (premiers 5):",Object.keys(G).slice(0,5)),console.log(" === DBUT CHARGEMENT INVENTAIRES ==="),console.log(" Ordre TECHNICIENS:",gr.map(re=>`${re.name} (${re.username})`).join(", "));for(const re of gr)try{console.log(` Chargement pour: ${re.name} (prenom: ${re.prenom}, username: ${re.username})`);const He=new AbortController,it=setTimeout(()=>He.abort(),1e4),Xr=await fetch(`${pe}/api/inventaire/stock/${re.prenom}`,{signal:He.signal});if(clearTimeout(it),Xr.ok){const $s=await Xr.json();console.log(` Rponse API: technicien="${$s.technicien}", ${((p=$s.inventaire)==null?void 0:p.length)||0} items`),($s.inventaire||[]).slice(0,3).forEach(vn=>{console.log(`    ${vn.code_produit}: ${vn.quantite_stock} units - ASSIGN  "${re.username}"`)});let Ps=0,$o=0;($=$s.inventaire)==null||$.forEach(vn=>{G[vn.code_produit]?(G[vn.code_produit].quantities[re.username]=vn.quantite_stock||0,Ps++,Ps<=3&&(console.log(`    ASSIGNATION: ${vn.code_produit}  quantities["${re.username}"] = ${vn.quantite_stock}`),console.log(`      Vrification immdiate: productsMap["${vn.code_produit}"].quantities["${re.username}"] = ${G[vn.code_produit].quantities[re.username]}`))):($o++,$o===1&&console.log(`     Produit non trouv dans catalogue: ${vn.code_produit}`))}),console.log(`    Rsultat: ${Ps} assigns, ${$o} ignors (pas dans catalogue)`)}}catch(He){He.name==="AbortError"?console.error(`  Timeout chargement inventaire ${re.name} (10s)`):console.error(` Erreur chargement inventaire ${re.name}:`,He)}console.log(" === FIN CHARGEMENT INVENTAIRES ==="),console.log(" Vrification quantits finales:"),["PROD-4","PROD-33","PROD-41"].forEach(re=>{const He=G[re];He?(console.log(`   ${re}:`),gr.forEach(it=>{console.log(`     ${it.name} (quantities.${it.username}) = ${He.quantities[it.username]}`)})):console.log(`     ${re} non trouv dans productsMap`)});const ve=Object.values(G);ve.sort((re,He)=>{const it=re.display_order!==null&&re.display_order!==void 0?Number(re.display_order):999,Xr=He.display_order!==null&&He.display_order!==void 0?Number(He.display_order):999;return it!==Xr?it-Xr:(re.name||"").localeCompare(He.name||"","fr",{sensitivity:"base"})}),n(ve),j(ve),c(null)}catch(z){z.name==="AbortError"?c("  Timeout: Le backend ne rpond pas (dlai de 15 secondes dpass). Le serveur Python est peut-tre encore en train de dmarrer. Attendez quelques secondes et rechargez la page."):z.message&&z.message.includes("500")?c(" Erreur serveur 500: Le backend Python a une erreur interne. Vrifiez les logs du terminal Python pour voir l'erreur exacte."):z.message?c(` Erreur: ${z.message}`):c(" Erreur inconnue lors du chargement de l'inventaire"),console.error(" Erreur loadInventory:",z),n([]),j([])}finally{i(!1)}},Xe=async()=>{try{const p=await fetch(`${pe}/api/inventaire/transactions?limit=50`);if(!p.ok)throw new Error("Erreur chargement transactions");const $=await p.json();s($.transactions||[])}catch(p){console.error("Erreur transactions:",p)}};m.useEffect(()=>{Ye(),Xe()},[]);const xt=async(p,$,z)=>{var J;const F=parseInt(z)||0;n(se=>se.map(G=>G.code_produit===p?{...G,quantities:{...G.quantities,[$]:F}}:G));try{if(!(await fetch(`${pe}/api/inventaire/stock`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code_produit:p,technicien:((J=gr.find(G=>G.username===$))==null?void 0:J.name)||"Allan",quantite_stock:F,type_transaction:"ajustement",motif:"Ajustement manuel"})})).ok)throw await Ye(),new Error("Erreur mise  jour");S(G=>({...G,[p+$]:!0})),setTimeout(()=>{S(G=>{const Q={...G};return delete Q[p+$],Q})},1e3)}catch(se){await Ye(),alert("Erreur: "+se.message)}},zt=async()=>{if(g.trim())try{if(!(await fetch(`${pe}/api/inventaire/comment`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:g,username:(e==null?void 0:e.name)||"Utilisateur"})})).ok)throw new Error("Erreur envoi commentaire");alert("Commentaire envoy, Slack a t notifi."),b("")}catch(p){alert("Erreur: "+p.message)}},ne=()=>t.filter(p=>p.is_active!==!1).filter(p=>p.type_produit!=="service").sort((p,$)=>{const z=p.display_order!==null&&p.display_order!==void 0?Number(p.display_order):999,F=$.display_order!==null&&$.display_order!==void 0?Number($.display_order):999;return z!==F?z-F:(p.name||"").localeCompare($.name||"","fr",{sensitivity:"base"})}),Oe=(p,$)=>{if(k($),p.dataTransfer.effectAllowed="move",I.has($.code_produit)&&I.size>1){const z=document.createElement("div");z.style.position="absolute",z.style.top="-1000px",z.style.padding="8px 12px",z.style.backgroundColor="#3B82F6",z.style.color="white",z.style.borderRadius="8px",z.style.fontWeight="bold",z.style.fontSize="14px",z.textContent=` ${I.size} produits`,document.body.appendChild(z),p.dataTransfer.setDragImage(z,0,0),setTimeout(()=>document.body.removeChild(z),0)}},we=p=>{p.preventDefault(),p.dataTransfer.dropEffect="move"},ke=(p,$)=>{if(p.preventDefault(),!E)return;const z=I.has(E.code_produit)&&I.size>1?Array.from(I):[E.code_produit];if(z.includes($.code_produit)){k(null);return}const F=[...y];if(F.findIndex(re=>re.code_produit===$.code_produit)===-1){k(null);return}const se=F.filter(re=>z.includes(re.code_produit)),G=F.filter(re=>!z.includes(re.code_produit)),Q=G.findIndex(re=>re.code_produit===$.code_produit),ve=[...G.slice(0,Q),...se,...G.slice(Q)];ve.forEach((re,He)=>{re.display_order=He+1}),j(ve),x(!0),k(null)},_t=()=>{k(null)},Jt=async()=>{try{if(!(await fetch(`${pe}/api/inventaire/catalogue/batch-order`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({products:y.map($=>({code_produit:$.code_produit,display_order:$.display_order}))})})).ok)throw new Error("Erreur sauvegarde");x(!1),alert(`Ordre sauvegard pour ${y.length} produits`),setTimeout(()=>{Ye()},100)}catch(p){alert("Erreur: "+p.message)}},jt=m.useMemo(()=>{let p=y;return R||(p=p.filter($=>$.is_active!==!1)),P&&(p=p.filter($=>{var z,F,J,se;return((z=$.name)==null?void 0:z.toLowerCase().includes(P.toLowerCase()))||((F=$.code_produit)==null?void 0:F.toLowerCase().includes(P.toLowerCase()))||((J=$.category)==null?void 0:J.toLowerCase().includes(P.toLowerCase()))||((se=$.variant_group)==null?void 0:se.toLowerCase().includes(P.toLowerCase()))})),p},[y,R,P]);if(a)return o.jsx("div",{className:"p-8 text-center",children:o.jsx("div",{className:"text-gray-500",children:"Chargement..."})});if(l)return o.jsx("div",{className:"p-8",children:o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-700",children:["Erreur: ",l]})});const Ht=ne(),ce=(e==null?void 0:e.role)==="admin",U=(p=>({"asutton@piano-tek.com":"allan","nlessard@piano-tek.com":"nicolas","jpreny@gmail.com":"jeanphilippe"})[p==null?void 0:p.toLowerCase()]||(p==null?void 0:p.split("@")[0])||"allan")(e==null?void 0:e.email),W=(()=>{const p=gr.find($=>$.username===U);return p?[p,...gr.filter($=>$.username!==U)]:gr})();return o.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" Inventaire"}),o.jsx("div",{className:"text-sm text-gray-600",children:(e==null?void 0:e.name)||"Utilisateur"})]}),o.jsxs("div",{className:"flex gap-2 mb-6 border-b border-gray-200",children:[o.jsx("button",{onClick:()=>d("inventaire"),className:`px-4 py-2 font-medium ${u==="inventaire"?"border-b-2 border-blue-500 text-blue-600":"text-gray-600 hover:text-gray-800"}`,children:"Inventaire"}),ce&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>d("transactions"),className:`px-4 py-2 font-medium ${u==="transactions"?"border-b-2 border-blue-500 text-blue-600":"text-gray-600 hover:text-gray-800"}`,children:"Transactions"}),o.jsx("button",{onClick:()=>{d("configuration"),j([...t])},className:`px-4 py-2 font-medium ${u==="configuration"?"border-b-2 border-blue-500 text-blue-600":"text-gray-600 hover:text-gray-800"}`,children:" Configuration"})]})]}),u==="inventaire"&&o.jsxs("div",{children:[o.jsxs("div",{className:`mb-4 bg-blue-50 border border-blue-200 rounded-lg ${$e?"p-3":"p-4"}`,children:[o.jsxs("label",{className:`block ${$e?"text-xs":"text-sm"} font-medium text-gray-700 mb-2`,children:[" Commentaire rapide ",!$e&&"(notifie le CTO via Slack)"]}),o.jsxs("div",{className:`flex ${$e?"flex-col":"flex-row"} gap-2`,children:[o.jsx("input",{type:"text",value:g,onChange:p=>b(p.target.value),onKeyDown:p=>p.key==="Enter"&&zt(),placeholder:$e?"Commentaire...":"Ex: Besoin urgent de coupelles brunes...",className:`flex-1 border rounded ${$e?"px-2 py-2 text-base":"px-3 py-2 text-sm"}`}),o.jsx("button",{onClick:zt,className:`${$e?"w-full px-4 py-2.5":"px-4 py-2"} bg-blue-600 text-white rounded hover:bg-blue-700 font-medium ${$e?"text-base":"text-sm"}`,children:"Envoyer"})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow overflow-auto",style:{maxHeight:$e?"80vh":"70vh"},children:o.jsxs("table",{className:"min-w-full border-collapse",children:[o.jsx("thead",{className:"bg-gray-50 sticky top-0 z-10",children:o.jsxs("tr",{children:[o.jsx("th",{className:`${$e?"px-2 py-2":"px-4 py-3"} text-left text-xs font-medium text-gray-500 uppercase border-b sticky left-0 bg-gray-50 z-20`,children:"Produit"}),W.map(p=>$e&&!ce&&p.username!==U?null:o.jsx("th",{className:`${$e?"px-2 py-2":"px-4 py-3"} text-center text-xs font-medium text-gray-500 uppercase border-b`,children:$e?p.name.substring(0,4):p.name},p.username))]})}),o.jsx("tbody",{children:Ht.map(p=>o.jsxs("tr",{className:"hover:bg-gray-50 border-b",children:[o.jsx("td",{className:`${$e?"px-2 py-2":"px-4 py-3"} text-sm text-gray-900 sticky left-0 bg-white border-r font-medium`,style:{minWidth:$e?"150px":"200px"},children:o.jsxs("div",{className:$e?"text-xs":"text-sm",children:[p.name,p.variant_label&&o.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",p.variant_label,")"]})]})}),W.map($=>{var G;if($e&&!ce&&$.username!==U)return null;const z=((G=p.quantities)==null?void 0:G[$.username])||0,F=$.username===U,J=p.code_produit+$.username,se=v[J];return o.jsx("td",{className:`${$e?"px-2 py-2":"px-4 py-3"} text-center`,children:o.jsx("input",{type:"number",min:"0",value:z,onChange:Q=>xt(p.code_produit,$.username,Q.target.value),onFocus:Q=>Q.target.select(),onClick:Q=>Q.target.select(),className:`${$e?"w-16 text-base":"w-20 text-sm"} px-2 py-1 text-center border rounded ${F?"bg-green-50 border-green-300 font-bold":"border-gray-300"} ${se?"bg-green-200":""}`,style:se?{transition:"background-color 0.3s"}:{}})},$.username)})]},p.code_produit))})]})})]}),u==="transactions"&&o.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Produit"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Technicien"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Quantit"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Motif"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(p=>{const $=t.find(F=>F.code_produit===p.code_produit),z=($==null?void 0:$.name)||p.code_produit;return o.jsxs("tr",{children:[o.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:new Date(p.created_at).toLocaleDateString("fr-CA")}),o.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:z}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:p.technicien}),o.jsx("td",{className:"px-4 py-3 text-sm",children:o.jsx("span",{className:`px-2 py-1 rounded text-xs ${p.type_transaction==="ajout"?"bg-green-100 text-green-700":p.type_transaction==="retrait"?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:p.type_transaction})}),o.jsxs("td",{className:"px-4 py-3 text-sm text-gray-700 font-medium",children:[p.quantite>0?"+":"",p.quantite]}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:p.motif||"-"})]},p.id)})})]}),r.length===0&&o.jsx("div",{className:"p-8 text-center text-gray-500",children:"Aucune transaction"})]}),u==="configuration"&&ce&&o.jsxs("div",{children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:" Configuration Inventaire"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Gestion du catalogue, synchronisation Gazelle et configuration des produits"})]}),o.jsxs("div",{className:"flex gap-2 mb-6 border-b border-gray-200",children:[o.jsx("button",{onClick:()=>Ve("catalogue"),className:`px-4 py-2 font-medium ${je==="catalogue"?"border-b-2 border-green-500 text-green-600":"text-gray-600 hover:text-gray-800"}`,children:" Catalogue"}),o.jsx("button",{onClick:()=>Ve("duplicates"),className:`px-4 py-2 font-medium ${je==="duplicates"?"border-b-2 border-purple-500 text-purple-600":"text-gray-600 hover:text-gray-800"}`,children:" Doublons Gazelle"}),o.jsx("button",{onClick:()=>Ve("import"),className:`px-4 py-2 font-medium ${je==="import"?"border-b-2 border-blue-500 text-blue-600":"text-gray-600 hover:text-gray-800"}`,children:" Import Gazelle"})]}),je==="duplicates"&&o.jsxs("div",{children:[o.jsxs("div",{className:"mb-4 flex gap-3 flex-wrap",children:[o.jsx("button",{onClick:async()=>{try{de(!0);const p=await fetch(`${pe}/api/inventaire/catalogue/sync-gazelle-smart?force=false&max_age_hours=24`,{method:"POST"});if(!p.ok){const z=await p.json().catch(()=>({detail:"Erreur inconnue"}));throw new Error(z.detail||`Erreur ${p.status}`)}const $=await p.json();alert(` Synchronisation intelligente termine!

 ${$.updated} produits mis  jour
 ${$.skipped||0} produits dj  jour (synchronisation non ncessaire)
 ${$.total} produits associs  Gazelle
`+($.errors?`
 ${$.errors.length} erreurs`:"")),await Ye()}catch(p){alert(" Erreur: "+p.message)}finally{de(!1)}},disabled:Ce,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 font-semibold shadow-md",children:Ce?" Synchronisation...":" Sync auto (produits dj associs)"}),o.jsx("button",{onClick:async()=>{if(confirm(` Importer TOUS les items du Master Service List (MSL) ?

Cela va crer/mettre  jour tous les produits dans le catalogue local.
Ncessaire pour le calcul des commissions et la mise  jour automatique.`))try{de(!0);const p=await fetch(`${pe}/api/inventaire/catalogue/import-all-msl`,{method:"POST"});if(!p.ok){const z=await p.json().catch(()=>({detail:"Erreur inconnue"}));throw new Error(z.detail||`Erreur ${p.status}`)}const $=await p.json();alert(` Import MSL termin!

 ${$.created} nouveaux produits crs
 ${$.updated} produits mis  jour
 ${$.total_msl} items dans le MSL
`+($.errors?`
 ${$.errors.length} erreurs`:"")),await Ye()}catch(p){alert(" Erreur: "+p.message)}finally{de(!1)}},disabled:Ce,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 font-semibold shadow-md",children:Ce?" Import...":" Importer tous les items MSL"}),o.jsx("button",{onClick:async()=>{try{de(!0);const p=await fetch(`${pe}/api/inventaire/gazelle/find-duplicates?threshold=0.75`);if(!p.ok){const G=await p.json().catch(()=>({detail:"Erreur inconnue"}));throw new Error(G.detail||`Erreur ${p.status}`)}const $=await p.json(),z=$.duplicates||[],F=$.count!==void 0?$.count:z.length,J=$.gazelle_available||!1;le(z);let se="";F>0?(se=` ${F} doublon${F>1?"s":""} potentiel${F>1?"s":""} dtect${F>1?"s":""}`,J||(se+=`
(Comparaison uniquement dans le catalogue local - Gazelle non configur)`)):(se=" Aucun doublon dtect avec un seuil de similarit de 75%",J||(se+=`
(Comparaison uniquement dans le catalogue local - Gazelle non configur)`)),alert(se)}catch(p){alert("Erreur: "+p.message)}finally{de(!1)}},disabled:Ce,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50",children:Ce?" Analyse...":" Dtecter nouveaux doublons"}),o.jsx("span",{className:"text-sm text-gray-600 self-center",children:be.length>0&&`${be.length} doublons trouvs`})]}),be.length===0?o.jsx("div",{className:"text-center py-12 text-gray-500",children:'Cliquez sur "Dtecter les doublons" pour trouver les produits similaires entre votre catalogue et Gazelle'}):o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[" ",o.jsx("strong",{children:"Glissez-dposez"})," un produit Gazelle (violet) sur un produit local (bleu) pour les fusionner"]})}),be.map((p,$)=>p.gazelle_id?o.jsxs("div",{className:"border border-gray-300 rounded-lg p-4 bg-white",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"border-2 border-blue-300 bg-blue-50 rounded p-3 relative",onDragOver:z=>z.preventDefault(),onDrop:async z=>{if(z.preventDefault(),ze&&ze.gazelle_id){try{if(!(await fetch(`${pe}/api/inventaire/catalogue/map-gazelle`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code_produit:p.local_code,gazelle_product_id:ze.gazelle_id,update_prices:!0})})).ok)throw new Error("Erreur association");le(be.filter((J,se)=>se!==$)),await Ye()}catch(F){alert(" Erreur: "+F.message)}he(null)}},children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("span",{className:"px-2 py-1 bg-blue-600 text-white text-xs font-bold rounded",children:"LOCAL"}),o.jsx("span",{className:"font-mono text-xs text-gray-600",children:p.local_code})]}),o.jsx("p",{className:"font-semibold text-gray-800 mb-1",children:p.local_nom}),o.jsxs("p",{className:"text-xs text-gray-600",children:["Prix: ",(p.local_price||0).toFixed(2),"$"]})]}),o.jsxs("div",{draggable:!0,onDragStart:()=>he(p),onDragEnd:()=>he(null),className:"border-2 border-purple-300 bg-purple-50 rounded p-3 cursor-move hover:shadow-lg transition-shadow",children:[o.jsx("div",{className:"flex items-center justify-between mb-2",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"px-2 py-1 bg-purple-600 text-white text-xs font-bold rounded",children:"GAZELLE"}),o.jsxs("span",{className:"text-xs font-bold text-green-600",children:[(p.similarity||0).toFixed(1),"%"]})]})}),o.jsx("p",{className:"font-semibold text-gray-800 mb-1",children:p.gazelle_nom||"N/A"}),o.jsxs("p",{className:"text-xs text-gray-600",children:["Prix: ",(p.gazelle_price||0).toFixed(2),"$"]}),o.jsxs("p",{className:"text-xs text-gray-600",children:["Diff: ",(p.price_diff||0).toFixed(2),"$"]})]})]}),o.jsxs("div",{className:"mt-3 flex gap-2",children:[o.jsx("button",{onClick:async()=>{try{if(!(await fetch(`${pe}/api/inventaire/catalogue/map-gazelle`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code_produit:p.local_code,gazelle_product_id:p.gazelle_id,update_prices:!0})})).ok)throw new Error("Erreur");le(be.filter((F,J)=>J!==$)),await Ye()}catch(z){alert(" Erreur: "+z.message)}},className:"px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700",children:" Associer"}),o.jsx("button",{onClick:()=>le(be.filter((z,F)=>F!==$)),className:"px-3 py-1 text-sm bg-gray-300 text-gray-700 rounded hover:bg-gray-400",children:" Ignorer"})]})]},$):null)]})]}),je==="import"&&o.jsxs("div",{children:[o.jsx("button",{onClick:async()=>{try{de(!0);const $=await(await fetch(`${pe}/api/inventaire/gazelle/products`)).json();Ee($.products||[]),alert(`${$.count} produits chargs`)}catch(p){alert("Erreur: "+p.message)}finally{de(!1)}},disabled:Ce,className:"mb-4 px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 disabled:opacity-50",children:Ce?" Chargement...":" Charger Master Service Items"}),te.length===0?o.jsx("div",{className:"text-center py-12 text-gray-500",children:"Chargez les Master Service Items pour voir tous les produits Gazelle"}):o.jsxs("div",{children:[o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded p-3 mb-3 text-sm text-blue-800",children:[" ",o.jsx("strong",{children:"Import automatique"})," : L'ID Gazelle sera utilis comme code produit (masqu dans l'interface)"]}),o.jsxs("div",{className:"bg-gray-50 border border-gray-300 rounded p-4 mb-4",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[o.jsxs("span",{className:"font-semibold text-sm",children:["Configuration batch (",_e.size," slectionns)"]}),o.jsx("button",{onClick:()=>{_e.size===te.length?ye(new Set):ye(new Set(te.map(p=>p.id)))},className:"text-sm text-blue-600 hover:underline",children:_e.size===te.length?" Tout dslectionner":" Tout slectionner"})]}),o.jsxs("div",{className:"flex gap-3 flex-wrap items-center",children:[o.jsxs("select",{value:Se,onChange:p=>Qe(p.target.value),className:"px-3 py-2 border rounded",children:[o.jsx("option",{value:"Services",children:"Services"}),o.jsx("option",{value:"Pices",children:"Pices"}),o.jsx("option",{value:"Fournitures",children:"Fournitures"}),o.jsx("option",{value:"Accessoires",children:"Accessoires"})]}),o.jsxs("select",{value:De,onChange:p=>Fe(p.target.value),className:"px-3 py-2 border rounded",children:[o.jsx("option",{value:"service",children:"Service (pas d'inventaire)"}),o.jsx("option",{value:"produit",children:"Produit (avec inventaire)"}),o.jsx("option",{value:"fourniture",children:"Fourniture (inventaire, pas commission)"})]}),o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",checked:Be,onChange:p=>Pe(p.target.checked)}),o.jsx("span",{className:"text-sm",children:"Commission"})]}),o.jsx("input",{type:"number",value:Ge,onChange:p=>ue(parseFloat(p.target.value)||0),placeholder:"Taux %",min:"0",max:"100",step:"0.1",className:"w-24 px-3 py-2 border rounded"}),o.jsxs("button",{onClick:async()=>{if(_e.size===0){alert(" Aucun produit slectionn");return}const p=te.filter(F=>_e.has(F.id));let $=0,z=[];for(const F of p)try{const J=await fetch(`${pe}/api/inventaire/catalogue/import-gazelle`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({gazelle_product_id:F.id,has_commission:Be,commission_rate:Ge,categorie:Se,type_produit:De})});if(J.ok)$++;else{const se=await J.json().catch(()=>({detail:"Erreur inconnue"}));z.push(`${F.name_fr}: ${se.detail}`)}}catch(J){z.push(`${F.name_fr}: ${J.message}`)}Ee(te.filter(F=>!_e.has(F.id))),ye(new Set),alert(` Import termin!

${$} produits imports
`+(z.length>0?`
 ${z.length} erreurs:
${z.slice(0,5).join(`
`)}`:"")),await Ye()},disabled:_e.size===0,className:"ml-auto px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 font-semibold disabled:opacity-50",children:[" Importer slection (",_e.size,")"]})]})]}),o.jsx("div",{className:"space-y-2 max-h-[500px] overflow-y-auto",children:te.map((p,$)=>o.jsx("div",{className:`border rounded p-3 ${_e.has(p.id)?"bg-blue-50 border-blue-300":"bg-white"}`,children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("input",{type:"checkbox",checked:_e.has(p.id),onChange:z=>{const F=new Set(_e);z.target.checked?F.add(p.id):F.delete(p.id),ye(F)},className:"mt-1"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-semibold text-gray-900",children:p.name_fr}),p.description_fr&&o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:p.description_fr}),o.jsxs("div",{className:"flex gap-3 mt-2 text-xs",children:[o.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded",children:["Prix: ",(parseFloat(p.amount||0)/100).toFixed(2),"$"]}),o.jsxs("span",{className:"bg-purple-100 text-purple-800 px-2 py-1 rounded",children:["Groupe: ",p.group_name_fr||"N/A"]})]})]}),o.jsx("button",{onClick:()=>{Ee(te.filter((F,J)=>J!==$));const z=new Set(_e);z.delete(p.id),ye(z)},className:"px-2 py-1 text-gray-400 hover:text-red-600 text-lg",title:"Masquer de la liste",children:""})]})},$))})]})]}),je==="catalogue"&&o.jsxs("div",{children:[I.size>0&&o.jsxs("div",{className:"mb-4 p-4 bg-blue-50 border-2 border-blue-300 rounded-lg shadow-md",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"px-3 py-1 bg-blue-600 text-white rounded-full font-bold text-sm",children:I.size}),o.jsxs("span",{className:"text-blue-900 font-medium",children:["produit",I.size>1?"s":""," slectionn",I.size>1?"s":""]}),o.jsx("span",{className:"text-blue-700 text-sm",children:" Glissez-dposez pour rorganiser en batch"})]}),o.jsx("button",{onClick:()=>{M(new Set),L(null)},className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:" Dslectionner tout"})]}),o.jsxs("div",{className:"flex gap-4 items-center flex-wrap",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Type:"}),o.jsxs("select",{value:D,onChange:p=>{Y(p.target.value),p.target.value==="fourniture"&&fe(!1)},className:"border rounded px-3 py-2 text-sm",children:[o.jsx("option",{value:"produit",children:"Produit"}),o.jsx("option",{value:"service",children:"Service"}),o.jsx("option",{value:"fourniture",children:"Fourniture"})]})]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[o.jsx("input",{type:"checkbox",checked:K,onChange:p=>fe(p.target.checked),disabled:D==="fourniture",className:"w-4 h-4"}),o.jsx("span",{className:D==="fourniture"?"text-gray-400":"text-gray-700",children:"Commissionnable (10%)"})]})}),o.jsxs("button",{onClick:async()=>{if(I.size===0){alert("Slectionnez au moins un produit");return}try{const p=await fetch(`${pe}/api/inventaire/catalogue/batch-type-commission`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({codes_produit:Array.from(I),type_produit:D,has_commission:K})});if(!p.ok)throw new Error("Erreur mise  jour");const $=await p.json();alert($.message),await Ye(),M(new Set),L(null)}catch(p){alert("Erreur: "+p.message)}},disabled:I.size===0,className:`px-4 py-2 rounded font-medium ${I.size>0?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:["Appliquer  ",I.size," produit",I.size>1?"s":""]}),o.jsxs("button",{onClick:async()=>{var G,Q;if(I.size!==2){alert(" Vous devez slectionner exactement 2 produits  fusionner");return}const p=Array.from(I),$=y.find(ve=>ve.code_produit===p[0]),z=y.find(ve=>ve.code_produit===p[1]);if(!$||!z){alert(" Erreur: Produits non trouvs");return}const F=window.confirm(` Fusionner les produits:

[1] ${$.name} (${$.code_produit})
[2] ${z.name} (${z.code_produit})

Cliquez OK pour GARDER le produit [1] et transfrer les quantits de [2]
Cliquez Annuler pour GARDER le produit [2] et transfrer les quantits de [1]`),J=F?$.code_produit:z.code_produit,se=F?z.code_produit:$.code_produit;if(window.confirm(` CONFIRMATION FINALE:

Produit conserv: ${(G=y.find(ve=>ve.code_produit===J))==null?void 0:G.name}
Produit supprim: ${(Q=y.find(ve=>ve.code_produit===se))==null?void 0:Q.name}

Les quantits de tous les techniciens seront transfres.
Cette action est IRRVERSIBLE.

Continuer?`))try{const ve=await fetch(`${pe}/api/inventaire/catalogue/merge`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({keep_code:J,merge_code:se})});if(!ve.ok){const He=await ve.json().catch(()=>({detail:"Erreur inconnue"}));throw new Error(He.detail||"Erreur fusion")}const re=await ve.json();alert(` ${re.message}

Quantits transfres pour ${re.technicians_updated||0} technicien(s)`),await Ye(),M(new Set),L(null)}catch(ve){alert(" Erreur: "+ve.message)}},disabled:I.size!==2,className:`px-4 py-2 rounded font-medium ${I.size===2?"bg-purple-600 text-white hover:bg-purple-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,title:"Fusionner 2 produits (transfrer quantits et supprimer un produit)",children:[" Fusionner ",I.size===2?"(2 slectionns)":`(${I.size}/2)`]})]})]}),o.jsxs("div",{className:"mb-4 flex justify-between items-center flex-wrap gap-4",children:[o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("input",{type:"text",value:P,onChange:p=>A(p.target.value),placeholder:"Rechercher: nom, code, catgorie, variante...",className:"border rounded px-3 py-2 text-sm w-80"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"showInactive",checked:R,onChange:p=>C(p.target.checked),className:"w-4 h-4"}),o.jsxs("label",{htmlFor:"showInactive",className:"text-sm text-gray-600",children:["Afficher les produits inactifs (",y.filter(p=>p.is_active===!1).length,")"]})]})]}),o.jsxs("div",{className:"flex gap-2 flex-wrap items-center",children:[I.size>0&&o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>{const p=Array.from(I),$=[...y],z=p.map(F=>$.findIndex(J=>J.code_produit===F)).filter(F=>F!==-1).sort((F,J)=>F-J);if(z[0]===0){alert("Les produits slectionns sont dj en haut");return}z.forEach(F=>{F>0&&!p.includes($[F-1].code_produit)&&([$[F],$[F-1]]=[$[F-1],$[F]])}),$.forEach((F,J)=>{F.display_order=J+1}),j($),x(!0)},className:"px-3 py-2 bg-gray-600 text-white rounded font-medium hover:bg-gray-700 text-sm",title:"Dplacer la slection vers le haut",children:[" Monter (",I.size,")"]}),o.jsxs("button",{onClick:()=>{const p=Array.from(I),$=[...y],z=p.map(F=>$.findIndex(J=>J.code_produit===F)).filter(F=>F!==-1).sort((F,J)=>J-F);if(z[0]===$.length-1){alert("Les produits slectionns sont dj en bas");return}z.forEach(F=>{F<$.length-1&&!p.includes($[F+1].code_produit)&&([$[F],$[F+1]]=[$[F+1],$[F]])}),$.forEach((F,J)=>{F.display_order=J+1}),j($),x(!0)},className:"px-3 py-2 bg-gray-600 text-white rounded font-medium hover:bg-gray-700 text-sm",title:"Dplacer la slection vers le bas",children:[" Descendre (",I.size,")"]})]}),o.jsx(jk,{data:y,filename:"catalogue_admin"}),o.jsx("button",{onClick:Jt,className:`px-4 py-2 rounded font-medium ${f?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-600 cursor-not-allowed"}`,disabled:!f,children:" Sauvegarder l'ordre"})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow overflow-auto",children:[o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-center",children:o.jsx("input",{type:"checkbox",checked:I.size===jt.length&&jt.length>0,onChange:p=>{p.target.checked?M(new Set(jt.map($=>$.code_produit))):M(new Set),L(null)},className:"w-4 h-4",title:"Slectionner tous les produits"})}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Ordre"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Code"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Nom"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Catgorie"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Commission"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Variante"}),W.map(p=>o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:p.name},p.username)),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(()=>{const p=[...jt].sort(($,z)=>($.display_order||0)-(z.display_order||0));return p.map(($,z)=>{const F=I.has($.code_produit),J=$.type_produit||"(non dfini)",se=$.has_commission||!1;return o.jsxs("tr",{draggable:!0,onDragStart:G=>Oe(G,$),onDragOver:we,onDrop:G=>ke(G,$),onDragEnd:_t,className:`hover:bg-gray-50 cursor-move transition-all ${(E==null?void 0:E.code_produit)===$.code_produit?"opacity-30 bg-blue-100":""} ${$.is_active?"":"bg-gray-100 line-through text-gray-400"} ${F&&!E?"bg-blue-50 border-l-4 border-blue-500":""} ${F&&E?"opacity-60 bg-blue-200":""}`,children:[o.jsx("td",{className:"px-4 py-3 text-center",children:o.jsx("input",{type:"checkbox",checked:F,onMouseDown:G=>{G.preventDefault(),G.stopPropagation();const Q=G.shiftKey,ve=new Set(I);if(console.log("[Inventaire] Checkbox mousedown - shiftKey:",Q),Q&&H!==null){const re=Math.min(H,z),He=Math.max(H,z);console.log("[Shift+Click] Range selection:",{lastIndex:H,currentIndex:z,start:re,end:He,rangeSize:He-re+1});for(let it=re;it<=He;it++)ve.add(p[it].code_produit),console.log(`   Adding ${it}: ${p[it].code_produit}`);console.log("[Shift+Click] Total selected after range:",ve.size)}else ve.has($.code_produit)?(ve.delete($.code_produit),console.log("[Click] Removed:",$.code_produit)):(ve.add($.code_produit),console.log("[Click] Added:",$.code_produit));M(ve),L(z)},onChange:()=>{},className:"w-4 h-4","data-version":"v2-shift-fix"})}),o.jsx("td",{className:"px-4 py-3 text-sm",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"number",value:$.display_order||0,onChange:G=>{const Q=parseInt(G.target.value)||0,ve=y.map(re=>re.code_produit===$.code_produit?{...re,display_order:Q}:re);j(ve),x(!0)},className:`w-20 border-2 rounded px-3 py-1 text-sm font-medium ${P?"border-blue-500 bg-blue-50 text-blue-900":"border-gray-300"}`,title:"Modifier la position - Cliquez pour changer l'ordre d'affichage",placeholder:"Position"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("button",{onClick:()=>{if(z===0)return;const G=[...y],Q=G[z-1].display_order;G[z-1].display_order=G[z].display_order,G[z].display_order=Q,j(G),x(!0)},disabled:z===0,className:"text-gray-600 hover:text-blue-600 disabled:text-gray-300 text-xs",children:""}),o.jsx("button",{onClick:()=>{if(z===jt.length-1)return;const G=[...y],Q=G[z+1].display_order;G[z+1].display_order=G[z].display_order,G[z].display_order=Q,j(G),x(!0)},disabled:z===jt.length-1,className:"text-gray-600 hover:text-blue-600 disabled:text-gray-300 text-xs",children:""})]})]})}),o.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-400 italic",children:"***"}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:$.name}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:$.category}),o.jsx("td",{className:"px-4 py-3 text-sm",children:o.jsx("span",{className:`px-2 py-1 rounded text-xs ${$.type_produit?$.type_produit==="service"?"bg-purple-100 text-purple-700":$.type_produit==="fourniture"?"bg-orange-100 text-orange-700":"bg-green-100 text-green-700":"bg-gray-100 text-gray-500 italic"}`,children:J})}),o.jsx("td",{className:"px-4 py-3 text-center text-sm",children:$.type_produit==="fourniture"?o.jsx("span",{className:"text-gray-400 text-xs",children:"- (bloqu)"}):se?o.jsx("span",{className:"text-green-600 font-medium",children:" 10%"}):o.jsx("span",{className:"text-gray-400",children:""})}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:$.variant_group&&o.jsxs("div",{children:[o.jsx("strong",{children:$.variant_group}),$.variant_label&&` (${$.variant_label})`]})}),gr.map(G=>{var He;const Q=((He=$.quantities)==null?void 0:He[G.username])||0,ve=$.code_produit+G.username,re=v[ve];return o.jsx("td",{className:"px-4 py-3 text-sm text-center",children:o.jsx("input",{type:"number",min:"0",value:Q,onChange:it=>xt($.code_produit,G.username,it.target.value),onFocus:it=>it.target.select(),onClick:it=>it.target.select(),className:`w-20 px-2 py-1 text-center border rounded text-sm ${re?"bg-green-200 border-green-400":"border-gray-300"}`,style:re?{transition:"background-color 0.3s"}:{}})},G.username)}),o.jsx("td",{className:"px-4 py-3 text-sm",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>{T({...$}),w(!0)},className:"text-blue-600 hover:text-blue-800 font-medium text-xs",title:"Modifier le produit",children:""}),o.jsx("button",{onClick:async()=>{try{const G=await fetch(`${pe}/api/inventaire/catalogue/${$.code_produit}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_active:!$.is_active})});if(!G.ok){const Q=await G.json().catch(()=>({detail:"Erreur inconnue"}));throw new Error(Q.detail||"Erreur toggle")}await Ye()}catch(G){alert("Erreur: "+G.message)}},className:`font-medium text-xs ${$.is_active?"text-orange-600 hover:text-orange-800":"text-green-600 hover:text-green-800"}`,title:$.is_active?"Masquer de l'inventaire technicien (reste visible en Admin)":"Afficher dans l'inventaire technicien",children:$.is_active?"":""}),o.jsx("button",{onClick:async()=>{const G=$.is_active!==!1,Q=!G;if(window.confirm(G?` Archiver "${$.name}" (${$.code_produit}) ?

Le produit sera masqu de l'inventaire mais les donnes seront conserves.`:` Ractiver "${$.name}" (${$.code_produit}) ?

Le produit redeviendra visible dans l'inventaire.`))try{if(!(await fetch(`${pe}/api/inventaire/catalogue`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code_produit:$.code_produit,is_active:Q})})).ok)throw new Error("Erreur mise  jour statut");alert(Q?" Produit ractiv":" Produit archiv"),await Ye()}catch(ve){alert("Erreur: "+ve.message)}},className:`font-medium text-lg ${$.is_active!==!1?"text-red-600 hover:text-red-800":"text-green-600 hover:text-green-800"}`,title:$.is_active!==!1?"Archiver (masquer)":"Ractiver",children:$.is_active!==!1?"":""})]})})]},$.code_produit)})})()})]}),jt.length===0&&o.jsx("div",{className:"p-8 text-center text-gray-500",children:"Aucun produit trouv"})]})]})]}),O&&_&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>{w(!1),T(null)},children:o.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",onClick:p=>p.stopPropagation(),children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["Modifier: ",_.code_produit]}),o.jsx("button",{onClick:()=>{w(!1),T(null)},className:"text-gray-500 hover:text-gray-700 text-2xl",children:""})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom du produit"}),o.jsx("input",{type:"text",value:_.name||"",onChange:p=>T({..._,name:p.target.value}),className:"w-full border rounded px-3 py-2"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Catgorie"}),o.jsxs("select",{value:_.category||"",onChange:p=>T({..._,category:p.target.value}),className:"w-full border rounded px-3 py-2",children:[o.jsx("option",{value:"Cordes",children:"Cordes"}),o.jsx("option",{value:"Feutres",children:"Feutres"}),o.jsx("option",{value:"Accessoire",children:"Accessoire"}),o.jsx("option",{value:"Service",children:"Service"}),o.jsx("option",{value:"Fourniture",children:"Fourniture"}),o.jsx("option",{value:"Produit",children:"Produit"}),o.jsx("option",{value:"Frais",children:"Frais"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prix unitaire ($)"}),o.jsx("input",{type:"number",step:"0.01",value:_.prix_unitaire||"",onChange:p=>T({..._,prix_unitaire:parseFloat(p.target.value)||0}),className:"w-full border rounded px-3 py-2"})]}),o.jsxs("div",{className:"border-t pt-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("input",{type:"checkbox",id:"has_commission",checked:_.has_commission||!1,onChange:p=>T({..._,has_commission:p.target.checked,commission_rate:p.target.checked?_.commission_rate||15:0}),className:"w-4 h-4"}),o.jsx("label",{htmlFor:"has_commission",className:"text-sm font-medium text-gray-700",children:"Activer la commission"})]}),_.has_commission&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Taux de commission (%)"}),o.jsx("input",{type:"number",step:"0.01",value:_.commission_rate||0,onChange:p=>T({..._,commission_rate:parseFloat(p.target.value)||0}),className:"w-full border rounded px-3 py-2"})]})]}),o.jsxs("div",{className:"border-t pt-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Groupe de variantes"}),o.jsx("input",{type:"text",value:_.variant_group||"",onChange:p=>T({..._,variant_group:p.target.value}),placeholder:"Ex: Cordes Piano",className:"w-full border rounded px-3 py-2"})]}),o.jsxs("div",{className:"mt-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Label de variante"}),o.jsx("input",{type:"text",value:_.variant_label||"",onChange:p=>T({..._,variant_label:p.target.value}),placeholder:"Ex: Do#3",className:"w-full border rounded px-3 py-2"})]})]}),o.jsx("div",{className:"border-t pt-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"is_active",checked:_.is_active!==!1,onChange:p=>T({..._,is_active:p.target.checked}),className:"w-4 h-4"}),o.jsx("label",{htmlFor:"is_active",className:"text-sm font-medium text-gray-700",children:"Produit actif"})]})})]}),o.jsxs("div",{className:"mt-6 flex gap-3 justify-end",children:[o.jsx("button",{onClick:()=>{w(!1),T(null)},className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50",children:"Annuler"}),o.jsx("button",{onClick:async()=>{try{if(!(await fetch(`${pe}/api/inventaire/catalogue/${_.code_produit}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({nom:_.name,categorie:_.category,prix_unitaire:_.prix_unitaire,has_commission:_.has_commission,commission_rate:_.commission_rate,variant_group:_.variant_group,variant_label:_.variant_label,is_active:_.is_active})})).ok)throw new Error("Erreur lors de la sauvegarde");w(!1),T(null),await Ye(),alert("Produit mis  jour avec succs")}catch(p){alert("Erreur: "+p.message)}},className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Enregistrer"})]})]})})]})},qo=Ja.map(e=>({id:e.gazelleId,name:e.abbreviation,prenom:e.prenom,username:e.username})),Nk=({currentUser:e,allowComment:t=!0})=>{const[n,r]=m.useState([]),[s,a]=m.useState(!0),[i,l]=m.useState(""),[c,u]=m.useState({}),[d,g]=m.useState(window.innerWidth<=768),b=m.useRef({}),h=(f=>({"asutton@piano-tek.com":"allan","nlessard@piano-tek.com":"nicolas","jpreny@gmail.com":"jeanphilippe"})[f==null?void 0:f.toLowerCase()]||(f==null?void 0:f.split("@")[0])||"test")(e==null?void 0:e.email);e==null||e.email,console.log(" DEBUG Colonne Verte:",{userEmail:e==null?void 0:e.email,mappedUsername:h,availableUsernames:qo.map(f=>f.username)}),m.useEffect(()=>{const f=()=>g(window.innerWidth<=768);return window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[]),m.useEffect(()=>{v()},[]);const v=async()=>{var f;try{a(!0);const x=await fetch(`${pe}/api/inventaire/catalogue`);if(!x.ok)throw new Error("Erreur chargement catalogue");const E=await x.json(),k={};E.produits.forEach(_=>{const T={};qo.forEach(O=>{T[O.username]=0}),k[_.code_produit]={id:_.code_produit,code_produit:_.code_produit,name:_.nom,category:_.categorie||"Sans catgorie",variant_label:_.variant_label,display_order:_.display_order||0,is_active:_.is_active!==!1,quantities:T}});const P={Nicolas:"nicolas",Nick:"nicolas",nicolas:"nicolas","nlessard@piano-tek.com":"nicolas",Allan:"allan",allan:"allan","allan@example.com":"allan","Jean-Philippe":"jeanphilippe",jeanphilippe:"jeanphilippe","jeanphilippe@example.com":"jeanphilippe"},A=await fetch(`${pe}/api/inventaire/techniciens/all`);A.ok&&((f=(await A.json()).inventory)==null||f.forEach(T=>{var O,w;if(k[T.code_produit]){let R=P[T.technicien];if(!R&&((O=T.technicien)!=null&&O.includes("@"))){const C=T.technicien.split("@")[0].toLowerCase();R=P[C]||C}R||(R=(w=T.technicien)==null?void 0:w.toLowerCase().replace("-","")),k[T.code_produit].quantities[R]!==void 0&&(k[T.code_produit].quantities[R]=T.quantite_stock||0)}})),r(Object.values(k).filter(_=>_.is_active))}catch(x){console.error("Erreur chargement inventaire:",x)}finally{a(!1)}},S=async(f,x,E,k=!1)=>{const P=parseInt(E)||0,A=f+x;r(T=>T.map(O=>O.code_produit===f?{...O,quantities:{...O.quantities,[x]:P}}:O)),u(T=>({...T,[A]:!0})),setTimeout(()=>{u(T=>{const O={...T};return delete O[A],O})},500),b.current[A]&&clearTimeout(b.current[A]);const _=async()=>{var T;try{const O=((T=qo.find(C=>C.username===x))==null?void 0:T.prenom)||x,w=await fetch(`${pe}/api/inventaire/stock`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code_produit:f,technicien:O,quantite_stock:P,type_transaction:"ajustement",motif:"Ajustement manuel depuis interface"})});if(!w.ok){const C=await w.json().catch(()=>({detail:"Erreur inconnue"}));throw new Error(C.detail||`Erreur ${w.status}`)}const R=await w.json();console.log(" Stock mis  jour:",R),await v()}catch(O){console.error("Erreur sauvegarde:",O),await v()}finally{delete b.current[A]}};k?await _():b.current[A]=setTimeout(_,500)},y=async()=>{if(i.trim())try{const x=await(await fetch(`${pe}/api/inventaire/comment`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:i,username:(e==null?void 0:e.name)||"Technicien"})})).json();x.success?(alert(" Commentaire envoy au CTO!"),l("")):alert(" "+(x.message||"Erreur envoi"))}catch(f){alert(" Erreur envoi commentaire: "+f.message)}},j=[...n].sort((f,x)=>{const E=(f.display_order||0)-(x.display_order||0);return E!==0?E:(f.name||"").localeCompare(x.name||"")});return s?o.jsx("div",{className:"p-8 text-center text-gray-500",children:"Chargement..."}):o.jsxs("div",{children:[t&&o.jsxs("div",{className:`mb-4 bg-blue-50 border border-blue-200 rounded-lg ${d?"p-3":"p-4"}`,children:[o.jsxs("label",{className:`block ${d?"text-xs":"text-sm"} font-medium text-gray-700 mb-2`,children:[" Commentaire rapide ",!d&&"(email au CTO)"]}),o.jsxs("div",{className:`flex ${d?"flex-col":"flex-row"} gap-2`,children:[o.jsx("input",{type:"text",value:i,onChange:f=>l(f.target.value),onKeyDown:f=>f.key==="Enter"&&y(),placeholder:d?"Commentaire...":"Ex: Besoin urgent de coupelles brunes...",className:`flex-1 border rounded ${d?"px-2 py-2 text-base":"px-3 py-2 text-sm"}`}),o.jsx("button",{onClick:y,className:`${d?"w-full px-4 py-2.5":"px-4 py-2"} bg-blue-600 text-white rounded hover:bg-blue-700 font-medium ${d?"text-base":"text-sm"}`,children:"Envoyer"})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow overflow-auto",style:{maxHeight:d?"80vh":"70vh"},children:o.jsxs("table",{className:"min-w-full border-collapse",children:[o.jsx("thead",{className:"bg-gray-50 sticky top-0 z-10",children:o.jsxs("tr",{children:[o.jsx("th",{className:`${d?"px-2 py-2":"px-4 py-3"} text-left text-xs font-medium text-gray-500 uppercase border-b sticky left-0 bg-gray-50 z-20`,children:"Produit"}),qo.map(f=>{const x={Allan:"Alla","Jean-Philippe":"J-Ph",Nick:"Nick"},E=f.username===h;return o.jsx("th",{className:`${d?"px-2 py-2":"px-4 py-3"} text-center text-xs font-medium uppercase border-b ${E?"bg-green-100 text-green-800 font-bold":"text-gray-500"}`,children:d?x[f.name]||f.name.substring(0,4):f.name},f.username)})]})}),o.jsx("tbody",{children:j.map(f=>o.jsxs("tr",{className:"hover:bg-gray-50 border-b",children:[o.jsx("td",{className:`${d?"px-2 py-2":"px-4 py-3"} text-sm text-gray-900 sticky left-0 bg-white border-r font-medium`,style:{minWidth:d?"150px":"200px"},children:o.jsxs("div",{className:d?"text-xs":"text-sm",children:[f.name,f.variant_label&&o.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",f.variant_label,")"]})]})}),qo.map(x=>{var _;const E=((_=f.quantities)==null?void 0:_[x.username])||0,k=x.username===h,P=f.code_produit+x.username,A=c[P];return o.jsx("td",{className:`${d?"px-1 py-2":"px-4 py-3"} text-center ${k?"bg-green-50":""}`,children:o.jsx("input",{type:"number",min:"0",value:E,onChange:T=>S(f.code_produit,x.username,T.target.value,!1),onBlur:T=>{const O=parseInt(T.target.value)||0;S(f.code_produit,x.username,O,!0)},onFocus:T=>T.target.select(),onClick:T=>T.target.select(),className:`${d?"w-14 text-sm":"w-20 text-sm"} px-2 py-1 text-center border rounded ${k?"bg-green-100 border-green-400 font-bold text-green-900":"border-gray-300"} ${A?"bg-green-300":""}`,style:A?{transition:"background-color 0.3s"}:{}})},x.username)})]},f.code_produit))})]})})]})},Ih=({currentUser:e})=>o.jsx("div",{className:"p-6",children:o.jsx(Nk,{currentUser:e,allowComment:!0})});function Ck({item:e,index:t,rawText:n,currentUser:r,onCorrect:s}){const[a,i]=m.useState(!0),[l,c]=m.useState({appointment_date:e.appointment_date||"",room:e.room||"",for_who:e.for_who||"",diapason:e.diapason||"",piano:e.piano||"",time:e.time||"",requester:e.requester||""}),[u,d]=m.useState(!1),g=l.appointment_date!==(e.appointment_date||"")||l.room!==(e.room||"")||l.for_who!==(e.for_who||"")||l.diapason!==(e.diapason||"")||l.piano!==(e.piano||"")||l.time!==(e.time||"")||l.requester!==(e.requester||""),b=(S,y)=>{c(j=>({...j,[S]:y}))},N=async()=>{d(!0);try{await fetch(`${pe}/api/place-des-arts/learn`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({original_text:n,parsed_date:e.appointment_date,parsed_room:e.room,parsed_for_who:e.for_who,parsed_diapason:e.diapason,parsed_piano:e.piano,parsed_time:e.time,parsed_requester:e.requester,parsed_confidence:e.confidence,corrected_date:l.appointment_date,corrected_room:l.room,corrected_for_who:l.for_who,corrected_diapason:l.diapason,corrected_piano:l.piano,corrected_time:l.time,corrected_requester:l.requester,corrected_by:(r==null?void 0:r.email)||"admin"})}),i(!1),s&&s(t,l)}catch(S){console.error("Erreur sauvegarde correction:",S),alert("Erreur lors de l'enregistrement de la correction")}finally{d(!1)}},h=e.confidence>=.8?"text-green-600 bg-green-50":e.confidence>=.6?"text-yellow-600 bg-yellow-50":"text-red-600 bg-red-50",v=e.confidence>=.8?" Haute confiance":e.confidence>=.6?" Moyenne confiance":" Faible confiance - Vrification requise";return a?o.jsxs("div",{className:"px-3 py-3 text-sm space-y-3 bg-blue-50 border-l-4 border-blue-400",children:[o.jsx("div",{className:"flex items-center justify-between mb-2",children:o.jsxs("span",{className:`text-xs px-2 py-1 rounded ${h}`,children:[v," (",Math.round(e.confidence*100),"%) - Mode dition"]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Date RDV"}),o.jsx("input",{type:"date",value:l.appointment_date,onChange:S=>b("appointment_date",S.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Heure"}),o.jsx("input",{type:"text",value:l.time,onChange:S=>b("time",S.target.value),placeholder:"Ex: 13h00",className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Salle"}),o.jsx("input",{list:"pda-rooms",value:l.room,onChange:S=>b("room",S.target.value),placeholder:"Ex: MS, WP, E...",className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),o.jsxs("datalist",{id:"pda-rooms",children:[o.jsx("option",{value:"WP",children:"Wilfrid-Pelletier"}),o.jsx("option",{value:"TM",children:"Thtre Maisonneuve"}),o.jsx("option",{value:"MS",children:"Maison Symphonique"}),o.jsx("option",{value:"SD",children:"Salle D"}),o.jsx("option",{value:"E",children:"Salle E"}),o.jsx("option",{value:"5E",children:"Cinquime Salle"}),o.jsx("option",{value:"C5",children:"Cinquime Salle (ancien)"}),o.jsx("option",{value:"SCL",children:"Studio Claude-Lveille"}),o.jsx("option",{value:"TJD",children:"Thtre Jean-Duceppe"}),o.jsx("option",{value:"ODM",children:"Opra de Montral"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Diapason"}),o.jsx("input",{type:"text",value:l.diapason,onChange:S=>b("diapason",S.target.value),placeholder:"Ex: 440",className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Pour qui (artiste/vnement)"}),o.jsx("input",{type:"text",value:l.for_who,onChange:S=>b("for_who",S.target.value),placeholder:"Ex: Clmence",className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Demandeur"}),o.jsx("input",{type:"text",value:l.requester,onChange:S=>b("requester",S.target.value),placeholder:"Ex: Isabelle",className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Piano"}),o.jsx("input",{type:"text",value:l.piano,onChange:S=>b("piano",S.target.value),placeholder:"Ex: Piano Baldwin (9')",className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),g&&o.jsx("div",{className:"flex gap-2 pt-2 border-t border-blue-200",children:o.jsx("button",{onClick:N,disabled:u,className:"px-3 py-1.5 text-sm bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50",children:u?"Enregistrement...":" Valider et apprendre"})}),e.warnings&&e.warnings.length>0&&o.jsxs("div",{className:"text-xs text-amber-700 bg-amber-50 border border-amber-200 rounded px-2 py-1",children:["Avertissements: ",e.warnings.join(" | ")]})]}):o.jsxs("div",{className:"px-3 py-3 text-sm space-y-2 bg-white hover:bg-gray-50",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("span",{className:`text-xs px-2 py-1 rounded ${h}`,children:[v," (",Math.round(e.confidence*100),"%)"]}),o.jsx("button",{onClick:()=>i(!0),className:"text-xs text-blue-600 hover:text-blue-800",children:" Modifier"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-gray-600",children:"Date RDV:"}),o.jsx("span",{className:"ml-2",children:e.appointment_date||""}),e.time&&o.jsx("span",{className:"ml-2 text-gray-600",children:e.time})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-gray-600",children:"Salle:"}),o.jsx("span",{className:"ml-2",children:e.room||""})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-gray-600",children:"Pour qui:"}),o.jsx("span",{className:"ml-2",children:e.for_who||""})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-gray-600",children:"Diapason:"}),o.jsx("span",{className:"ml-2",children:e.diapason||""})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("span",{className:"font-medium text-gray-600",children:"Piano:"}),o.jsx("span",{className:"ml-2",children:e.piano||""})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-gray-600",children:"Demandeur:"}),o.jsx("span",{className:"ml-2",children:e.requester||""})]})]}),e.warnings&&e.warnings.length>0&&o.jsxs("div",{className:"text-xs text-amber-700 bg-amber-50 border border-amber-200 rounded px-2 py-1",children:["Avertissements: ",e.warnings.join(" | ")]}),e.duplicate_of&&e.duplicate_of.length>0&&o.jsxs("div",{className:"text-xs text-red-700 bg-red-50 border border-red-200 rounded px-2 py-1",children:["Doublon potentiel : ",e.duplicate_of.join(", ")]})]})}function kk(e){if(!e)return"";try{return new Date(e).toLocaleDateString("fr-CA")}catch{return""}}function Ah(e,t){return{checked:e>0&&e===t,indeterminate:e>0&&e<t}}function Ek(e){const[t,n]=m.useState(new Set),[r,s]=m.useState(null),a=(g,b)=>{const N=e.indexOf(g),h=e.indexOf(b);if(N===-1||h===-1)return[];const[v,S]=[Math.min(N,h),Math.max(N,h)];return e.slice(v,S+1)},i=(g,b)=>{n(N=>{const h=new Set(N);return b&&r?a(r,g).forEach(S=>h.add(S)):h.has(g)?h.delete(g):h.add(g),h}),b||s(g)},l=()=>n(new Set(e)),c=()=>{n(new Set),s(null)},u=g=>t.has(g),d=t.size;return{selectedIds:t,handleClick:i,selectAll:l,clearAll:c,isSelected:u,count:d}}function _k(){const[e,t]=m.useState([]),[n,r]=m.useState(!0),[s,a]=m.useState(null),[i,l]=m.useState(""),[c,u]=m.useState(!1),[d,g]=m.useState({field:"location",order:"asc"}),[b,N]=m.useState(!1),h=m.useRef(null),v=m.useMemo(()=>e.map(C=>C.gazelleId||C.id),[e]),{selectedIds:S,handleClick:y,selectAll:j,clearAll:f,isSelected:x,count:E}=Ek(v);m.useEffect(()=>{k()},[]);const k=async()=>{try{r(!0),a(null);const C=await fetch(`${pe}/api/place-des-arts/pianos?include_inactive=true`);if(!C.ok)throw new Error(`HTTP ${C.status}`);const M=((await C.json()).pianos||[]).map(H=>({gazelleId:H.id||H.gazelleId,location:H.local||H.location||"",make:H.piano||H.make||"",model:H.modele||H.model||"",serialNumber:H.serie||H.serialNumber||"",type:H.type||"U",lastTuned:H.dernierAccord?new Date(H.dernierAccord):null,status:H.status||"normal",isHidden:H.hasNonTag||H.isHidden||!1,notes:H.observations||H.notes||null,travail:H.travail||null,aFaire:H.aFaire||null}));t(M)}catch(C){a(C.message)}finally{r(!1)}},P=m.useMemo(()=>{let C=[...e];if(i.trim()){const I=i.toLowerCase();C=C.filter(M=>(M.location||"").toLowerCase().includes(I)||(M.make||"").toLowerCase().includes(I)||(M.model||"").toLowerCase().includes(I)||(M.serialNumber||"").toLowerCase().includes(I))}return c&&(C=C.filter(I=>I.isHidden)),C.sort((I,M)=>{const H=I[d.field]||"",L=M[d.field]||"",D=d.order==="asc"?1:-1;if(d.field==="lastTuned"){const Y=I.lastTuned?new Date(I.lastTuned).getTime():0,K=M.lastTuned?new Date(M.lastTuned).getTime():0;return(Y-K)*D}return String(H).localeCompare(String(L))*D}),C},[e,i,c,d]);m.useEffect(()=>{if(h.current){const C=Ah(E,P.length);h.current.checked=C.checked,h.current.indeterminate=C.indeterminate}},[E,P.length]);const A=C=>{g(I=>({field:C,order:I.field===C&&I.order==="asc"?"desc":"asc"}))},_=C=>{C.target.checked?j():f()},T=async C=>{try{const I=!C.isHidden;t(H=>H.map(L=>L.gazelleId===C.gazelleId?{...L,isHidden:I}:L));const M=await fetch(`${pe}/api/place-des-arts/pianos/${C.gazelleId}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({isHidden:I})});if(!M.ok){const H=await M.json().catch(()=>({detail:"Erreur HTTP "+M.status}));throw new Error(H.detail||"Erreur lors de la mise  jour")}}catch(I){console.error("Error toggling hidden:",I),t(M=>M.map(H=>H.gazelleId===C.gazelleId?{...H,isHidden:C.isHidden}:H)),alert("Erreur lors de la mise  jour")}},O=async()=>{if(E!==0){N(!0);try{t(C=>C.map(I=>S.has(I.gazelleId)?{...I,isHidden:!1}:I));for(const C of Array.from(S)){const I=await fetch(`${pe}/api/place-des-arts/pianos/${C}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({isHidden:!1})});if(!I.ok){const M=await I.json().catch(()=>({detail:"Erreur HTTP "+I.status}));throw new Error(M.detail||"Erreur batch show")}}f(),await k()}catch(C){console.error("Error batch show:",C),alert("Erreur lors de l'affichage group"),await k()}finally{N(!1)}}},w=async()=>{if(E!==0&&confirm(`Masquer ${E} piano(s) de l'inventaire?`)){N(!0);try{t(C=>C.map(I=>S.has(I.gazelleId)?{...I,isHidden:!0}:I));for(const C of Array.from(S)){const I=await fetch(`${pe}/api/place-des-arts/pianos/${C}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({isHidden:!0})});if(!I.ok){const M=await I.json().catch(()=>({detail:"Erreur HTTP "+I.status}));throw new Error(M.detail||"Erreur batch hide")}}f(),await k()}catch(C){console.error("Error batch hide:",C),alert("Erreur lors du masquage group"),await k()}finally{N(!1)}}};if(n&&e.length===0)return o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Chargement des pianos Place des Arts..."})]})});if(s)return o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[o.jsx("h3",{className:"text-red-800 font-semibold mb-2",children:"Erreur"}),o.jsx("p",{className:"text-red-600",children:s}),o.jsx("button",{onClick:k,className:"mt-3 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Ressayer"})]});const R=Ah(E,P.length);return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Inventaire Pianos"}),o.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[P.length," piano(s)  ",E," slectionn(s)"]})]}),o.jsx("button",{onClick:k,disabled:n,className:"px-4 py-2 text-sm bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors disabled:opacity-50",children:" Actualiser"})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("input",{type:"text",placeholder:"Rechercher piano, local, srie...",value:i,onChange:C=>l(C.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),o.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100",children:[o.jsx("input",{type:"checkbox",checked:c,onChange:C=>u(C.target.checked),className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Masqus uniquement"})]})]})]}),E>0&&o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-blue-900 font-medium",children:[E," piano(s) slectionn(s)"]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:O,disabled:b,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 text-sm font-medium",children:" Afficher"}),o.jsx("button",{onClick:w,disabled:b,className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors disabled:opacity-50 text-sm font-medium",children:" Masquer"}),o.jsx("button",{onClick:f,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors text-sm font-medium",children:"Annuler"})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:o.jsxs("div",{className:"overflow-x-auto",children:[o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left w-12",children:o.jsx("input",{ref:h,type:"checkbox",checked:R.checked,onChange:_,className:"w-4 h-4 rounded cursor-pointer",title:"Slectionner tout (Shift+Clic pour plage)"})}),o.jsx("th",{onClick:()=>A("location"),className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors select-none",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{children:"Local"}),o.jsx("span",{className:"text-gray-400",children:d.field==="location"?d.order==="asc"?"":"":""})]})}),o.jsx("th",{onClick:()=>A("make"),className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors select-none",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{children:"Piano"}),o.jsx("span",{className:"text-gray-400",children:d.field==="make"?d.order==="asc"?"":"":""})]})}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Type"}),o.jsx("th",{onClick:()=>A("lastTuned"),className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors select-none",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{children:"Dernier Accord"}),o.jsx("span",{className:"text-gray-400",children:d.field==="lastTuned"?d.order==="asc"?"":"":""})]})}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Statut"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Visibilit"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:P.map(C=>o.jsxs("tr",{className:`
                    bg-white
                    ${x(C.gazelleId)?"ring-2 ring-blue-500":""}
                    hover:shadow-sm transition-all duration-100
                  `,children:[o.jsx("td",{className:"px-4 py-3",children:o.jsx("input",{type:"checkbox",checked:x(C.gazelleId),onChange:I=>y(C.gazelleId,I.shiftKey),onClick:I=>I.stopPropagation(),className:"w-4 h-4 rounded cursor-pointer"})}),o.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:C.location||""}),o.jsx("td",{className:"px-4 py-3",children:o.jsxs("div",{className:"text-sm",children:[o.jsx("div",{className:"font-medium text-gray-900",children:C.make||""}),C.model&&o.jsx("div",{className:"text-gray-500 text-xs",children:C.model}),C.serialNumber&&o.jsxs("div",{className:"text-gray-400 text-xs mt-0.5",children:["Srie: ",C.serialNumber]})]})}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700",children:C.type==="G"?"Grand":C.type==="U"?"Droit":C.type||""})}),o.jsx("td",{className:"px-4 py-3",children:C.lastTuned?o.jsx("span",{className:"text-sm text-gray-600",children:kk(C.lastTuned)}):o.jsx("span",{className:"text-sm text-gray-400",children:""})}),o.jsxs("td",{className:"px-4 py-3",children:[C.status==="normal"&&o.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700",children:"Normal"}),C.status==="proposed"&&o.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-700",children:" faire"}),C.status==="completed"&&o.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:"Complt"}),C.status==="top"&&o.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-amber-100 text-amber-700",children:"Top"})]}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("button",{onClick:()=>T(C),className:`
                        px-3 py-1 rounded-lg text-sm font-medium transition-colors
                        ${C.isHidden?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"}
                      `,children:C.isHidden?" Masqu":" Visible"})})]},C.gazelleId))})]}),P.length===0&&o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-gray-500",children:"Aucun piano trouv"})})]})})]})}function bu({currentUser:e}){const[t,n]=m.useState("demandes"),r=(e==null?void 0:e.role)==="nick",s=(e==null?void 0:e.role)==="admin",[a,i]=m.useState([]),[l,c]=m.useState(!1),[u,d]=m.useState(null),[g,b]=m.useState({imported:0,to_bill:0,this_month:0}),[N,h]=m.useState(!1),[v,S]=m.useState(!1),[y,j]=m.useState(!1),[f,x]=m.useState({appointment_date:"",room:"",for_who:"",piano:"",time:"",diapason:"",requester:"",technician_id:"",notes:"",billing_amount:"",parking:""}),[E,k]=m.useState(new Date().getFullYear()),[P,A]=m.useState(""),[_,T]=m.useState(""),[O,w]=m.useState(""),[R,C]=m.useState(""),[I,M]=m.useState(""),[H,L]=m.useState(""),[D,Y]=m.useState("asc"),[K,fe]=m.useState([]),[te,Ee]=m.useState(""),[be,le]=m.useState([]),[je,Ve]=m.useState(!1),[ze,he]=m.useState(!1),[Ce,de]=m.useState(null),_e=m.useCallback(async()=>{try{c(!0),d(null);const p=await fetch(`${pe}/api/place-des-arts/requests?limit=200`);if(!p.ok)throw new Error(`HTTP ${p.status}`);const $=await p.json();i($||[])}catch(p){d(p.message)}finally{c(!1)}},[]),ye=m.useCallback(async()=>{try{const p=await fetch(`${pe}/api/place-des-arts/stats`);if(!p.ok)throw new Error(`HTTP ${p.status}`);const $=await p.json();b($||{imported:0,to_bill:0,this_month:0})}catch{}},[]);m.useEffect(()=>{_e(),ye()},[_e]);const Se=m.useMemo(()=>a.filter(p=>{if(P&&p.status!==P||_&&p.appointment_date&&!p.appointment_date.startsWith(_)||R&&p.technician_id!==R||I&&(p.room||"").toUpperCase()!==I.toUpperCase())return!1;if(O){const $=O.toLowerCase();if(![p.for_who,p.piano,p.room,p.requester,p.diapason,p.time].join(" ").toLowerCase().includes($))return!1}return!0}),[a,P,_,R,I,O]),Qe=m.useMemo(()=>{const p=[],$=new Date;for(let z=-2;z<=12;z++){const J=new Date($.getFullYear(),$.getMonth()+z,1).toISOString().substring(0,7);p.push(J)}return p},[]),De=m.useMemo(()=>{if(!_)return null;let p=0,$=0;return Se.forEach(z=>{const F=parseFloat(z.billing_amount)||0;p+=F;const J=parseFloat(z.parking)||0;$+=J}),{billing:p,parking:$,total:p+$,count:Se.length}},[Se,_]),Fe=m.useMemo(()=>{if(!H)return Se;const p=D==="desc"?-1:1,$=(z,F)=>{const J=(z==null?void 0:z[H])??"",se=(F==null?void 0:F[H])??"";if(H==="request_date"||H==="appointment_date"){const G=J?new Date(J).getTime():0,Q=se?new Date(se).getTime():0;return(G-Q)*p}return String(J).localeCompare(String(se))*p};return[...Se].sort($)},[Se,H,D]),Be=p=>{H===p?Y($=>$==="asc"?"desc":"asc"):(L(p),Y("asc"))},Pe=p=>H!==p?"":D==="asc"?"":"",Ge=p=>{fe($=>$.includes(p)?$.filter(z=>z!==p):[...$,p])},ue=()=>{K.length===Se.length?fe([]):fe(Se.map(p=>p.id))},$e=async(p,$)=>{try{d(null);const z=await fetch(p,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($)});if(!z.ok){const F=await z.text();throw new Error(F||`HTTP ${z.status}`)}await _e(),await ye(),de("Action effectue"),fe([])}catch(z){d(z.message)}},Ae=async(p,$=null)=>{const z=$||K;if(!(!p||z.length===0)){if(p==="ASSIGN_OK"){const F=prompt(`Assign  quel technicien?

1 - Nick
2 - Allan
3 - JP

Entrez le numro (1, 2 ou 3):`);if(!F)return;const se={1:"usr_HcCiFk7o0vZ9xAI0",2:"usr_ofYggsCDt2JAVeNP",3:"usr_ReUSmIJmBF86ilY1"}[F.trim()];if(!se){alert("Choix invalide. Veuillez entrer 1, 2 ou 3.");return}try{console.log(` Assignation de ${z.length} demande(s) au technicien ${se}`),d(null),de(null);for(const Q of z)console.log(`   Mise  jour demande ${Q}...`),await Oe(Q,"technician_id",se),await Oe(Q,"status","ASSIGN_OK"),console.log(`   Demande ${Q} mise  jour`);console.log(" Rechargement des donnes..."),await _e();const G=`Technicien assign pour ${z.length} lment(s)`;console.log(` ${G}`),de(G),fe([])}catch(G){console.error(" Erreur lors de l'assignation:",G),d(`Erreur: ${G.message}`)}return}if(p==="CREATED_IN_GAZELLE"){try{d(null),de(" Validation en cours...");const F=[];for(const J of z){const se=a.find(ve=>ve.id===J);if(!se)continue;const G=await fetch(`${pe}/api/place-des-arts/validate-gazelle-rv`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({request_id:J,appointment_date:se.appointment_date,room:se.room})});if(!G.ok)throw new Error(`Erreur validation: ${G.status}`);(await G.json()).found||F.push({date:se.appointment_date,room:se.room,for_who:se.for_who||"(sans nom)"})}if(F.length>0){const J=F.map(se=>`${se.date} - ${se.room} - ${se.for_who}`).join(`
`);if(d(` ALERTE: ${F.length} RV non trouv(s) dans Gazelle:

${J}

Voulez-vous quand mme marquer comme "Cr Gazelle"?`),!window.confirm(` ALERTE: ${F.length} RV non trouv(s) dans Gazelle:

${J}

Voulez-vous quand mme marquer comme "Cr Gazelle"?`)){d(null),de(null);return}}await $e(`${pe}/api/place-des-arts/requests/update-status-batch`,{request_ids:z,status:p}),F.length===0&&de(` ${z.length} demande(s) marque(s) "Cr Gazelle" (RV valids)`)}catch(F){d(F.message||"Erreur lors de la validation")}return}await $e(`${pe}/api/place-des-arts/requests/update-status-batch`,{request_ids:z,status:p})}},Ye=async()=>{K.length!==0&&await $e(`${pe}/api/place-des-arts/requests/bill`,{request_ids:K,status:"BILLED"})},Xe=async()=>{K.length!==0&&await $e(`${pe}/api/place-des-arts/requests/delete`,{request_ids:K})},xt=async()=>{try{d(null),de(null);const p=await fetch(`${pe}/api/place-des-arts/requests/find-duplicates`);if(!p.ok)throw new Error(`Erreur lors de la recherche de doublons: ${p.status}`);const z=(await p.json()).duplicates||[];if(z.length===0){de("Aucun doublon dtect");return}const F=z.map((se,G)=>`${G+1}. ${se.appointment_date} - ${se.room} - ${se.for_who||"(sans nom)"} (ID: ${se.id})`).join(`
`),J=`${z.length} doublon(s) dtect(s):

${F}

Voulez-vous vraiment supprimer ces doublons?`;if(!window.confirm(J)){de("Suppression annule");return}await $e(`${pe}/api/place-des-arts/requests/delete-duplicates`,{})}catch(p){d(p.message||"Erreur lors de la suppression des doublons")}},zt=async()=>{try{d(null),de(" Synchronisation complte en cours... (1/2)");const p=Se.map(G=>G.id),$=await fetch(`${pe}/api/place-des-arts/sync-manual`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({request_ids:p})});if(!$.ok)throw new Error(`Erreur sync: ${$.status}`);const z=await $.json();de(" Vrification des RV complts... (2/2)");const F=await fetch(`${pe}/api/place-des-arts/check-completed`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!F.ok)throw new Error(`Erreur vrification complts: ${F.status}`);const J=await F.json();await _e();const se=[];if(z.updated>0&&se.push(`${z.updated} demande(s) lie(s)  un RV Gazelle`),J.updated>0&&se.push(`${J.updated} demande(s) marque(s) comme complte(s)`),z.completed>0&&se.push(`${z.completed} demande(s) complte(s) lors de la sync`),se.length>0?de(` Synchronisation termine: ${se.join(", ")}`):de(" Synchronisation termine - Aucune mise  jour ncessaire"),z.has_warnings&&z.warnings&&z.warnings.length>0){const G=z.warnings.map(Q=>` ${Q.error_code||"RV_NOT_FOUND"}
   ${Q.date} - ${Q.room} - ${Q.for_who||"(sans nom)"}`).join(`

`);d(` ${z.warnings.length} RV non trouv(s) dans Gazelle:

${G}`)}}catch(p){d(p.message||"Erreur lors de la synchronisation")}},ne=()=>{window.open(`${pe}/api/place-des-arts/export`,"_blank")},Oe=async(p,$,z,F=2)=>{try{console.log(` updateCellRaw: id=${p}, field=${$}, value=${z}`);const J=new AbortController,se=setTimeout(()=>J.abort(),3e4);try{const G=await fetch(`${pe}/api/place-des-arts/requests/update-cell`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({request_id:p,field:$,value:z}),signal:J.signal});if(clearTimeout(se),console.log(` Response status: ${G.status}`),!G.ok){const ve=await G.text();throw console.error(` Error response: ${ve}`),new Error(ve||`HTTP ${G.status}`)}const Q=await G.json();return console.log(" Update successful:",Q),Q}catch(G){if(clearTimeout(se),F>0&&(G.name==="AbortError"||G.message==="Failed to fetch"))return console.log(` Retry ${3-F}/2 aprs erreur rseau...`),await new Promise(Q=>setTimeout(Q,2e3)),await Oe(p,$,z,F-1);throw G}}catch(J){throw console.error(" updateCellRaw failed:",J),J.name==="AbortError"?new Error("Timeout: L'API met trop de temps  rpondre (peut-tre en train de se rveiller)"):J}},we=async(p,$,z,F)=>{try{if(!$||!z||!F)return null;const J=await fetch(`${pe}/api/place-des-arts/requests/push-to-gazelle`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({request_id:p,piano_id:$,technician_id:z,summary:"Accord",comment:F,update_last_tuned:!0})});if(!J.ok){const G=await J.text();throw new Error(G||`HTTP ${J.status}`)}return await J.json()}catch(J){throw console.error("Erreur push vers Gazelle:",J),J}},ke=async(p,$,z)=>{try{d(null);const F=K.includes(p)&&K.length>1?K:[p];let J=!1;for(const G of F){const Q=a.find(ve=>ve.id===G);if(Q){if($==="technician_id"&&z&&z!==U&&Q.appointment_id)try{const ve=await fetch(`${pe}/api/place-des-arts/requests/${G}/verify-technician`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({technician_id:z})});if(ve.ok&&!(await ve.json()).confirmed){d(" Le RV dans Gazelle n'a pas encore ce technicien. Vrifiez dans Gazelle d'abord.");return}}catch(ve){console.warn("Erreur vrification technicien dans Gazelle:",ve)}if(await Oe(G,$,z),$==="technician_id"&&z&&z!==U&&await Oe(G,"status","ASSIGN_OK"),$==="notes"&&z&&Q.technician_id)try{const ve=await fetch(`${pe}/api/place-des-arts/requests/${G}/gazelle-piano-id`);if(ve.ok){const He=(await ve.json()).piano_id;if(He&&Q.technician_id){const it=await we(G,He,Q.technician_id,z);it&&it.success&&(J=!0)}else console.warn("Piano Gazelle ou technicien manquant pour push")}}catch(ve){console.warn("Push Gazelle chou (non bloquant):",ve)}}}await _e();let se=`Champ mis  jour pour ${F.length} lment(s)`;J&&(se+=" - Mis  jour dans Gazelle "),de(se)}catch(F){d(F.message)}},_t=async()=>{if(K.length)try{d(null);const p=parseInt(E,10);if(!p||p<2e3||p>2100)throw new Error("Anne invalide");for(const $ of K){const z=a.find(G=>G.id===$);if(!z)continue;const F=G=>{if(!G)return null;const Q=new Date(G);return Number.isNaN(Q.getTime())?null:(Q.setFullYear(p),Q.toISOString().slice(0,10))},J=F(z.appointment_date),se=F(z.request_date);J&&await Oe($,"appointment_date",J),se&&await Oe($,"request_date",se)}await _e(),de(`Anne mise  ${E} pour ${K.length} lment(s)`),fe([])}catch(p){d(p.message)}},Jt=async()=>{var p;if(console.log(" handlePreview appel",{rawText:te==null?void 0:te.substring(0,50),API_URL:pe}),!te.trim()){console.log(" rawText vide, retour");return}try{Ve(!0),de(null),d(null),console.log(" Envoi requte preview...",`${pe}/api/place-des-arts/preview`),console.log(" Texte envoy (preview):",{length:te.length,first200:te.substring(0,200),lines:te.split(`
`).length,fullText:te});const $=await fetch(`${pe}/api/place-des-arts/preview`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({raw_text:te,source:"email"})});if(console.log(" Rponse reue",$.status,$.statusText),!$.ok){const re=await $.text();throw console.error(" Erreur HTTP",$.status,re),new Error(re||`HTTP ${$.status}`)}const z=await $.json();console.log(" Donnes reues",{success:z.success,count:z.count,previewLength:(p=z.preview)==null?void 0:p.length,preview:z.preview,needs_validation:z.needs_validation,message:z.message,fullResponse:JSON.stringify(z,null,2)}),console.log(" Texte envoy  l'API:",te.substring(0,200));const F=z.preview||[];if(console.log(" Mise  jour preview state",{previewItemsCount:F.length}),le(F),F.length===0)le([{appointment_date:null,room:null,for_who:null,diapason:null,requester:null,piano:null,time:null,service:null,notes:null,confidence:0,warnings:["Aucun champ dtect automatiquement - Compltez manuellement"],needs_validation:!0,learned:!1,duplicate_of:[]}]),de("Aucun champ dtect automatiquement. Compltez les champs manuellement ci-dessous."),d(null),console.log(" Aucun preview item dtect, cration d'un preview vide pour dition manuelle");else{const re=`${F.length} demande(s) dtecte(s)${z.needs_validation?" - Vrification et compltion requises":""}`;de(re),d(null),console.log(" Preview items  afficher:",F.length)}const J=/^\s*\d{1,2}\s*(jan|fv|fev|mar|avr|mai|juin|juil|ao|aou|sep|oct|nov|dc|dec)/i,se=te.split(`
`),G=[];let Q=[];for(const re of se)J.test(re)&&Q.length>0?(G.push(Q.filter(He=>He.trim()).join(", ")),Q=[re.trim()]):re.trim()&&Q.push(re.trim());Q.length>0&&G.push(Q.filter(re=>re.trim()).join(", "));const ve=G.filter(re=>re.length>0).join(`
`);ve!==te&&(Ee(ve),console.log(" Texte reformat")),console.log(" Preview termin",{previewCount:F.length})}catch($){console.error(" Erreur handlePreview",$),d($.message)}finally{Ve(!1)}},jt=async()=>{if(!(!te.trim()&&be.length===0))try{he(!0),d(null),de(null);let p;if(be.length>0?p=await fetch(`${pe}/api/place-des-arts/import-preview`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:be})}):p=await fetch(`${pe}/api/place-des-arts/import`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({raw_text:te,source:"email"})}),!p.ok){const z=await p.text();throw new Error(z||`HTTP ${p.status}`)}const $=await p.json();de($.message||`Import: ${$.imported||0}`),le([]),Ee(""),await _e()}catch(p){d(p.message)}finally{he(!1)}},Ht={usr_HcCiFk7o0vZ9xAI0:"Nick",usr_ofYggsCDt2JAVeNP:"Allan",usr_ReUSmIJmBF86ilY1:"JP",usr_HihJsEgkmpTEziJo:" attribuer",usr_QmEpdeM2xMgZVkDS:"JP",usr_U9E5bLxrFiXqTbE8:"Nick (ancien ID)",usr_allan:"Allan (ancien ID)",usr_jp:"JP (ancien ID)"},ce=new Set(["usr_HcCiFk7o0vZ9xAI0","usr_ofYggsCDt2JAVeNP","usr_ReUSmIJmBF86ilY1","usr_QmEpdeM2xMgZVkDS"]),St=p=>p?p==="usr_QmEpdeM2xMgZVkDS"?"usr_ReUSmIJmBF86ilY1":p:null,U="usr_HihJsEgkmpTEziJo",Z=m.useMemo(()=>[{id:"usr_HcCiFk7o0vZ9xAI0",label:"Nick"},{id:"usr_ofYggsCDt2JAVeNP",label:"Allan"},{id:"usr_ReUSmIJmBF86ilY1",label:"JP"}],[]),W=p=>p===U;return o.jsxs("div",{className:`${N?"fixed inset-0 z-50 bg-white overflow-auto":"min-h-screen bg-gray-50"}`,children:[o.jsx("nav",{className:"bg-white border-b border-gray-200 shadow-sm sticky top-[60px] z-40",children:o.jsx("div",{className:"max-w-7xl mx-auto px-6",children:o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("button",{onClick:()=>n("inventaire-pianos"),className:`
                px-6 py-3 text-sm font-medium transition-colors
                border-b-2
                ${t==="inventaire-pianos"?"border-blue-600 text-blue-600 bg-blue-50":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300"}
              `,children:" Inventaire Pianos"}),o.jsx("button",{onClick:()=>n("demandes"),className:`
                px-6 py-3 text-sm font-medium transition-colors
                border-b-2
                ${t==="demandes"?"border-blue-600 text-blue-600 bg-blue-50":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300"}
              `,children:" Demandes"})]})})}),o.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-8",children:[t==="inventaire-pianos"&&o.jsx(_k,{}),t==="demandes"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Demandes Place des Arts"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Demandes importes (limite 200, tri date RDV desc)"}),o.jsxs("div",{className:"mt-3 p-3 bg-gray-50 border border-gray-200 rounded-md text-xs",children:[o.jsx("p",{className:"font-semibold text-gray-700 mb-2",children:" Lgende des couleurs (Louise & Nick) :"}),o.jsxs("div",{className:"flex flex-wrap gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 bg-red-50 border border-red-200 rounded"}),o.jsxs("span",{className:"text-gray-600",children:[o.jsx("strong",{children:"Rouge"}),' : Nouveau ou RV cr avec " attribuer" (action requise)']})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 bg-white border border-gray-200 rounded"}),o.jsxs("span",{className:"text-gray-600",children:[o.jsx("strong",{children:"Blanc"})," : RV assign  un technicien actif (Nick, Allan, JP) - Tout OK"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 bg-green-50 border border-green-200 rounded"}),o.jsxs("span",{className:"text-gray-600",children:[o.jsx("strong",{children:"Vert"})," : RV complt"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 bg-blue-50 border border-blue-200 rounded"}),o.jsxs("span",{className:"text-gray-600",children:[o.jsx("strong",{children:"Bleu"})," : Ligne slectionne"]})]})]}),o.jsx("p",{className:"text-gray-500 mt-2 text-xs italic",children:'Flux : Rouge (nouveau)  Rouge (cr Gazelle " attribuer")  Blanc (technicien assign)  Vert (complt)'})]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 text-gray-700 px-3 py-1 rounded-md text-sm",children:[o.jsx("span",{className:"font-semibold",children:g.imported??0}),o.jsx("span",{children:"nouvelles"})]}),o.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 text-gray-700 px-3 py-1 rounded-md text-sm",children:[o.jsx("span",{className:"font-semibold",children:g.to_bill??0}),o.jsx("span",{children:" facturer"})]}),o.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 text-gray-700 px-3 py-1 rounded-md text-sm",children:[o.jsx("span",{className:"font-semibold",children:g.this_month??0}),o.jsx("span",{children:"ce mois"})]}),o.jsx("button",{onClick:()=>{const p=!N;h(p);try{p&&document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():!p&&document.exitFullscreen&&document.exitFullscreen()}catch{}},className:"px-3 py-2 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:N?"Mode fentr":"Plein cran"})]})]})}),y&&o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 space-y-3",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Ajouter une demande"}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 text-sm",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-600",children:"Date RDV"}),o.jsx("input",{type:"date",value:f.appointment_date,onChange:p=>x({...f,appointment_date:p.target.value}),className:"w-full border border-gray-300 rounded px-2 py-1"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-600",children:"Salle"}),o.jsx("input",{list:"pda-rooms-create",type:"text",value:f.room,onChange:p=>x({...f,room:p.target.value}),className:"w-full border border-gray-300 rounded px-2 py-1",placeholder:"Ex: MS, WP, E..."}),o.jsxs("datalist",{id:"pda-rooms-create",children:[o.jsx("option",{value:"WP",children:"Wilfrid-Pelletier"}),o.jsx("option",{value:"TM",children:"Thtre Maisonneuve"}),o.jsx("option",{value:"MS",children:"Maison Symphonique"}),o.jsx("option",{value:"SD",children:"Salle D"}),o.jsx("option",{value:"E",children:"Salle E"}),o.jsx("option",{value:"5E",children:"Cinquime Salle"}),o.jsx("option",{value:"SCL",children:"Studio Claude-Lveille"}),o.jsx("option",{value:"TJD",children:"Thtre Jean-Duceppe"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-600",children:"Pour qui"}),o.jsx("input",{type:"text",value:f.for_who,onChange:p=>x({...f,for_who:p.target.value}),className:"w-full border border-gray-300 rounded px-2 py-1"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"text-xs text-gray-600",children:"Piano"}),o.jsx("input",{type:"text",value:f.piano,onChange:p=>x({...f,piano:p.target.value}),className:"w-full border border-gray-300 rounded px-2 py-1"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-600",children:"Heure"}),o.jsx("input",{type:"text",value:f.time,onChange:p=>x({...f,time:p.target.value}),className:"w-full border border-gray-300 rounded px-2 py-1"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-600",children:"Diapason"}),o.jsx("input",{type:"text",value:f.diapason,onChange:p=>x({...f,diapason:p.target.value}),className:"w-full border border-gray-300 rounded px-2 py-1"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-600",children:"Demandeur"}),o.jsx("input",{type:"text",value:f.requester,onChange:p=>x({...f,requester:p.target.value}),className:"w-full border border-gray-300 rounded px-2 py-1"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-600",children:"Technicien"}),o.jsxs("select",{value:f.technician_id,onChange:p=>x({...f,technician_id:p.target.value}),className:"w-full border border-gray-300 rounded px-2 py-1",children:[o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"usr_U9E5bLxrFiXqTbE8",children:"Nick"}),o.jsx("option",{value:"usr_allan",children:"Allan"}),o.jsx("option",{value:"usr_jp",children:"JP"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-600",children:"Facturation"}),o.jsx("input",{type:"number",step:"0.01",value:f.billing_amount,onChange:p=>x({...f,billing_amount:p.target.value}),className:"w-full border border-gray-300 rounded px-2 py-1"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-600",children:"Stationnement"}),o.jsx("input",{type:"text",value:f.parking,onChange:p=>x({...f,parking:p.target.value}),className:"w-full border border-gray-300 rounded px-2 py-1"})]}),o.jsxs("div",{className:"md:col-span-3",children:[o.jsx("label",{className:"text-xs text-gray-600",children:"Notes"}),o.jsx("input",{type:"text",value:f.notes,onChange:p=>x({...f,notes:p.target.value}),className:"w-full border border-gray-300 rounded px-2 py-1"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:async()=>{try{d(null),de(null);const p=await fetch(`${pe}/api/place-des-arts/requests/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(!p.ok){const $=await p.text();throw new Error($||`HTTP ${p.status}`)}de("Demande ajoute"),j(!1),x({appointment_date:"",room:"",for_who:"",piano:"",time:"",diapason:"",requester:"",technician_id:"",notes:"",billing_amount:"",parking:""}),await _e()}catch(p){d(p.message)}},className:"px-3 py-2 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Enregistrer"}),o.jsx("button",{onClick:()=>j(!1),className:"px-3 py-2 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Annuler"})]})]}),o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 space-y-3",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Import depuis email (copier-coller)"}),o.jsx("textarea",{value:te,onChange:p=>Ee(p.target.value),placeholder:"Collez le texte de l'email ici...",className:"w-full min-h-[140px] border border-gray-300 rounded-md p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsx("button",{onClick:p=>{if(p.preventDefault(),p.stopPropagation(),console.log(" Bouton Prvisualiser cliqu",{rawTextLength:te==null?void 0:te.length,rawTextTrimmed:te==null?void 0:te.trim().length,previewLoading:je,API_URL:pe,isDisabled:!te.trim()||je}),!te.trim()){d("Veuillez entrer du texte  prvisualiser");return}if(je){console.log(" Preview dj en cours, ignor");return}Jt()},disabled:!te.trim()||je,className:"px-3 py-2 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed disabled:bg-gray-400",type:"button",children:je?" Prvisualisation...":" Prvisualiser"}),!te.trim()&&o.jsx("span",{className:"text-xs text-gray-500",children:"(Entrez du texte pour activer)"}),o.jsx("button",{onClick:()=>{Ee(""),le([]),de(null),d(null)},className:"px-3 py-2 text-sm bg-white border border-gray-200 rounded-md hover:bg-gray-50",children:"Effacer"})]}),u&&o.jsxs("div",{className:"text-sm text-red-700 bg-red-50 border border-red-200 px-3 py-2 rounded",children:[" Erreur: ",u]}),Ce&&o.jsx("div",{className:"text-sm text-green-700 bg-green-50 border border-green-200 px-3 py-2 rounded",children:Ce}),je&&o.jsx("div",{className:"text-sm text-blue-700 bg-blue-50 border border-blue-200 px-3 py-2 rounded mt-3",children:" Prvisualisation en cours..."}),be.length>0&&o.jsxs("div",{className:"border border-gray-200 rounded-md mt-3",children:[o.jsxs("div",{className:"bg-gray-50 px-3 py-2 text-sm font-medium text-gray-700 flex items-center justify-between",children:[o.jsx("span",{children:be.some(p=>p.confidence===0)?" Prvisualisation (compltez manuellement)":` Prvisualisation (${be.length} demande${be.length>1?"s":""})`}),o.jsx("span",{className:"text-xs text-gray-500",children:be.filter(p=>p.confidence<1||p.needs_validation).length>0&&`${be.filter(p=>p.confidence<1||p.needs_validation).length} item(s) ncessitent une vrification`})]}),o.jsx("div",{className:"max-h-96 overflow-y-auto divide-y divide-gray-100",children:be.map((p,$)=>o.jsx(Ck,{item:p,index:$,rawText:te,currentUser:e,onCorrect:(z,F)=>{le(J=>J.map((se,G)=>G===z?{...se,...F,confidence:1}:se))}},$))}),o.jsxs("div",{className:"bg-gray-50 px-3 py-3 border-t border-gray-200 flex justify-between items-center",children:[o.jsxs("div",{className:"text-xs text-gray-600",children:[" ",o.jsx("strong",{children:"Astuce:"}),' Compltez les champs manquants, puis cliquez sur "Valider et apprendre" pour amliorer le systme, puis "Importer" pour enregistrer.']}),o.jsx("button",{onClick:jt,disabled:ze,className:"px-4 py-2 text-sm bg-blue-600 text-white hover:bg-blue-700 rounded-md disabled:opacity-50 font-medium",children:ze?"Import en cours...":` Importer ${be.length} demande${be.length>1?"s":""}`})]})]})]}),o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 flex flex-wrap items-center gap-2",children:[s&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:xt,className:"px-3 py-2 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50",title:"Admin uniquement",children:" Nettoyer doublons"}),o.jsx("button",{onClick:ne,className:"px-3 py-2 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50",title:"Admin uniquement",children:" Export CSV"})]}),o.jsx("button",{onClick:()=>S(p=>!p),className:`px-3 py-2 text-sm border rounded-md ${v?"bg-blue-600 text-white border-blue-600":"bg-white border-gray-300 hover:bg-gray-50"}`,children:v?"Mode dition activ":"Mode dition"}),o.jsx("button",{onClick:()=>j(p=>!p),className:`px-3 py-2 text-sm rounded-md ${y?"bg-blue-600 text-white hover:bg-blue-700":"bg-white border border-gray-300 hover:bg-gray-50"}`,children:y?"Fermer ajout":" Ajouter manuellement"}),!r&&o.jsx("button",{onClick:zt,className:"px-4 py-2 text-sm bg-blue-600 text-white border border-blue-700 rounded-md hover:bg-blue-700 font-medium",title:"Synchronise toutes les demandes avec Gazelle : lie les RV, met  jour les statuts et vrifie les complts",children:" Synchroniser tout avec Gazelle"}),o.jsxs("div",{className:"flex items-center gap-2 ml-auto flex-wrap",children:[o.jsxs("select",{value:_,onChange:p=>T(p.target.value),className:"border border-gray-300 rounded-md px-2 py-1 text-sm",children:[o.jsx("option",{value:"",children:"Toutes les dates"}),Qe.map(p=>{const[$,z]=p.split("-"),J=new Date(parseInt($),parseInt(z)-1,1).toLocaleDateString("fr-FR",{year:"numeric",month:"long"});return o.jsx("option",{value:p,children:J.charAt(0).toUpperCase()+J.slice(1)},p)})]}),De&&o.jsxs("div",{className:"flex items-center gap-4 bg-blue-50 border border-blue-200 rounded-md px-3 py-1 text-sm",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-xs text-gray-500",children:"Facturation"}),o.jsxs("span",{className:"font-semibold text-blue-700",children:[De.billing.toFixed(2)," $"]})]}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-xs text-gray-500",children:"Stationnement"}),o.jsxs("span",{className:"font-semibold text-blue-700",children:[De.parking.toFixed(2)," $"]})]}),o.jsxs("div",{className:"flex flex-col border-l border-blue-300 pl-4",children:[o.jsx("span",{className:"text-xs text-gray-500",children:"Total"}),o.jsxs("span",{className:"font-bold text-blue-900",children:[De.total.toFixed(2)," $"]})]}),o.jsxs("span",{className:"text-xs text-gray-500",children:["(",De.count," lment",De.count>1?"s":"",")"]})]}),!r&&o.jsxs(o.Fragment,{children:[o.jsxs("select",{value:P,onChange:p=>A(p.target.value),className:"border border-gray-300 rounded-md px-2 py-1 text-sm",children:[o.jsx("option",{value:"",children:"Tous statuts"}),o.jsx("option",{value:"PENDING",children:"Nouveau"}),o.jsx("option",{value:"ASSIGN_OK",children:"Assign"}),o.jsx("option",{value:"CREATED_IN_GAZELLE",children:"Cr Gazelle"}),o.jsx("option",{value:"COMPLETED",children:"Complt"}),o.jsx("option",{value:"BILLED",children:"Factur"})]}),o.jsx("input",{type:"text",value:I,onChange:p=>M(p.target.value),placeholder:"Salle",className:"border border-gray-300 rounded-md px-2 py-1 text-sm"}),o.jsx("input",{type:"text",value:R,onChange:p=>C(p.target.value),placeholder:"Technicien id",className:"border border-gray-300 rounded-md px-2 py-1 text-sm"}),o.jsx("input",{type:"text",value:O,onChange:p=>w(p.target.value),placeholder:"Recherche (client/piano)",className:"border border-gray-300 rounded-md px-2 py-1 text-sm"}),o.jsx("button",{onClick:()=>{A(""),T(""),M(""),C(""),w("")},className:"px-3 py-1 text-sm bg-gray-100 border border-gray-200 rounded-md hover:bg-gray-200",children:"Rinitialiser"})]})]})]}),K.length>0&&o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 flex flex-wrap gap-2 items-center",children:[o.jsxs("span",{className:"text-sm text-blue-800 font-medium",children:[K.length," slectionn(s)"]}),o.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[o.jsx("input",{type:"number",value:E,onChange:p=>k(p.target.value),className:"w-20 border border-gray-300 rounded px-2 py-1",min:"2000",max:"2100"}),o.jsx("button",{onClick:_t,className:"px-2 py-1 text-xs bg-white border border-gray-300 rounded hover:bg-gray-50",children:"Changer l'anne"})]}),o.jsxs("select",{onChange:p=>Ae(p.target.value),defaultValue:"",className:"text-xs border border-gray-300 rounded px-2 py-1 bg-white",children:[o.jsx("option",{value:"",children:"Changer statut..."}),o.jsx("option",{value:"PENDING",children:"Nouveau"}),o.jsx("option",{value:"ASSIGN_OK",children:"Assign"}),o.jsx("option",{value:"CREATED_IN_GAZELLE",children:"Cr Gazelle"}),o.jsx("option",{value:"COMPLETED",children:"Complt"}),o.jsx("option",{value:"BILLED",children:"Factur"})]}),o.jsx("button",{onClick:()=>Ae("PENDING"),className:"px-2 py-1 text-xs bg-white border border-gray-300 rounded hover:bg-gray-50",children:"Statut: Nouveau"}),o.jsx("button",{onClick:()=>Ae("ASSIGN_OK"),className:"px-2 py-1 text-xs bg-white border border-gray-300 rounded hover:bg-gray-50",children:"Statut: Assign"}),o.jsx("button",{onClick:()=>Ae("CREATED_IN_GAZELLE"),className:"px-2 py-1 text-xs bg-white border border-gray-300 rounded hover:bg-gray-50",children:"Statut: Cr Gazelle"}),o.jsx("button",{onClick:()=>Ae("COMPLETED"),className:"px-2 py-1 text-xs bg-white border border-gray-300 rounded hover:bg-gray-50",children:"Statut: Complt"}),o.jsx("button",{onClick:Ye,className:"px-2 py-1 text-xs bg-white border border-gray-300 rounded hover:bg-gray-50",children:"Facturer"}),o.jsx("button",{onClick:Xe,className:"px-2 py-1 text-xs bg-red-50 border border-red-200 text-red-700 rounded hover:bg-red-100",children:"Supprimer"}),o.jsx("button",{onClick:()=>fe([]),className:"ml-auto px-2 py-1 text-xs text-blue-800",children:"Dslectionner"})]}),l&&o.jsx("div",{className:"text-gray-600",children:"Chargement..."}),u&&o.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-3 py-2 rounded",children:["Erreur: ",u]}),!l&&!u&&o.jsxs("div",{className:"overflow-x-auto",children:[o.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-2 py-2",children:o.jsx("input",{type:"checkbox",className:"h-4 w-4",checked:K.length>0&&K.length===Se.length,onChange:ue})}),o.jsxs("th",{onClick:()=>Be("request_date"),className:"px-3 py-2 text-left font-medium text-gray-700 cursor-pointer select-none",children:["Date demande ",Pe("request_date")]}),o.jsxs("th",{onClick:()=>Be("appointment_date"),className:"px-3 py-2 text-left font-medium text-gray-700 cursor-pointer select-none",children:["Date RDV ",Pe("appointment_date")]}),o.jsxs("th",{onClick:()=>Be("room"),className:"px-3 py-2 text-left font-medium text-gray-700 cursor-pointer select-none",children:["Salle ",Pe("room")]}),o.jsxs("th",{onClick:()=>Be("for_who"),className:"px-3 py-2 text-left font-medium text-gray-700 cursor-pointer select-none",children:["Pour qui ",Pe("for_who")]}),o.jsxs("th",{onClick:()=>Be("diapason"),className:"px-3 py-2 text-left font-medium text-gray-700 cursor-pointer select-none",children:["Diapason ",Pe("diapason")]}),o.jsxs("th",{onClick:()=>Be("requester"),className:"px-3 py-2 text-left font-medium text-gray-700 cursor-pointer select-none",children:["Demandeur ",Pe("requester")]}),o.jsxs("th",{onClick:()=>Be("piano"),className:"px-3 py-2 text-left font-medium text-gray-700 cursor-pointer select-none",children:["Piano ",Pe("piano")]}),o.jsxs("th",{onClick:()=>Be("time"),className:"px-3 py-2 text-left font-medium text-gray-700 cursor-pointer select-none",children:["Heure ",Pe("time")]}),o.jsxs("th",{onClick:()=>Be("technician_id"),className:"px-3 py-2 text-left font-medium text-gray-700 cursor-pointer select-none",children:["Qui le fait ",Pe("technician_id")]}),o.jsxs("th",{onClick:()=>Be("notes"),className:"px-3 py-2 text-left font-medium text-gray-700 cursor-pointer select-none",children:["Commentaire ",Pe("notes")]}),o.jsxs("th",{onClick:()=>Be("billing_amount"),className:"px-3 py-2 text-left font-medium text-gray-700 cursor-pointer select-none",children:["Facturation ",Pe("billing_amount")]}),o.jsxs("th",{onClick:()=>Be("parking"),className:"px-3 py-2 text-left font-medium text-gray-700 cursor-pointer select-none",children:["Stationnement ",Pe("parking")]}),o.jsxs("th",{onClick:()=>Be("status"),className:"px-3 py-2 text-left font-medium text-gray-700 cursor-pointer select-none",children:["Statut ",Pe("status")]})]})}),o.jsxs("tbody",{className:"divide-y divide-gray-100 bg-white",children:[Fe.map(p=>{const $=p.status==="COMPLETED",z=St(p.technician_id),F=z&&ce.has(z),J=W(p.technician_id),se=!$&&(!p.appointment_id||p.appointment_id&&J||p.appointment_id&&!F),G=K.includes(p.id)?"bg-blue-50":$?"bg-green-50":se?"bg-red-50":"";return o.jsxs("tr",{className:G,children:[o.jsx("td",{className:"px-2 py-2",children:o.jsx("input",{type:"checkbox",className:"h-4 w-4",checked:K.includes(p.id),onChange:()=>Ge(p.id)})}),o.jsx("td",{className:"px-3 py-2 text-gray-800",children:v?o.jsx("input",{type:"date",value:p.request_date?p.request_date.slice(0,10):"",onChange:Q=>ke(p.id,"request_date",Q.target.value),className:"w-full border border-gray-200 rounded px-2 py-1 text-xs"}):p.request_date?p.request_date.slice(0,10):""}),o.jsx("td",{className:"px-3 py-2 text-gray-800",children:v?o.jsx("input",{type:"date",value:p.appointment_date?p.appointment_date.slice(0,10):"",onChange:Q=>ke(p.id,"appointment_date",Q.target.value),className:"w-full border border-gray-200 rounded px-2 py-1 text-xs"}):p.appointment_date?p.appointment_date.slice(0,10):""}),o.jsx("td",{className:"px-3 py-2 text-gray-800",children:v?o.jsx("input",{type:"text",value:p.room||"",onChange:Q=>ke(p.id,"room",Q.target.value),className:"w-full border border-gray-200 rounded px-2 py-1 text-xs"}):p.room||""}),o.jsx("td",{className:"px-3 py-2 text-gray-800",children:v?o.jsx("input",{type:"text",defaultValue:p.for_who||"",onBlur:Q=>ke(p.id,"for_who",Q.target.value),className:"w-full border border-gray-200 rounded px-2 py-1 text-xs"}):p.for_who||""}),o.jsx("td",{className:"px-3 py-2 text-gray-800",children:v?o.jsx("input",{type:"text",defaultValue:p.diapason||"",onBlur:Q=>ke(p.id,"diapason",Q.target.value),className:"w-full border border-gray-200 rounded px-2 py-1 text-xs"}):p.diapason||""}),o.jsx("td",{className:"px-3 py-2 text-gray-800",children:v?o.jsx("input",{type:"text",defaultValue:p.requester||"",onBlur:Q=>ke(p.id,"requester",Q.target.value),className:"w-full border border-gray-200 rounded px-2 py-1 text-xs"}):p.requester||""}),o.jsx("td",{className:"px-3 py-2 text-gray-800",children:v?o.jsx("input",{type:"text",defaultValue:p.piano||"",onBlur:Q=>ke(p.id,"piano",Q.target.value),className:"w-full border border-gray-200 rounded px-2 py-1 text-xs"}):p.piano||""}),o.jsx("td",{className:"px-3 py-2 text-gray-800",children:v?o.jsx("input",{type:"text",defaultValue:p.time||"",onBlur:Q=>ke(p.id,"time",Q.target.value),className:"w-full border border-gray-200 rounded px-2 py-1 text-xs"}):p.time||""}),o.jsx("td",{className:"px-3 py-2 text-gray-800",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsxs("select",{value:p.technician_id||"",onChange:Q=>ke(p.id,"technician_id",Q.target.value),className:`w-full border border-gray-200 rounded px-1 py-1 text-xs font-medium hover:bg-gray-50 cursor-pointer ${W(p.technician_id)||p.technician_mismatch?"bg-yellow-50 border-yellow-300 text-yellow-700":"bg-white"}`,title:p.technician_mismatch?` Incohrence: PDA=${Ht[p.technician_id]||p.technician_id}, Gazelle=${Ht[p.gazelle_technician_id]||p.gazelle_technician_id||" attribuer"}`:Ht[p.technician_id]||"Choisir technicien",style:{width:"90px"},children:[o.jsx("option",{value:"",children:""}),p.appointment_id&&(p.technician_id===U||p.technician_from_gazelle&&p.technician_id===U||p.gazelle_technician_id===U)&&o.jsx("option",{value:U,className:"text-yellow-700 font-medium",children:"  attribuer"}),Z.map(Q=>o.jsx("option",{value:Q.id,children:Q.label},Q.id))]}),W(p.technician_id)&&p.appointment_id&&o.jsx("span",{className:"text-xs text-yellow-600",title:"RV cr dans Gazelle mais technicien  attribuer - Assignez un technicien dans Gazelle",children:""}),p.technician_mismatch&&p.gazelle_technician_id&&o.jsx("span",{className:"text-xs text-yellow-600 cursor-help",title:` Incohrence: Dans Gazelle, le technicien est "${Ht[p.gazelle_technician_id]||p.gazelle_technician_id||" attribuer"}" mais PDA a "${Ht[p.technician_id]||p.technician_id}". Cliquez pour synchroniser avec Gazelle.`,onClick:async()=>{confirm(`Synchroniser avec Gazelle ? Le technicien sera chang pour "${Ht[p.gazelle_technician_id]||p.gazelle_technician_id||" attribuer"}"`)&&await ke(p.id,"technician_id",p.gazelle_technician_id)},children:""})]})}),o.jsx("td",{className:"px-3 py-2 text-gray-800",children:v?o.jsx("input",{type:"text",defaultValue:p.notes||"",onBlur:Q=>ke(p.id,"notes",Q.target.value),className:"w-full border border-gray-200 rounded px-2 py-1 text-xs"}):p.notes||""}),o.jsx("td",{className:"px-3 py-2 text-gray-800",children:v?o.jsx("input",{type:"number",step:"0.01",defaultValue:p.billing_amount??"",onBlur:Q=>ke(p.id,"billing_amount",Q.target.value),className:"w-full border border-gray-200 rounded px-2 py-1 text-xs"}):p.billing_amount??""}),o.jsx("td",{className:"px-3 py-2 text-gray-800",children:v?o.jsx("input",{type:"text",defaultValue:p.parking||"",onBlur:Q=>ke(p.id,"parking",Q.target.value),className:"w-full border border-gray-200 rounded px-2 py-1 text-xs"}):p.parking||""}),o.jsx("td",{className:"px-3 py-2",children:o.jsxs("select",{value:p.status||"",onChange:Q=>{const ve=K.includes(p.id)&&K.length>1?K:[p.id];Ae(Q.target.value,ve)},className:"text-xs border border-gray-300 rounded px-2 py-1 bg-white",children:[o.jsx("option",{value:"PENDING",children:"Nouveau"}),o.jsx("option",{value:"ASSIGN_OK",children:"Assign"}),o.jsx("option",{value:"CREATED_IN_GAZELLE",children:"Cr Gazelle"}),o.jsx("option",{value:"COMPLETED",children:"Complt"}),o.jsx("option",{value:"BILLED",children:"Factur"})]})})]},p.id)}),Se.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:14,className:"px-3 py-4 text-center text-gray-500",children:"Aucune donne"})})]})]}),o.jsx("datalist",{id:"tech-options",children:Z.map(p=>o.jsx("option",{value:p.id,children:p.label},p.id))})]})]})]})]})}function Tk({clientId:e,onClose:t,onAskQuestion:n}){const[r,s]=m.useState(!0),[a,i]=m.useState(null),[l,c]=m.useState(null);return m.useEffect(()=>{e&&(async()=>{try{s(!0),i(null);const d=encodeURIComponent(e),g=await fetch(`${pe}/api/assistant/client/${d}`);if(!g.ok)throw new Error(`HTTP ${g.status}`);const b=await g.json();c(b)}catch(d){console.error("Erreur chargement dtails client:",d),i(d.message)}finally{s(!1)}})()},[e]),o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:u=>{u.target===u.currentTarget&&t()},children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center z-10",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Dtails Client"}),o.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl font-bold",children:""})]}),o.jsxs("div",{className:"p-6",children:[r&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Chargement des dtails..."})]}),a&&o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded p-4 text-red-800",children:[" Erreur: ",a]}),l&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Informations"}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded space-y-2",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Nom:"})," ",l.name]}),l.address&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Adresse:"})," ",l.address]}),l.city&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Ville:"})," ",l.city]}),l.postal_code&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Code postal:"})," ",l.postal_code]}),l.phone&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Tlphone:"})," ",l.phone]}),l.email&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Email:"})," ",l.email]}),l.type&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Type:"})," ",o.jsx("span",{className:`px-2 py-1 rounded text-xs ${l.type==="client"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:l.type==="client"?"Client":"Contact"})]})]})]}),l.client_notes&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Notes Client"}),o.jsx("div",{className:"bg-yellow-50 p-4 rounded border-l-4 border-yellow-400",children:o.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:l.client_notes})})]}),l.associated_contacts&&l.associated_contacts.length>0&&o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold mb-2",children:["Contacts Associs (",l.associated_contacts.length,")"]}),o.jsx("div",{className:"space-y-2",children:l.associated_contacts.map((u,d)=>o.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[o.jsx("p",{className:"font-medium",children:u.name||"N/A"}),u.role&&o.jsx("p",{className:"text-sm text-gray-600",children:u.role}),u.phone&&o.jsxs("p",{className:"text-sm",children:[" ",u.phone]}),u.email&&o.jsxs("p",{className:"text-sm",children:[" ",u.email]})]},d))})]}),l.pianos&&l.pianos.length>0&&o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold mb-2",children:[" Pianos (",l.pianos.length,")"]}),o.jsx("div",{className:"space-y-3",children:l.pianos.map((u,d)=>o.jsxs("div",{className:"bg-gray-50 p-4 rounded border-l-4 border-blue-400",children:[o.jsxs("p",{className:"font-medium",children:[u.make||""," ",u.model||"",u.serial_number&&o.jsxs("span",{className:"text-gray-600 text-sm ml-2",children:["(S/N: ",u.serial_number,")"]})]}),o.jsxs("div",{className:"mt-2 space-y-1 text-sm",children:[u.year&&o.jsxs("p",{className:"text-gray-600",children:["Anne: ",u.year]}),u.type&&o.jsxs("p",{className:"text-gray-600",children:["Type: ",u.type]}),u.location&&o.jsxs("p",{className:"text-gray-600",children:[" ",u.location]}),u.notes&&o.jsx("div",{className:"mt-2 p-2 bg-blue-50 rounded",children:o.jsx("p",{className:"text-xs text-gray-700 whitespace-pre-wrap",children:u.notes})})]})]},d))})]}),l.service_history&&l.service_history.length>0&&o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold mb-2",children:[" Historique de Service (",l.service_history.length,")"]}),o.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:l.service_history.map((u,d)=>o.jsx("div",{className:"bg-blue-50 p-3 rounded border-l-4 border-blue-400",children:o.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:u})},d))})]}),l.timeline_summary&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:" Timeline"}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded border border-gray-200 space-y-2",children:[o.jsxs("div",{className:"text-sm text-gray-700",children:["Total: ",l.timeline_summary.total_entries||0,l.timeline_summary.first_entry_date&&l.timeline_summary.last_entry_date&&o.jsxs("span",{className:"ml-2 text-gray-500",children:["(",l.timeline_summary.first_entry_date,"  ",l.timeline_summary.last_entry_date,")"]})]}),l.timeline_summary.recent_entries&&l.timeline_summary.recent_entries.length>0&&o.jsx("div",{className:"space-y-1 text-sm text-gray-700",children:l.timeline_summary.recent_entries.map((u,d)=>o.jsxs("div",{className:"flex gap-2",children:[o.jsx("span",{className:"text-gray-500 min-w-[80px]",children:u.date||""}),o.jsx("span",{className:"whitespace-pre-wrap",children:u.text})]},d))})]})]}),l.upcoming_appointments&&l.upcoming_appointments.length>0&&o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold mb-2",children:[" Prochains Rendez-vous (",l.upcoming_appointments.length,")"]}),o.jsx("div",{className:"space-y-2",children:l.upcoming_appointments.map((u,d)=>o.jsxs("div",{className:"bg-green-50 p-3 rounded border-l-4 border-green-400",children:[o.jsxs("p",{className:"font-medium",children:[u.date,"  ",u.time]}),u.title&&o.jsx("p",{className:"text-sm text-gray-600",children:u.title}),u.description&&o.jsx("p",{className:"text-sm text-gray-600",children:u.description}),u.assigned_to&&o.jsxs("p",{className:"text-sm",children:["Technicien: ",u.assigned_to]})]},d))})]}),n&&o.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:" Questions rapides"}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx("button",{onClick:()=>{n(`frais de dplacement pour ${l.name}`),t()},className:"px-3 py-1.5 text-sm bg-blue-50 text-blue-700 border border-blue-200 rounded hover:bg-blue-100 transition-colors",children:" Frais de dplacement"}),o.jsx("button",{onClick:()=>{n(`prochains rendez-vous pour ${l.name}`),t()},className:"px-3 py-1.5 text-sm bg-green-50 text-green-700 border border-green-200 rounded hover:bg-green-100 transition-colors",children:" Prochains RV"}),o.jsx("button",{onClick:()=>{n(`montre-moi l'historique complet de ${l.name} avec toutes les notes de service`),t()},className:"px-3 py-1.5 text-sm bg-purple-50 text-purple-700 border border-purple-200 rounded hover:bg-purple-100 transition-colors",children:" Rsum historique"})]})]})]})]})]})})}function $k({content:e,entities:t=[],currentUser:n,onAskQuestion:r,onSelectClient:s}){const[a,i]=m.useState(null);if(!t||t.length===0)return o.jsx("div",{className:"whitespace-pre-wrap",children:e});let l=e;t.forEach(u=>{const d=u.name.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),g=new RegExp(`\\*\\*${d}\\*\\*`,"g");l=l.replace(g,`<a href="#" data-client-id="${u.id}" class="text-blue-600 hover:text-blue-800 font-bold underline cursor-pointer">${u.name}</a>`)});const c=u=>{u.preventDefault();const d=u.target.getAttribute("data-client-id");if(d){if(s){const g=t.find(b=>b.id===d);g&&s(g)}i(d)}};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:l},onClick:c}),a&&o.jsx(Tk,{clientId:a,onClose:()=>i(null),onAskQuestion:r})]})}function yy(e,t){return function(){return e.apply(t,arguments)}}const{toString:Pk}=Object.prototype,{getPrototypeOf:gf}=Object,{iterator:Ic,toStringTag:vy}=Symbol,Ac=(e=>t=>{const n=Pk.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),er=e=>(e=e.toLowerCase(),t=>Ac(t)===e),zc=e=>t=>typeof t===e,{isArray:_o}=Array,bo=zc("undefined");function Ya(e){return e!==null&&!bo(e)&&e.constructor!==null&&!bo(e.constructor)&&gn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const by=er("ArrayBuffer");function Rk(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&by(e.buffer),t}const Ik=zc("string"),gn=zc("function"),wy=zc("number"),Qa=e=>e!==null&&typeof e=="object",Ak=e=>e===!0||e===!1,Gi=e=>{if(Ac(e)!=="object")return!1;const t=gf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(vy in e)&&!(Ic in e)},zk=e=>{if(!Qa(e)||Ya(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Ok=er("Date"),Mk=er("File"),Lk=er("Blob"),Dk=er("FileList"),Fk=e=>Qa(e)&&gn(e.pipe),Bk=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||gn(e.append)&&((t=Ac(e))==="formdata"||t==="object"&&gn(e.toString)&&e.toString()==="[object FormData]"))},Vk=er("URLSearchParams"),[Hk,Wk,qk,Uk]=["ReadableStream","Request","Response","Headers"].map(er),Gk=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Xa(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),_o(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(Ya(e))return;const a=n?Object.getOwnPropertyNames(e):Object.keys(e),i=a.length;let l;for(r=0;r<i;r++)l=a[r],t.call(null,e[l],l,e)}}function jy(e,t){if(Ya(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const ms=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Sy=e=>!bo(e)&&e!==ms;function Ad(){const{caseless:e,skipUndefined:t}=Sy(this)&&this||{},n={},r=(s,a)=>{const i=e&&jy(n,a)||a;Gi(n[i])&&Gi(s)?n[i]=Ad(n[i],s):Gi(s)?n[i]=Ad({},s):_o(s)?n[i]=s.slice():(!t||!bo(s))&&(n[i]=s)};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&Xa(arguments[s],r);return n}const Kk=(e,t,n,{allOwnKeys:r}={})=>(Xa(t,(s,a)=>{n&&gn(s)?e[a]=yy(s,n):e[a]=s},{allOwnKeys:r}),e),Jk=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Yk=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Qk=(e,t,n,r)=>{let s,a,i;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)i=s[a],(!r||r(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=n!==!1&&gf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Xk=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},Zk=e=>{if(!e)return null;if(_o(e))return e;let t=e.length;if(!wy(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},eE=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&gf(Uint8Array)),tE=(e,t)=>{const r=(e&&e[Ic]).call(e);let s;for(;(s=r.next())&&!s.done;){const a=s.value;t.call(e,a[0],a[1])}},nE=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},rE=er("HTMLFormElement"),sE=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),zh=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),oE=er("RegExp"),Ny=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Xa(n,(s,a)=>{let i;(i=t(s,a,e))!==!1&&(r[a]=i||s)}),Object.defineProperties(e,r)},aE=e=>{Ny(e,(t,n)=>{if(gn(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(gn(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},iE=(e,t)=>{const n={},r=s=>{s.forEach(a=>{n[a]=!0})};return _o(e)?r(e):r(String(e).split(t)),n},lE=()=>{},cE=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function uE(e){return!!(e&&gn(e.append)&&e[vy]==="FormData"&&e[Ic])}const dE=e=>{const t=new Array(10),n=(r,s)=>{if(Qa(r)){if(t.indexOf(r)>=0)return;if(Ya(r))return r;if(!("toJSON"in r)){t[s]=r;const a=_o(r)?[]:{};return Xa(r,(i,l)=>{const c=n(i,s+1);!bo(c)&&(a[l]=c)}),t[s]=void 0,a}}return r};return n(e,0)},pE=er("AsyncFunction"),fE=e=>e&&(Qa(e)||gn(e))&&gn(e.then)&&gn(e.catch),Cy=((e,t)=>e?setImmediate:t?((n,r)=>(ms.addEventListener("message",({source:s,data:a})=>{s===ms&&a===n&&r.length&&r.shift()()},!1),s=>{r.push(s),ms.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",gn(ms.postMessage)),mE=typeof queueMicrotask<"u"?queueMicrotask.bind(ms):typeof process<"u"&&process.nextTick||Cy,hE=e=>e!=null&&gn(e[Ic]),V={isArray:_o,isArrayBuffer:by,isBuffer:Ya,isFormData:Bk,isArrayBufferView:Rk,isString:Ik,isNumber:wy,isBoolean:Ak,isObject:Qa,isPlainObject:Gi,isEmptyObject:zk,isReadableStream:Hk,isRequest:Wk,isResponse:qk,isHeaders:Uk,isUndefined:bo,isDate:Ok,isFile:Mk,isBlob:Lk,isRegExp:oE,isFunction:gn,isStream:Fk,isURLSearchParams:Vk,isTypedArray:eE,isFileList:Dk,forEach:Xa,merge:Ad,extend:Kk,trim:Gk,stripBOM:Jk,inherits:Yk,toFlatObject:Qk,kindOf:Ac,kindOfTest:er,endsWith:Xk,toArray:Zk,forEachEntry:tE,matchAll:nE,isHTMLForm:rE,hasOwnProperty:zh,hasOwnProp:zh,reduceDescriptors:Ny,freezeMethods:aE,toObjectSet:iE,toCamelCase:sE,noop:lE,toFiniteNumber:cE,findKey:jy,global:ms,isContextDefined:Sy,isSpecCompliantForm:uE,toJSONObject:dE,isAsyncFn:pE,isThenable:fE,setImmediate:Cy,asap:mE,isIterable:hE};function Re(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}V.inherits(Re,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:V.toJSONObject(this.config),code:this.code,status:this.status}}});const ky=Re.prototype,Ey={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Ey[e]={value:e}});Object.defineProperties(Re,Ey);Object.defineProperty(ky,"isAxiosError",{value:!0});Re.from=(e,t,n,r,s,a)=>{const i=Object.create(ky);V.toFlatObject(e,i,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return Re.call(i,l,c,n,r,s),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",a&&Object.assign(i,a),i};const gE=null;function zd(e){return V.isPlainObject(e)||V.isArray(e)}function _y(e){return V.endsWith(e,"[]")?e.slice(0,-2):e}function Oh(e,t,n){return e?e.concat(t).map(function(s,a){return s=_y(s),!n&&a?"["+s+"]":s}).join(n?".":""):t}function xE(e){return V.isArray(e)&&!e.some(zd)}const yE=V.toFlatObject(V,{},null,function(t){return/^is[A-Z]/.test(t)});function Oc(e,t,n){if(!V.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=V.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,S){return!V.isUndefined(S[v])});const r=n.metaTokens,s=n.visitor||d,a=n.dots,i=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&V.isSpecCompliantForm(t);if(!V.isFunction(s))throw new TypeError("visitor must be a function");function u(h){if(h===null)return"";if(V.isDate(h))return h.toISOString();if(V.isBoolean(h))return h.toString();if(!c&&V.isBlob(h))throw new Re("Blob is not supported. Use a Buffer instead.");return V.isArrayBuffer(h)||V.isTypedArray(h)?c&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function d(h,v,S){let y=h;if(h&&!S&&typeof h=="object"){if(V.endsWith(v,"{}"))v=r?v:v.slice(0,-2),h=JSON.stringify(h);else if(V.isArray(h)&&xE(h)||(V.isFileList(h)||V.endsWith(v,"[]"))&&(y=V.toArray(h)))return v=_y(v),y.forEach(function(f,x){!(V.isUndefined(f)||f===null)&&t.append(i===!0?Oh([v],x,a):i===null?v:v+"[]",u(f))}),!1}return zd(h)?!0:(t.append(Oh(S,v,a),u(h)),!1)}const g=[],b=Object.assign(yE,{defaultVisitor:d,convertValue:u,isVisitable:zd});function N(h,v){if(!V.isUndefined(h)){if(g.indexOf(h)!==-1)throw Error("Circular reference detected in "+v.join("."));g.push(h),V.forEach(h,function(y,j){(!(V.isUndefined(y)||y===null)&&s.call(t,y,V.isString(j)?j.trim():j,v,b))===!0&&N(y,v?v.concat(j):[j])}),g.pop()}}if(!V.isObject(e))throw new TypeError("data must be an object");return N(e),t}function Mh(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function xf(e,t){this._pairs=[],e&&Oc(e,this,t)}const Ty=xf.prototype;Ty.append=function(t,n){this._pairs.push([t,n])};Ty.toString=function(t){const n=t?function(r){return t.call(this,r,Mh)}:Mh;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function vE(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function $y(e,t,n){if(!t)return e;const r=n&&n.encode||vE;V.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let a;if(s?a=s(t,n):a=V.isURLSearchParams(t)?t.toString():new xf(t,n).toString(r),a){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class Lh{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){V.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Py={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},bE=typeof URLSearchParams<"u"?URLSearchParams:xf,wE=typeof FormData<"u"?FormData:null,jE=typeof Blob<"u"?Blob:null,SE={isBrowser:!0,classes:{URLSearchParams:bE,FormData:wE,Blob:jE},protocols:["http","https","file","blob","url","data"]},yf=typeof window<"u"&&typeof document<"u",Od=typeof navigator=="object"&&navigator||void 0,NE=yf&&(!Od||["ReactNative","NativeScript","NS"].indexOf(Od.product)<0),CE=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",kE=yf&&window.location.href||"http://localhost",EE=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:yf,hasStandardBrowserEnv:NE,hasStandardBrowserWebWorkerEnv:CE,navigator:Od,origin:kE},Symbol.toStringTag,{value:"Module"})),en={...EE,...SE};function _E(e,t){return Oc(e,new en.classes.URLSearchParams,{visitor:function(n,r,s,a){return en.isNode&&V.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function TE(e){return V.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function $E(e){const t={},n=Object.keys(e);let r;const s=n.length;let a;for(r=0;r<s;r++)a=n[r],t[a]=e[a];return t}function Ry(e){function t(n,r,s,a){let i=n[a++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=a>=n.length;return i=!i&&V.isArray(s)?s.length:i,c?(V.hasOwnProp(s,i)?s[i]=[s[i],r]:s[i]=r,!l):((!s[i]||!V.isObject(s[i]))&&(s[i]=[]),t(n,r,s[i],a)&&V.isArray(s[i])&&(s[i]=$E(s[i])),!l)}if(V.isFormData(e)&&V.isFunction(e.entries)){const n={};return V.forEachEntry(e,(r,s)=>{t(TE(r),s,n,0)}),n}return null}function PE(e,t,n){if(V.isString(e))try{return(t||JSON.parse)(e),V.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Za={transitional:Py,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,a=V.isObject(t);if(a&&V.isHTMLForm(t)&&(t=new FormData(t)),V.isFormData(t))return s?JSON.stringify(Ry(t)):t;if(V.isArrayBuffer(t)||V.isBuffer(t)||V.isStream(t)||V.isFile(t)||V.isBlob(t)||V.isReadableStream(t))return t;if(V.isArrayBufferView(t))return t.buffer;if(V.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return _E(t,this.formSerializer).toString();if((l=V.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Oc(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||s?(n.setContentType("application/json",!1),PE(t)):t}],transformResponse:[function(t){const n=this.transitional||Za.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(V.isResponse(t)||V.isReadableStream(t))return t;if(t&&V.isString(t)&&(r&&!this.responseType||s)){const i=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(i)throw l.name==="SyntaxError"?Re.from(l,Re.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:en.classes.FormData,Blob:en.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};V.forEach(["delete","get","head","post","put","patch"],e=>{Za.headers[e]={}});const RE=V.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),IE=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(i){s=i.indexOf(":"),n=i.substring(0,s).trim().toLowerCase(),r=i.substring(s+1).trim(),!(!n||t[n]&&RE[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Dh=Symbol("internals");function Uo(e){return e&&String(e).trim().toLowerCase()}function Ki(e){return e===!1||e==null?e:V.isArray(e)?e.map(Ki):String(e)}function AE(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const zE=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function wu(e,t,n,r,s){if(V.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!V.isString(t)){if(V.isString(r))return t.indexOf(r)!==-1;if(V.isRegExp(r))return r.test(t)}}function OE(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function ME(e,t){const n=V.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,a,i){return this[r].call(this,t,s,a,i)},configurable:!0})})}let xn=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function a(l,c,u){const d=Uo(c);if(!d)throw new Error("header name must be a non-empty string");const g=V.findKey(s,d);(!g||s[g]===void 0||u===!0||u===void 0&&s[g]!==!1)&&(s[g||c]=Ki(l))}const i=(l,c)=>V.forEach(l,(u,d)=>a(u,d,c));if(V.isPlainObject(t)||t instanceof this.constructor)i(t,n);else if(V.isString(t)&&(t=t.trim())&&!zE(t))i(IE(t),n);else if(V.isObject(t)&&V.isIterable(t)){let l={},c,u;for(const d of t){if(!V.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?V.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(l,n)}else t!=null&&a(n,t,r);return this}get(t,n){if(t=Uo(t),t){const r=V.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return AE(s);if(V.isFunction(n))return n.call(this,s,r);if(V.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Uo(t),t){const r=V.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||wu(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function a(i){if(i=Uo(i),i){const l=V.findKey(r,i);l&&(!n||wu(r,r[l],l,n))&&(delete r[l],s=!0)}}return V.isArray(t)?t.forEach(a):a(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const a=n[r];(!t||wu(this,this[a],a,t,!0))&&(delete this[a],s=!0)}return s}normalize(t){const n=this,r={};return V.forEach(this,(s,a)=>{const i=V.findKey(r,a);if(i){n[i]=Ki(s),delete n[a];return}const l=t?OE(a):String(a).trim();l!==a&&delete n[a],n[l]=Ki(s),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return V.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&V.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[Dh]=this[Dh]={accessors:{}}).accessors,s=this.prototype;function a(i){const l=Uo(i);r[l]||(ME(s,i),r[l]=!0)}return V.isArray(t)?t.forEach(a):a(t),this}};xn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);V.reduceDescriptors(xn.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});V.freezeMethods(xn);function ju(e,t){const n=this||Za,r=t||n,s=xn.from(r.headers);let a=r.data;return V.forEach(e,function(l){a=l.call(n,a,s.normalize(),t?t.status:void 0)}),s.normalize(),a}function Iy(e){return!!(e&&e.__CANCEL__)}function To(e,t,n){Re.call(this,e??"canceled",Re.ERR_CANCELED,t,n),this.name="CanceledError"}V.inherits(To,Re,{__CANCEL__:!0});function Ay(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Re("Request failed with status code "+n.status,[Re.ERR_BAD_REQUEST,Re.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function LE(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function DE(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,a=0,i;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=r[a];i||(i=u),n[s]=c,r[s]=u;let g=a,b=0;for(;g!==s;)b+=n[g++],g=g%e;if(s=(s+1)%e,s===a&&(a=(a+1)%e),u-i<t)return;const N=d&&u-d;return N?Math.round(b*1e3/N):void 0}}function FE(e,t){let n=0,r=1e3/t,s,a;const i=(u,d=Date.now())=>{n=d,s=null,a&&(clearTimeout(a),a=null),e(...u)};return[(...u)=>{const d=Date.now(),g=d-n;g>=r?i(u,d):(s=u,a||(a=setTimeout(()=>{a=null,i(s)},r-g)))},()=>s&&i(s)]}const $l=(e,t,n=3)=>{let r=0;const s=DE(50,250);return FE(a=>{const i=a.loaded,l=a.lengthComputable?a.total:void 0,c=i-r,u=s(c),d=i<=l;r=i;const g={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-i)/u:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(g)},n)},Fh=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Bh=e=>(...t)=>V.asap(()=>e(...t)),BE=en.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,en.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(en.origin),en.navigator&&/(msie|trident)/i.test(en.navigator.userAgent)):()=>!0,VE=en.hasStandardBrowserEnv?{write(e,t,n,r,s,a,i){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];V.isNumber(n)&&l.push(`expires=${new Date(n).toUTCString()}`),V.isString(r)&&l.push(`path=${r}`),V.isString(s)&&l.push(`domain=${s}`),a===!0&&l.push("secure"),V.isString(i)&&l.push(`SameSite=${i}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function HE(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function WE(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function zy(e,t,n){let r=!HE(t);return e&&(r||n==!1)?WE(e,t):t}const Vh=e=>e instanceof xn?{...e}:e;function ks(e,t){t=t||{};const n={};function r(u,d,g,b){return V.isPlainObject(u)&&V.isPlainObject(d)?V.merge.call({caseless:b},u,d):V.isPlainObject(d)?V.merge({},d):V.isArray(d)?d.slice():d}function s(u,d,g,b){if(V.isUndefined(d)){if(!V.isUndefined(u))return r(void 0,u,g,b)}else return r(u,d,g,b)}function a(u,d){if(!V.isUndefined(d))return r(void 0,d)}function i(u,d){if(V.isUndefined(d)){if(!V.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function l(u,d,g){if(g in t)return r(u,d);if(g in e)return r(void 0,u)}const c={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(u,d,g)=>s(Vh(u),Vh(d),g,!0)};return V.forEach(Object.keys({...e,...t}),function(d){const g=c[d]||s,b=g(e[d],t[d],d);V.isUndefined(b)&&g!==l||(n[d]=b)}),n}const Oy=e=>{const t=ks({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:a,headers:i,auth:l}=t;if(t.headers=i=xn.from(i),t.url=$y(zy(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),V.isFormData(n)){if(en.hasStandardBrowserEnv||en.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(V.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,g])=>{u.includes(d.toLowerCase())&&i.set(d,g)})}}if(en.hasStandardBrowserEnv&&(r&&V.isFunction(r)&&(r=r(t)),r||r!==!1&&BE(t.url))){const c=s&&a&&VE.read(a);c&&i.set(s,c)}return t},qE=typeof XMLHttpRequest<"u",UE=qE&&function(e){return new Promise(function(n,r){const s=Oy(e);let a=s.data;const i=xn.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,d,g,b,N,h;function v(){N&&N(),h&&h(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let S=new XMLHttpRequest;S.open(s.method.toUpperCase(),s.url,!0),S.timeout=s.timeout;function y(){if(!S)return;const f=xn.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),E={data:!l||l==="text"||l==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:f,config:e,request:S};Ay(function(P){n(P),v()},function(P){r(P),v()},E),S=null}"onloadend"in S?S.onloadend=y:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(y)},S.onabort=function(){S&&(r(new Re("Request aborted",Re.ECONNABORTED,e,S)),S=null)},S.onerror=function(x){const E=x&&x.message?x.message:"Network Error",k=new Re(E,Re.ERR_NETWORK,e,S);k.event=x||null,r(k),S=null},S.ontimeout=function(){let x=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const E=s.transitional||Py;s.timeoutErrorMessage&&(x=s.timeoutErrorMessage),r(new Re(x,E.clarifyTimeoutError?Re.ETIMEDOUT:Re.ECONNABORTED,e,S)),S=null},a===void 0&&i.setContentType(null),"setRequestHeader"in S&&V.forEach(i.toJSON(),function(x,E){S.setRequestHeader(E,x)}),V.isUndefined(s.withCredentials)||(S.withCredentials=!!s.withCredentials),l&&l!=="json"&&(S.responseType=s.responseType),u&&([b,h]=$l(u,!0),S.addEventListener("progress",b)),c&&S.upload&&([g,N]=$l(c),S.upload.addEventListener("progress",g),S.upload.addEventListener("loadend",N)),(s.cancelToken||s.signal)&&(d=f=>{S&&(r(!f||f.type?new To(null,e,S):f),S.abort(),S=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const j=LE(s.url);if(j&&en.protocols.indexOf(j)===-1){r(new Re("Unsupported protocol "+j+":",Re.ERR_BAD_REQUEST,e));return}S.send(a||null)})},GE=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const a=function(u){if(!s){s=!0,l();const d=u instanceof Error?u:this.reason;r.abort(d instanceof Re?d:new To(d instanceof Error?d.message:d))}};let i=t&&setTimeout(()=>{i=null,a(new Re(`timeout ${t} of ms exceeded`,Re.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),e=null)};e.forEach(u=>u.addEventListener("abort",a));const{signal:c}=r;return c.unsubscribe=()=>V.asap(l),c}},KE=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},JE=async function*(e,t){for await(const n of YE(e))yield*KE(n,t)},YE=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Hh=(e,t,n,r)=>{const s=JE(e,t);let a=0,i,l=c=>{i||(i=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){l(),c.close();return}let g=d.byteLength;if(n){let b=a+=g;n(b)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},Wh=64*1024,{isFunction:Ei}=V,QE=(({Request:e,Response:t})=>({Request:e,Response:t}))(V.global),{ReadableStream:qh,TextEncoder:Uh}=V.global,Gh=(e,...t)=>{try{return!!e(...t)}catch{return!1}},XE=e=>{e=V.merge.call({skipUndefined:!0},QE,e);const{fetch:t,Request:n,Response:r}=e,s=t?Ei(t):typeof fetch=="function",a=Ei(n),i=Ei(r);if(!s)return!1;const l=s&&Ei(qh),c=s&&(typeof Uh=="function"?(h=>v=>h.encode(v))(new Uh):async h=>new Uint8Array(await new n(h).arrayBuffer())),u=a&&l&&Gh(()=>{let h=!1;const v=new n(en.origin,{body:new qh,method:"POST",get duplex(){return h=!0,"half"}}).headers.has("Content-Type");return h&&!v}),d=i&&l&&Gh(()=>V.isReadableStream(new r("").body)),g={stream:d&&(h=>h.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(h=>{!g[h]&&(g[h]=(v,S)=>{let y=v&&v[h];if(y)return y.call(v);throw new Re(`Response type '${h}' is not supported`,Re.ERR_NOT_SUPPORT,S)})});const b=async h=>{if(h==null)return 0;if(V.isBlob(h))return h.size;if(V.isSpecCompliantForm(h))return(await new n(en.origin,{method:"POST",body:h}).arrayBuffer()).byteLength;if(V.isArrayBufferView(h)||V.isArrayBuffer(h))return h.byteLength;if(V.isURLSearchParams(h)&&(h=h+""),V.isString(h))return(await c(h)).byteLength},N=async(h,v)=>{const S=V.toFiniteNumber(h.getContentLength());return S??b(v)};return async h=>{let{url:v,method:S,data:y,signal:j,cancelToken:f,timeout:x,onDownloadProgress:E,onUploadProgress:k,responseType:P,headers:A,withCredentials:_="same-origin",fetchOptions:T}=Oy(h),O=t||fetch;P=P?(P+"").toLowerCase():"text";let w=GE([j,f&&f.toAbortSignal()],x),R=null;const C=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let I;try{if(k&&u&&S!=="get"&&S!=="head"&&(I=await N(A,y))!==0){let K=new n(v,{method:"POST",body:y,duplex:"half"}),fe;if(V.isFormData(y)&&(fe=K.headers.get("content-type"))&&A.setContentType(fe),K.body){const[te,Ee]=Fh(I,$l(Bh(k)));y=Hh(K.body,Wh,te,Ee)}}V.isString(_)||(_=_?"include":"omit");const M=a&&"credentials"in n.prototype,H={...T,signal:w,method:S.toUpperCase(),headers:A.normalize().toJSON(),body:y,duplex:"half",credentials:M?_:void 0};R=a&&new n(v,H);let L=await(a?O(R,T):O(v,H));const D=d&&(P==="stream"||P==="response");if(d&&(E||D&&C)){const K={};["status","statusText","headers"].forEach(be=>{K[be]=L[be]});const fe=V.toFiniteNumber(L.headers.get("content-length")),[te,Ee]=E&&Fh(fe,$l(Bh(E),!0))||[];L=new r(Hh(L.body,Wh,te,()=>{Ee&&Ee(),C&&C()}),K)}P=P||"text";let Y=await g[V.findKey(g,P)||"text"](L,h);return!D&&C&&C(),await new Promise((K,fe)=>{Ay(K,fe,{data:Y,headers:xn.from(L.headers),status:L.status,statusText:L.statusText,config:h,request:R})})}catch(M){throw C&&C(),M&&M.name==="TypeError"&&/Load failed|fetch/i.test(M.message)?Object.assign(new Re("Network Error",Re.ERR_NETWORK,h,R),{cause:M.cause||M}):Re.from(M,M&&M.code,h,R)}}},ZE=new Map,My=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:s}=t,a=[r,s,n];let i=a.length,l=i,c,u,d=ZE;for(;l--;)c=a[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:XE(t)),d=u;return u};My();const vf={http:gE,xhr:UE,fetch:{get:My}};V.forEach(vf,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Kh=e=>`- ${e}`,e_=e=>V.isFunction(e)||e===null||e===!1;function t_(e,t){e=V.isArray(e)?e:[e];const{length:n}=e;let r,s;const a={};for(let i=0;i<n;i++){r=e[i];let l;if(s=r,!e_(r)&&(s=vf[(l=String(r)).toLowerCase()],s===void 0))throw new Re(`Unknown adapter '${l}'`);if(s&&(V.isFunction(s)||(s=s.get(t))))break;a[l||"#"+i]=s}if(!s){const i=Object.entries(a).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=n?i.length>1?`since :
`+i.map(Kh).join(`
`):" "+Kh(i[0]):"as no adapter specified";throw new Re("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s}const Ly={getAdapter:t_,adapters:vf};function Su(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new To(null,e)}function Jh(e){return Su(e),e.headers=xn.from(e.headers),e.data=ju.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ly.getAdapter(e.adapter||Za.adapter,e)(e).then(function(r){return Su(e),r.data=ju.call(e,e.transformResponse,r),r.headers=xn.from(r.headers),r},function(r){return Iy(r)||(Su(e),r&&r.response&&(r.response.data=ju.call(e,e.transformResponse,r.response),r.response.headers=xn.from(r.response.headers))),Promise.reject(r)})}const Dy="1.13.2",Mc={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Mc[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Yh={};Mc.transitional=function(t,n,r){function s(a,i){return"[Axios v"+Dy+"] Transitional option '"+a+"'"+i+(r?". "+r:"")}return(a,i,l)=>{if(t===!1)throw new Re(s(i," has been removed"+(n?" in "+n:"")),Re.ERR_DEPRECATED);return n&&!Yh[i]&&(Yh[i]=!0,console.warn(s(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,i,l):!0}};Mc.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function n_(e,t,n){if(typeof e!="object")throw new Re("options must be an object",Re.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const a=r[s],i=t[a];if(i){const l=e[a],c=l===void 0||i(l,a,e);if(c!==!0)throw new Re("option "+a+" must be "+c,Re.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Re("Unknown option "+a,Re.ERR_BAD_OPTION)}}const Ji={assertOptions:n_,validators:Mc},sr=Ji.validators;let ys=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Lh,response:new Lh}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=ks(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:a}=n;r!==void 0&&Ji.assertOptions(r,{silentJSONParsing:sr.transitional(sr.boolean),forcedJSONParsing:sr.transitional(sr.boolean),clarifyTimeoutError:sr.transitional(sr.boolean)},!1),s!=null&&(V.isFunction(s)?n.paramsSerializer={serialize:s}:Ji.assertOptions(s,{encode:sr.function,serialize:sr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Ji.assertOptions(n,{baseUrl:sr.spelling("baseURL"),withXsrfToken:sr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=a&&V.merge(a.common,a[n.method]);a&&V.forEach(["delete","get","head","post","put","patch","common"],h=>{delete a[h]}),n.headers=xn.concat(i,a);const l=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(c=c&&v.synchronous,l.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let d,g=0,b;if(!c){const h=[Jh.bind(this),void 0];for(h.unshift(...l),h.push(...u),b=h.length,d=Promise.resolve(n);g<b;)d=d.then(h[g++],h[g++]);return d}b=l.length;let N=n;for(;g<b;){const h=l[g++],v=l[g++];try{N=h(N)}catch(S){v.call(this,S);break}}try{d=Jh.call(this,N)}catch(h){return Promise.reject(h)}for(g=0,b=u.length;g<b;)d=d.then(u[g++],u[g++]);return d}getUri(t){t=ks(this.defaults,t);const n=zy(t.baseURL,t.url,t.allowAbsoluteUrls);return $y(n,t.params,t.paramsSerializer)}};V.forEach(["delete","get","head","options"],function(t){ys.prototype[t]=function(n,r){return this.request(ks(r||{},{method:t,url:n,data:(r||{}).data}))}});V.forEach(["post","put","patch"],function(t){function n(r){return function(a,i,l){return this.request(ks(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:i}))}}ys.prototype[t]=n(),ys.prototype[t+"Form"]=n(!0)});let r_=class Fy{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(s=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](s);r._listeners=null}),this.promise.then=s=>{let a;const i=new Promise(l=>{r.subscribe(l),a=l}).then(s);return i.cancel=function(){r.unsubscribe(a)},i},t(function(a,i,l){r.reason||(r.reason=new To(a,i,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Fy(function(s){t=s}),cancel:t}}};function s_(e){return function(n){return e.apply(null,n)}}function o_(e){return V.isObject(e)&&e.isAxiosError===!0}const Md={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Md).forEach(([e,t])=>{Md[t]=e});function By(e){const t=new ys(e),n=yy(ys.prototype.request,t);return V.extend(n,ys.prototype,t,{allOwnKeys:!0}),V.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return By(ks(e,s))},n}const bt=By(Za);bt.Axios=ys;bt.CanceledError=To;bt.CancelToken=r_;bt.isCancel=Iy;bt.VERSION=Dy;bt.toFormData=Oc;bt.AxiosError=Re;bt.Cancel=bt.CanceledError;bt.all=function(t){return Promise.all(t)};bt.spread=s_;bt.isAxiosError=o_;bt.mergeConfig=ks;bt.AxiosHeaders=xn;bt.formToJSON=e=>Ry(V.isHTMLForm(e)?new FormData(e):e);bt.getAdapter=Ly.getAdapter;bt.HttpStatusCode=Md;bt.default=bt;const{Axios:g_,AxiosError:x_,CanceledError:y_,isCancel:v_,CancelToken:b_,VERSION:w_,all:j_,Cancel:S_,isAxiosError:N_,spread:C_,toFormData:k_,AxiosHeaders:E_,HttpStatusCode:__,formToJSON:T_,getAdapter:$_,mergeConfig:P_}=bt;function a_({currentUser:e}){var O,w;const[t,n]=m.useState("aujourd'hui"),[r,s]=m.useState(null),[a,i]=m.useState(!1),[l,c]=m.useState(null),[u,d]=m.useState(!1),[g,b]=m.useState(!1),[N,h]=m.useState(null),v=(e==null?void 0:e.role)||"admin",S=(e==null?void 0:e.gazelleId)||(e==null?void 0:e.id)||null,y=(e==null?void 0:e.name)||"Utilisateur",j=(e==null?void 0:e.email)||"",f=()=>{if(v==="technician")return!0;const R=y.toLowerCase(),C=j.toLowerCase();return!!(R==="nick"||R==="nicolas"||R==="jp"||R==="jean-philippe"||R.includes("jean-philippe")||R==="allan"||C.includes("nicolas@")||C.includes("nick@")||C.includes("jp@")||C.includes("jean-philippe@")||C.includes("allan@")||C.includes("asutton@"))},x=()=>v==="admin"?" Vue d'ensemble":f()?" Mes journes, nos clients":" Planification & Clients",E=()=>v==="admin"||f()?[{label:"Aujourd'hui",query:"aujourd'hui"},{label:"Demain",query:"demain"},{label:"Aprs-demain",query:"aprs-demain"}]:[{label:"RV de Nick",query:"rv de nick demain"},{label:"RV de JP",query:"rv de jean-philippe demain"},{label:"Tous les RV demain",query:"tous les rv demain"}],k=()=>v==="admin"?"Ex: Tous les RV demain, Stats du mois, Client Anne-Marie...":f()?"Ex: Ma journe demain, Cette semaine, Client Anne-Marie...":"Ex: RV de Nick demain, Client Anne-Marie, Qui va  Place des Arts...";m.useEffect(()=>{A("aujourd'hui")},[]);const P=async()=>{i(!0);try{const R=await bt.post(`${pe}/api/chat/query`,{query:t,technician_id:S,user_role:v});s(R.data)}catch(R){console.error("Erreur query:",R),alert("Erreur lors de la requte")}finally{i(!1)}},A=async R=>{var I;n(R),i(!0);const C={query:R,technician_id:S,user_role:v};console.log("[ChatIntelligent] Sending query:",C);try{const M=await bt.post(`${pe}/api/chat/query`,C);console.log("[ChatIntelligent] Query response:",M.data),s(M.data)}catch(M){console.error("[ChatIntelligent] Query error:",M),console.error("[ChatIntelligent] Error response:",(I=M.response)==null?void 0:I.data)}finally{i(!1)}},_=async R=>{c(R),d(!0),b(!0);try{const C=await bt.get(`${pe}/api/chat/appointment/${R.appointment_id}`);h(C.data)}catch(C){console.error("Erreur dtails:",C),alert("Erreur lors du chargement des dtails")}finally{b(!1)}},T=()=>{d(!1),c(null),h(null)};return o.jsxs(Tt,{sx:{p:2,maxWidth:800,mx:"auto"},children:[o.jsxs(Tt,{sx:{mb:3},children:[o.jsx(zn,{variant:"h4",gutterBottom:!0,sx:{fontWeight:"bold"},children:x()}),o.jsx(Tt,{sx:{display:"flex",gap:1,mb:2,flexWrap:"wrap"},children:E().map((R,C)=>o.jsx(ur,{label:R.label,onClick:()=>A(R.query),color:"primary",variant:"outlined"},C))}),o.jsxs(Tt,{sx:{display:"flex",gap:1},children:[o.jsx(dk,{fullWidth:!0,placeholder:k(),value:t,onChange:R=>n(R.target.value),onKeyPress:R=>R.key==="Enter"&&P(),size:"small"}),o.jsx(pC,{variant:"contained",onClick:P,disabled:a,children:a?o.jsx(Oa,{size:24}):"Go"})]})]}),(r==null?void 0:r.day_overview)&&o.jsx(Tt,{sx:{mb:3},children:o.jsxs(Tt,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[o.jsx(ur,{icon:o.jsx(my,{}),label:`${r.day_overview.total_appointments} RDV`,color:"primary"}),o.jsx(ur,{icon:o.jsx(hy,{}),label:`${r.day_overview.total_pianos} pianos`}),o.jsx(ur,{label:`~${r.day_overview.estimated_duration_hours.toFixed(1)}h`}),r.day_overview.neighborhoods.map((R,C)=>o.jsx(ur,{icon:o.jsx(fk,{}),label:R,variant:"outlined",size:"small"},C))]})}),(r==null?void 0:r.text_response)&&o.jsx(Tt,{sx:{mb:3,p:2,bgcolor:"info.light",borderRadius:2,borderLeft:"4px solid",borderColor:"info.main"},children:o.jsx(zn,{variant:"body1",sx:{whiteSpace:"pre-wrap",color:"info.contrastText"},children:r.text_response})}),a&&o.jsx(Tt,{sx:{textAlign:"center",py:4},children:o.jsx(Oa,{})}),(O=r==null?void 0:r.day_overview)==null?void 0:O.appointments.map((R,C)=>o.jsx(i_,{appointment:R,onClick:()=>_(R)},R.appointment_id||R.external_id||`apt-${C}`)),((w=r==null?void 0:r.day_overview)==null?void 0:w.appointments.length)===0&&!(r!=null&&r.text_response)&&o.jsx(Tt,{sx:{textAlign:"center",py:4,color:"text.secondary"},children:o.jsx(zn,{children:"Aucun rendez-vous pour cette journe"})}),o.jsx(YC,{anchor:"bottom",open:u,onClose:T,PaperProps:{sx:{maxHeight:"90vh",borderTopLeftRadius:16,borderTopRightRadius:16}},children:o.jsx(l_,{appointment:l,detail:N,loading:g,onClose:T})})]})}function i_({appointment:e,onClick:t}){return o.jsx(gC,{sx:{mb:2,cursor:"pointer","&:hover":{boxShadow:4,transform:"translateY(-2px)"},transition:"all 0.2s",borderLeft:e.priority==="high"?"4px solid #ff9800":"4px solid transparent"},onClick:t,children:o.jsxs(bC,{sx:{pb:1.5,"&:last-child":{pb:1.5}},children:[o.jsxs(Tt,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:1},children:[o.jsxs(Tt,{sx:{display:"flex",alignItems:"center",gap:.5},children:[o.jsx(my,{fontSize:"small",color:"primary"}),o.jsx(zn,{variant:"h6",sx:{fontWeight:"bold",fontSize:"1.1rem"},children:e.time_slot}),e.is_new_client&&o.jsx(ur,{label:"Nouveau",size:"small",color:"success",sx:{height:20,fontSize:"0.7rem"}}),e.has_alerts&&o.jsx(mk,{fontSize:"small",color:"error"}),e.priority==="high"&&o.jsx(ur,{label:"URGENT",size:"small",color:"warning",sx:{height:20,fontSize:"0.7rem",fontWeight:"bold"}})]}),e.neighborhood&&o.jsx(Tt,{sx:{bgcolor:"primary.main",color:"white",px:1.5,py:.5,borderRadius:1,fontWeight:"bold",fontSize:"1rem"},children:e.neighborhood})]}),o.jsxs(Tt,{sx:{display:"flex",alignItems:"center",gap:.75,mb:.5},children:[o.jsx(zn,{variant:"body1",sx:{fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.client_name}),e.has_dampp_chaser&&o.jsx(ur,{label:"PLS",size:"small",color:"info",sx:{height:"20px",fontSize:"0.7rem",fontWeight:"bold"}})]}),o.jsxs(Tt,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5,flexWrap:"wrap"},children:[e.piano_brand&&o.jsxs(Tt,{sx:{display:"flex",alignItems:"center",gap:.5},children:[o.jsx(hy,{fontSize:"small",color:"action"}),o.jsxs(zn,{variant:"body2",sx:{fontWeight:600},children:[e.piano_brand," ",e.piano_model]})]}),e.address_short&&o.jsxs(o.Fragment,{children:[o.jsx(zn,{variant:"body2",color:"text.secondary",children:""}),o.jsx(zn,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.85rem"},children:e.address_short})]})]}),e.action_items.length>0&&o.jsxs(Tt,{sx:{display:"flex",gap:.5,flexWrap:"wrap",mt:1},children:[e.action_items.slice(0,3).map((n,r)=>o.jsx(ur,{label:n,size:"small",variant:"outlined",color:"primary",sx:{height:"22px",fontSize:"0.7rem"}},r)),e.action_items.length>3&&o.jsx(ur,{label:`+${e.action_items.length-3}`,size:"small",variant:"outlined",sx:{height:"22px",fontSize:"0.7rem"}})]}),e.last_visit_date&&o.jsxs(zn,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:.5,fontSize:"0.7rem"},children:["Dernire visite: ",e.last_visit_date,e.days_since_last_visit&&` (${e.days_since_last_visit}j)`]})]})})}function l_({appointment:e,detail:t,loading:n,onClose:r}){if(n)return o.jsxs(Tt,{sx:{p:3,textAlign:"center"},children:[o.jsx(Oa,{}),o.jsx(zn,{sx:{mt:2},children:"Chargement des dtails..."})]});if(!t)return o.jsx(Tt,{sx:{p:3},children:"Aucun dtail disponible"});const{overview:s,comfort:a,timeline_summary:i,timeline_entries:l}=t,d=new Date(s.date)<new Date,b=(()=>{const N=[];if(a.dog_name||a.cat_name){const v=[];a.dog_name&&v.push(`chien ${a.dog_name}${a.dog_breed?` (${a.dog_breed})`:""}`),a.cat_name&&v.push(`chat ${a.cat_name}`),N.push(` ${v.join(", ")}`)}a.access_code&&N.push(` Code: ${a.access_code}`),a.access_instructions&&N.push(a.access_instructions),a.floor_number&&N.push(`tage ${a.floor_number}`),a.parking_info&&N.push(a.parking_info),a.contact_phone&&N.push(` ${a.contact_phone}`);const h=[];return a.preferred_tuning_hz&&h.push(`accordage ${a.preferred_tuning_hz}Hz`),a.climate_sensitive&&h.push("sensible au climat"),h.length>0&&N.push(` ${h.join(", ")}`),a.preferred_language&&N.push(`Langue: ${a.preferred_language}`),a.temperament&&N.push(`${a.temperament}`),a.special_notes&&N.push(` ${a.special_notes}`),t.client_smart_summary&&N.push(t.client_smart_summary),t.piano_smart_summary&&d&&N.push(t.piano_smart_summary),i&&N.push(i),N.filter(v=>v).join(". ")})();return o.jsxs(Tt,{sx:{p:3},children:[o.jsxs(Tt,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[o.jsx(zn,{variant:"h5",sx:{fontWeight:"bold"},children:s.client_name}),o.jsx(kN,{onClick:r,children:o.jsx(pk,{})})]}),b&&o.jsx(Tt,{sx:{mb:3},children:o.jsx(zn,{variant:"body1",sx:{p:2,bgcolor:"grey.50",borderRadius:1,lineHeight:1.8,fontSize:"1rem"},children:b})})]})}function c_({currentUser:e,role:t="admin",compact:n=!1,onBackToDashboard:r,useChatIntelligent:s=!1,onOpenMaJournee:a}){const[i,l]=m.useState(!1);m.useEffect(()=>{const x=()=>{l(window.innerWidth<768)};return x(),window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[]);const[c,u]=m.useState(!1),[d,g]=m.useState([]),[b,N]=m.useState(""),[h,v]=m.useState(!1),S=m.useRef(null);m.useEffect(()=>{var x;(x=S.current)==null||x.scrollIntoView({behavior:"smooth"})},[d]);const y=()=>{const x={admin:" Bonjour Allan ! Je peux vous aider avec les stats, les imports, les recherches de clients, etc.",nick:" Salut Nick ! Je peux t'aider avec tes tournes, tes rendez-vous et ton inventaire.",louise:" Bonjour Louise ! Je peux t'aider avec les rendez-vous, les recherches de clients et les stats.",jeanphilippe:" Salut Jean-Philippe ! Je peux t'aider avec tes rendez-vous, les pianos et ton stock."};return x[t]||x.admin},j=()=>{const x={admin:[{text:".aide",description:"Voir toutes les commandes"},{text:".mes rv",description:"Mes prochains rendez-vous"},{text:".stats",description:"Statistiques du systme"},{text:".cherche Yamaha",description:"Chercher un client/piano"}],nick:[{text:".mes rv",description:"Mes prochains rendez-vous"},{text:".prochaines tournes",description:"Mes tournes  venir"},{text:".stock cordes",description:"Stock de cordes disponible"},{text:".aide",description:"Voir toutes les commandes"}],louise:[{text:".rv demain",description:"Rendez-vous de demain"},{text:".cherche client",description:"Chercher un client"},{text:".stats mois",description:"Stats du mois"},{text:".aide",description:"Voir toutes les commandes"}],jeanphilippe:[{text:".mes rv",description:"Mes prochains rendez-vous"},{text:".piano [numro]",description:"Infos d'un piano"},{text:".stock marteaux",description:"Stock de marteaux"},{text:".aide",description:"Voir toutes les commandes"}]};return x[t]||x.admin},f=async(x=b)=>{var k;if(!x.trim())return;const E={role:"user",content:x};g(P=>[...P,E]),N(""),v(!0);try{const P=await fetch(`${pe}/api/assistant/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:x,user_id:(e==null?void 0:e.email)||"anonymous"})});if(!P.ok)throw new Error(`HTTP ${P.status}`);const A=await P.json(),_=((k=A.structured_data)==null?void 0:k.clickable_entities)||[],T=new Map;_.forEach(R=>{if(!(R!=null&&R.name))return;const C=`${R.name.trim().toLowerCase()}|${(R.city||"").trim().toLowerCase()}`,I=T.get(C);(!I||I.type!=="client"&&R.type==="client")&&T.set(C,R)});const O=Array.from(T.values()),w={role:"assistant",content:A.answer||"Dsol, je n'ai pas pu traiter votre demande.",metadata:{query_type:A.query_type,confidence:A.confidence,clickable_entities:O},structured_data:A.structured_data||null};g(R=>[...R,w])}catch(P){console.error("Erreur assistant:",P),g(A=>[...A,{role:"assistant",content:` Erreur: ${P.message}. Vrifiez que l'API est dmarre.`,error:!0}])}finally{v(!1)}};return c?s&&c?o.jsxs("div",{className:`fixed ${i?"inset-0 w-full h-full rounded-none":"bottom-6 right-6 rounded-lg"} bg-white shadow-2xl border border-gray-200 z-50 flex flex-col`,style:i?{}:{width:"600px",maxWidth:"90vw",height:"80vh",maxHeight:"800px"},children:[o.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4 rounded-t-lg flex justify-between items-center",children:[o.jsx("h2",{className:"text-lg font-bold",children:"mes journes, nos clients"}),o.jsx("button",{onClick:()=>u(!1),className:"text-white/80 hover:text-white transition-colors",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsx("div",{className:"flex-1 overflow-auto",children:o.jsx(a_,{currentUser:e})})]}):o.jsxs("div",{className:`fixed ${i?"inset-0 w-full h-full rounded-none":"bottom-6 right-6 w-96 rounded-lg"} bg-white shadow-2xl border border-gray-200 z-50 flex flex-col`,style:i?{}:{height:n?"400px":"600px"},children:[o.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4 rounded-t-lg flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[r&&o.jsx("button",{onClick:r,className:"text-white/80 hover:text-white mr-2 md:hidden",title:"Retour au dashboard",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})}),o.jsx("h3",{className:"font-semibold",children:"Assistant Gazelle"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>g([]),className:"text-white/80 hover:text-white text-sm",title:"Effacer l'historique",children:""}),o.jsx("button",{onClick:()=>u(!1),className:"text-white/80 hover:text-white",title:"Fermer",children:""})]})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50",children:[d.map((x,E)=>{var k,P;return o.jsx("div",{className:`flex ${x.role==="user"?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-[80%] rounded-lg p-3 ${x.role==="user"?"bg-blue-600 text-white":x.error?"bg-red-100 text-red-800 border border-red-300":"bg-white border border-gray-200 text-gray-800"}`,children:[x.role==="assistant"&&((k=x.metadata)!=null&&k.clickable_entities)&&x.metadata.clickable_entities.length>0?(()=>{const A=new Map;x.metadata.clickable_entities.forEach(R=>{if(!(R!=null&&R.name))return;const C=`${R.name.trim().toLowerCase()}|${(R.city||"").trim().toLowerCase()}`,I=A.get(C);(!I||I.type!=="client"&&R.type==="client")&&A.set(C,R)});const _=Array.from(A.values()),T=` **${_.length} clients trouvs:**

`,O=_.map(R=>{const C=R.city?` (${R.city})`:"",I=R.type==="contact"?" [Contact]":"";return`- **${R.name}**${C}${I}`}).join(`
`),w=_.length>0?`${T}${O}`:x.content;return o.jsx($k,{content:w,entities:_,currentUser:e,onAskQuestion:f,onSelectClient:R=>{console.log("Client slectionn:",R)}})})():o.jsx("div",{className:"text-sm whitespace-pre-wrap",children:x.content}),((P=x.structured_data)==null?void 0:P.appointments)&&o.jsx("div",{className:"mt-3 space-y-2",children:x.structured_data.appointments.map((A,_)=>o.jsxs("div",{className:"p-2 bg-gray-50 rounded border border-gray-200 hover:bg-gray-100 cursor-pointer transition-colors",onClick:()=>{A.client_external_id&&f(`cherche client ${A.client_external_id}`)},title:A.client_external_id?"Cliquer pour voir les dtails du client":"",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-blue-600 hover:text-blue-800",children:A.client_name}),A.location&&o.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",A.location,")"]})]}),o.jsx("div",{className:"text-xs text-gray-400",children:A.appointment_time})]}),A.description&&o.jsx("div",{className:"text-xs text-gray-600 mt-1",children:A.description})]},_))}),x.metadata&&o.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-200 text-xs text-gray-500",children:[o.jsxs("div",{children:["Type: ",x.metadata.query_type]}),x.metadata.confidence&&o.jsxs("div",{children:["Confiance: ",(x.metadata.confidence*100).toFixed(0),"%"]})]})]})},E)}),h&&o.jsx("div",{className:"flex justify-start",children:o.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:o.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),o.jsx("span",{className:"text-sm",children:"Rflexion en cours..."})]})})}),o.jsx("div",{ref:S})]}),d.length<=1&&o.jsxs("div",{className:"px-4 py-2 border-t border-gray-200 bg-gray-50",children:[o.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Suggestions :"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:j().map((x,E)=>o.jsx("button",{onClick:()=>f(x.text),className:"px-3 py-1 text-xs bg-white border border-gray-300 rounded-full hover:bg-blue-50 hover:border-blue-300 transition-colors",title:x.description,children:x.text},E))})]}),o.jsxs("div",{className:"p-4 border-t border-gray-200 bg-white rounded-b-lg",children:[o.jsxs("form",{onSubmit:x=>{x.preventDefault(),f()},className:"flex gap-2",children:[o.jsx("input",{type:"text",value:b,onChange:x=>N(x.target.value),placeholder:"Posez votre question...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",disabled:h}),o.jsx("button",{type:"submit",disabled:h||!b.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors text-sm font-medium",children:"Envoyer"})]}),o.jsxs("div",{className:"mt-2 text-xs text-gray-500 text-center",children:["Tapez ",o.jsx("code",{className:"bg-gray-100 px-1 rounded",children:".aide"})," pour voir les commandes"]})]})]}):o.jsxs("button",{onClick:()=>{if(console.log("[AssistantWidget] Bouton cliqu!",{onOpenMaJournee:!!a,currentUser:e}),a){console.log("[AssistantWidget] Appel onOpenMaJournee()"),a();return}console.log("[AssistantWidget] Ouverture widget classique"),u(!0),d.length===0&&g([{role:"assistant",content:y()}])},className:"fixed bottom-6 right-6 bg-blue-600 hover:bg-blue-700 text-white rounded-full p-4 shadow-lg transition-all hover:scale-110 z-50",title:a?"Ouvrir Ma Journe":"Ouvrir l'assistant",children:[o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})}),o.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:"?"})]})}function u_({briefing:e,currentUser:t,onFeedbackSaved:n}){const[r,s]=m.useState(!1),[a,i]=m.useState(!1),[l,c]=m.useState(""),[u,d]=m.useState(!1),[g,b]=m.useState(null),N=(t==null?void 0:t.email)==="asutton@piano-tek.com",{appointment:h,narrative:v,action_items:S,flags:y,piano:j,client_name:f,client_since:x,follow_ups:E,estimate_items:k}=e,P=[];(y==null?void 0:y.language)==="EN"&&P.push({icon:"",label:"Anglophone",color:"bg-red-100 text-red-800"}),(y==null?void 0:y.language)==="BI"&&P.push({icon:"",label:"Anglophone",color:"bg-red-100 text-red-800"}),y!=null&&y.pls&&P.push({icon:"",label:"PLS",color:"bg-blue-100 text-blue-800"});const A=(h==null?void 0:h.collaboration)||[],_=(E==null?void 0:E.length)>0,T=(k==null?void 0:k.length)>0,O=_||T||N,w=async()=>{if(l.trim()){d(!0);try{(await fetch(`${pe}/api/briefing/feedback`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:e.client_id,note:l.trim(),created_by:(t==null?void 0:t.email)||"asutton@piano-tek.com"})})).ok&&(i(!1),c(""),n==null||n())}catch(C){console.error("Erreur feedback:",C)}finally{d(!1)}}},R=async C=>{b(C);try{(await fetch(`${pe}/api/briefing/follow-up/resolve`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({item_id:C,resolved_by:(t==null?void 0:t.gazelleId)||(t==null?void 0:t.email)})})).ok&&(n==null||n())}catch(I){console.error("Erreur resolution:",I)}finally{b(null)}};return o.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden mb-4 border border-gray-100",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-4 py-3 text-white",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-2xl font-bold font-mono",children:(h==null?void 0:h.time)||"--:--"}),o.jsxs("div",{children:[o.jsxs("div",{className:"font-semibold text-lg",children:[f||"Client",x&&o.jsx("span",{className:"text-blue-200 text-sm font-normal ml-2",children:x})]}),(h==null?void 0:h.title)&&h.title!==f&&o.jsx("div",{className:"text-blue-100 text-sm",children:h.title})]})]}),!x&&o.jsx("span",{className:"bg-green-400 text-green-900 text-xs px-2 py-1 rounded-full font-medium",children:"Premier RV"})]})}),o.jsxs("div",{className:"p-4 space-y-3",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[P.map((C,I)=>o.jsxs("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-semibold flex items-center gap-1 ${C.color}`,children:[o.jsx("span",{children:C.icon}),o.jsx("span",{children:C.label})]},I)),(y==null?void 0:y.piano_label)&&o.jsxs("span",{className:"text-sm text-gray-600 flex items-center gap-1",children:[" ",y.piano_label]})]}),A.length>0&&o.jsxs("div",{className:"bg-indigo-50 border-l-4 border-indigo-400 px-3 py-2 text-sm text-indigo-800",children:["En collaboration avec ",A.map((C,I)=>o.jsxs("span",{className:"font-semibold",children:[C.technician_name,C.time?` (${C.time})`:"",I<A.length-1?", ":""]},I))]}),v&&o.jsx("div",{className:"text-gray-800 text-sm leading-relaxed",children:v}),(S==null?void 0:S.length)>0&&o.jsx("div",{className:"space-y-1",children:S.map((C,I)=>o.jsxs("div",{className:"flex items-start gap-2 text-sm bg-amber-50 border-l-4 border-amber-400 px-3 py-1.5 text-amber-900",children:[o.jsx("span",{className:"font-bold mt-0.5",children:""}),o.jsx("span",{children:C})]},I))}),_&&!r&&o.jsxs("div",{className:"text-xs text-amber-700 font-medium",children:[" ",E.length," suivi(s) en attente"]}),O&&o.jsx("button",{onClick:()=>s(!r),className:"w-full text-center text-sm text-blue-600 hover:text-blue-800 font-medium py-1 border-t border-gray-100 mt-2",children:r?"Voir moins ":"Voir plus "})]}),r&&o.jsxs("div",{className:"border-t border-gray-200 p-4 space-y-4 bg-gray-50",children:[_&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Suivis en attente"}),o.jsx("div",{className:"space-y-2",children:E.map((C,I)=>o.jsxs("div",{className:"flex items-start justify-between bg-amber-50 rounded-lg px-3 py-2",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-sm font-medium text-amber-900",children:C.description}),o.jsxs("div",{className:"text-xs text-amber-600 mt-0.5",children:[C.category&&o.jsx("span",{className:"capitalize",children:C.category}),C.detected_at&&o.jsxs("span",{children:["  ",C.detected_at.substring(0,10)]})]})]}),C.id&&o.jsx("button",{onClick:()=>R(C.id),disabled:g===C.id,className:"ml-2 text-green-600 hover:text-green-800 text-xs font-medium px-2 py-1 rounded border border-green-300 hover:bg-green-50 disabled:opacity-50 flex-shrink-0",children:g===C.id?"...":"Fait "})]},C.id||I))})]}),T&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Soumissions"}),o.jsx("div",{className:"space-y-2",children:k.map((C,I)=>o.jsxs("div",{className:"text-sm border-l-2 border-green-400 pl-3 bg-green-50 rounded-r py-1.5 pr-2",children:[C.date&&o.jsx("div",{className:"text-xs text-gray-500 mb-0.5",children:C.date}),o.jsx("div",{className:"text-gray-800",children:C.text})]},I))})]}),N&&o.jsx("div",{className:"border-t border-gray-200 pt-3",children:a?o.jsxs("div",{className:"space-y-2",children:[o.jsx("textarea",{value:l,onChange:C=>c(C.target.value),placeholder:"Ex: Le client parle anglais, il a un chien nomm Rex...",className:"w-full text-sm border border-gray-300 rounded px-3 py-2 resize-none",rows:3}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:w,disabled:u||!l.trim(),className:"bg-purple-600 text-white text-sm px-3 py-1 rounded hover:bg-purple-700 disabled:opacity-50",children:u?"...":"Enregistrer"}),o.jsx("button",{onClick:()=>i(!1),className:"text-gray-600 text-sm px-3 py-1",children:"Annuler"})]})]}):o.jsxs("button",{onClick:()=>i(!0),className:"text-sm text-purple-600 hover:text-purple-800 font-medium flex items-center gap-1",children:[o.jsx("span",{children:""})," Ajuster l'Intelligence"]})})]})]})}function ss({currentUser:e}){const[t,n]=m.useState([]),[r,s]=m.useState(!0),[a,i]=m.useState(null),l=()=>{const j=new Date,f=j.getFullYear(),x=String(j.getMonth()+1).padStart(2,"0"),E=String(j.getDate()).padStart(2,"0");return`${f}-${x}-${E}`},[c,u]=m.useState(l()),d=(e==null?void 0:e.gazelleId)||(e==null?void 0:e.id)||null,g=(e==null?void 0:e.email)==="asutton@piano-tek.com",[b,N]=m.useState(!1);console.log("[MaJournee] currentUser:",e==null?void 0:e.email,"gazelleId:",e==null?void 0:e.gazelleId,"id:",e==null?void 0:e.id," technicianId:",d),m.useEffect(()=>{h()},[c,d,b]);const h=async(j=0)=>{s(!0),j===0&&i(null);try{let f=`${pe}/api/briefing/daily?date=${c}`;d&&(g&&b?f+=`&exclude_technician_id=${d}`:f+=`&technician_id=${d}`);const x=await fetch(f);if(!x.ok)throw new Error(`Erreur ${x.status}`);const E=await x.json();n(E.briefings||[]),i(null),s(!1)}catch(f){console.error("Erreur chargement briefings:",f),j<2?(i("Serveur en dmarrage... nouvelle tentative"),setTimeout(()=>h(j+1),3e3)):(i(f.message),s(!1))}},v=j=>{const f=new Date(c+"T00:00:00");f.setDate(f.getDate()+j);const x=f.getFullYear(),E=String(f.getMonth()+1).padStart(2,"0"),k=String(f.getDate()).padStart(2,"0");u(`${x}-${E}-${k}`)},S=c===l(),y=j=>{const f=new Date(j+"T00:00:00"),x={weekday:"long",day:"numeric",month:"long"};return f.toLocaleDateString("fr-CA",x)};return o.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-1",children:" Ma Journe"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Briefings intelligents pour vos rendez-vous"})]}),o.jsxs("div",{className:"flex items-center justify-between mb-6 bg-white rounded-xl shadow px-4 py-3",children:[o.jsx("button",{onClick:()=>v(-1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:""}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"font-semibold text-gray-800 capitalize",children:y(c)}),S&&o.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full",children:"Aujourd'hui"})]}),o.jsx("button",{onClick:()=>v(1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:""})]}),!r&&o.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl px-4 py-3 mb-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-2xl font-bold text-blue-600",children:t.length}),o.jsx("span",{className:"text-gray-600",children:"rendez-vous"})]}),o.jsx("button",{onClick:h,disabled:r,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:" Actualiser"})]}),g&&o.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[o.jsx("button",{onClick:()=>N(!1),className:`px-3 py-1 text-sm rounded-full transition-colors ${b?"bg-white text-gray-600 hover:bg-gray-100":"bg-blue-600 text-white"}`,children:"Mes RV"}),o.jsx("button",{onClick:()=>N(!0),className:`px-3 py-1 text-sm rounded-full transition-colors ${b?"bg-blue-600 text-white":"bg-white text-gray-600 hover:bg-gray-100"}`,children:"Autres techs"})]})]}),r&&o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600"})}),a&&o.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl mb-4",children:[" ",a]}),!r&&!a&&t.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-6xl mb-4",children:""}),o.jsx("div",{className:"text-gray-600",children:"Aucun rendez-vous pour cette date"}),!S&&o.jsx("button",{onClick:()=>u(l()),className:"mt-4 text-blue-600 hover:text-blue-800 font-medium",children:"Retour  aujourd'hui"})]}),!r&&!a&&t.length>0&&o.jsx("div",{className:"space-y-4",children:t.map((j,f)=>{var x;return o.jsx(u_,{briefing:j,currentUser:e,onFeedbackSaved:h},((x=j.appointment)==null?void 0:x.id)||`${j.client_id}-${f}`)})}),g&&o.jsxs("div",{className:"mt-8 bg-purple-50 border border-purple-200 rounded-xl px-4 py-3",children:[o.jsxs("div",{className:"flex items-center gap-2 text-purple-800",children:[o.jsx("span",{className:"text-xl",children:""}),o.jsx("span",{className:"font-medium",children:"Mode Super-Utilisateur"})]}),o.jsx("p",{className:"text-sm text-purple-700 mt-1",children:`Cliquez sur "Ajuster l'Intelligence" sur une carte pour corriger les donnes. Vos corrections entranent l'IA pour les prochaines analyses.`})]})]})}function _i(){const[e,t]=m.useState(""),[n,r]=m.useState(""),[s,a]=m.useState(!1),[i,l]=m.useState(null),[c,u]=m.useState(null),[d,g]=m.useState([]),[b,N]=m.useState(!1),[h,v]=m.useState(null),S=async()=>{if(!n.trim()){g([]),v(null);return}N(!0),g([]),v(null);try{const x=await(await fetch(`${pe}/api/admin/travel-fees/search-client?client_name=${encodeURIComponent(n)}`)).json();x.results&&x.results.length>0?(g(x.results),x.results.length===1&&y(x.results[0])):(g([]),alert("Aucun client trouv"))}catch(f){g([]),alert("Erreur recherche client: "+f.message)}finally{N(!1)}},y=f=>{v(f),r(f.client_name);const x=f.address_full||f.address||f.postal_code||"";t(x),g([])},j=async(f=null,x=null)=>{const E=f??e,k=typeof E=="string"?E.trim():E?String(E).trim():"";if(!k){alert("Veuillez entrer une adresse ou code postal");return}a(!0),u(null),l(null);try{const P=await fetch(`${pe}/api/admin/travel-fees/calculate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({destination:k,client_name:h?h.client_name:x||n.trim()||null})});if(!P.ok){let _="Erreur de calcul";try{_=(await P.json()).detail||_}catch{_=await P.text()}throw new Error(_)}const A=await P.json();l(A)}catch(P){u(P.message)}finally{a(!1)}};return o.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[o.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:" Calculateur de frais de dplacement"}),o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" Rechercher un client"}),o.jsxs("div",{className:"flex gap-2 relative",children:[o.jsx("input",{type:"text",value:n,onChange:f=>{r(f.target.value),v(null),g([])},placeholder:"Ex: Carretta ou Michelle",className:"flex-1 border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onKeyPress:f=>f.key==="Enter"&&S()}),o.jsx("button",{onClick:S,disabled:b,className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 disabled:bg-gray-400 transition-colors",children:b?"":"Chercher"}),d.length>0&&o.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-10 max-h-96 overflow-y-auto",children:d.map((f,x)=>o.jsxs("button",{onClick:()=>y(f),className:`w-full text-left px-4 py-3 hover:bg-blue-50 transition-colors border-b border-gray-100 last:border-b-0 ${(h==null?void 0:h.client_id)===f.client_id?"bg-blue-100":""}`,children:[o.jsxs("div",{className:"font-semibold text-gray-800 mb-1",children:[f.client_name,f.type==="contact"&&o.jsx("span",{className:"ml-2 text-xs bg-purple-100 text-purple-700 px-2 py-0.5 rounded",children:"Contact"})]}),f.address_full&&o.jsxs("div",{className:"text-sm text-gray-600 mb-1",children:[" ",f.address_full]}),o.jsxs("div",{className:"flex flex-wrap gap-3 text-xs text-gray-500",children:[f.phone&&o.jsxs("span",{children:[" ",f.phone]}),f.email&&o.jsxs("span",{children:[" ",f.email]}),f.postal_code&&o.jsxs("span",{children:[" ",f.postal_code]})]}),f.notes&&o.jsx("div",{className:"text-xs text-gray-400 mt-1 italic truncate",children:f.notes})]},x))})]}),h&&o.jsxs("div",{className:"mt-2 p-3 bg-green-50 border border-green-200 rounded-lg text-sm text-green-800 space-y-1",children:[o.jsxs("p",{className:"font-semibold",children:["Client : ",h.client_name]}),h.address_full&&o.jsxs("p",{children:[" ",h.address_full]}),h.phone&&o.jsxs("p",{children:[" ",h.phone]}),h.email&&o.jsxs("p",{children:[" ",h.email]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" Adresse ou code postal"}),o.jsx("input",{type:"text",value:e,onChange:f=>t(f.target.value),placeholder:"Ex: H3B 4W8 ou 123 rue Example, Montral",className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onKeyPress:f=>f.key==="Enter"&&j()}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Accepte : code postal, adresse partielle ou complte"})]})]}),o.jsx("button",{onClick:j,disabled:s||!e.trim(),className:"w-full md:w-auto px-8 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:s?" Calcul en cours...":" Calculer les Frais"})]}),c&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:o.jsxs("p",{className:"text-red-800",children:[" ",c]})}),i&&o.jsxs("div",{className:"space-y-4",children:[i.recommendation&&o.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:o.jsx("p",{className:"text-green-800 font-semibold",children:i.recommendation})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:i.results.map((f,x)=>{const E=f.technician_name===i.cheapest_technician,k=f.is_free;return o.jsxs("div",{className:`bg-white rounded-lg shadow-lg p-6 border-2 ${E?"border-green-500 ring-2 ring-green-200":k?"border-green-300":"border-gray-200"}`,children:[E&&o.jsx("div",{className:"mb-3",children:o.jsx("span",{className:"inline-block bg-green-500 text-white text-xs font-bold px-3 py-1 rounded-full",children:" Recommand"})}),o.jsxs("h3",{className:"text-xl font-bold mb-4 text-gray-800",children:[" ",f.technician_name]}),o.jsx("div",{className:"mb-4",children:k?o.jsx("div",{className:"text-3xl font-bold text-green-600",children:"GRATUIT"}):o.jsxs("div",{className:"text-3xl font-bold text-orange-600",children:[f.total_fee.toFixed(2),"$"]})}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:" Distance:"}),o.jsxs("span",{className:"font-semibold",children:[f.distance_km," km"]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:" Temps:"}),o.jsxs("span",{className:"font-semibold",children:[f.duration_minutes.toFixed(0)," min"]})]}),!k&&o.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[o.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Dtail:"}),f.breakdown.distance_fee>0&&o.jsxs("div",{className:"flex justify-between text-xs",children:[o.jsx("span",{children:"Distance:"}),o.jsxs("span",{children:[f.breakdown.distance_fee.toFixed(2),"$"]})]}),f.breakdown.time_fee>0&&o.jsxs("div",{className:"flex justify-between text-xs",children:[o.jsx("span",{children:"Temps:"}),o.jsxs("span",{children:[f.breakdown.time_fee.toFixed(2),"$"]})]})]})]})]},f.technician_name)})}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-sm text-gray-600",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Destination:"})," ",i.destination]}),h&&o.jsxs("p",{children:[o.jsx("strong",{children:"Client:"})," ",h.client_name]}),i.client_name&&!h&&o.jsxs("p",{children:[o.jsx("strong",{children:"Client:"})," ",i.client_name]})]})]})]})}function Ti(){const[e,t]=m.useState("usr_HcCiFk7o0vZ9xAI0"),[n,r]=m.useState(new Date().toISOString().split("T")[0]),[s,a]=m.useState(""),[i,l]=m.useState(""),[c,u]=m.useState(!1),[d,g]=m.useState(null),[b,N]=m.useState(null),h=[{id:"usr_HcCiFk7o0vZ9xAI0",name:"Nicolas"},{id:"usr_ofYggsCDt2JAVeNP",name:"Allan"},{id:"usr_ReUSmIJmBF86ilY1",name:"Jean-Philippe"}],v=async()=>{if(!e){alert("Veuillez slectionner un technicien");return}if(!n&&!i){alert("Choisissez soit une date, soit une plage (date de fin), soit un trimestre");return}u(!0),N(null),g(null);try{const S=await fetch(`${pe}/api/admin/kilometers/calculate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({technician_id:e,date:n,date_end:s||null,quarter:i||null})});if(!S.ok){const j=await S.json();throw new Error(j.detail||"Erreur de calcul")}const y=await S.json();g(y)}catch(S){N(S.message)}finally{u(!1)}};return o.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[o.jsx("h2",{className:"text-3xl font-bold mb-6 text-gray-800",children:" Calculateur de Kilomtres Parcourus"}),o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" Technicien"}),o.jsx("select",{value:e,onChange:S=>t(S.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:h.map(S=>o.jsx("option",{value:S.id,children:S.name},S.id))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:" Dates (jour ou plage) / Trimestre"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[o.jsx("input",{type:"date",value:n,onChange:S=>r(S.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),o.jsx("input",{type:"date",value:s,onChange:S=>a(S.target.value),placeholder:"Date de fin (optionnel)",className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),o.jsxs("div",{className:"flex gap-2 flex-wrap",children:[["Q1","Q2","Q3","Q4"].map(S=>o.jsx("button",{onClick:()=>l(S),className:`px-3 py-1 text-sm rounded border ${i===S?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300"}`,children:S},S)),i&&o.jsx("button",{onClick:()=>l(""),className:"px-3 py-1 text-sm rounded border bg-gray-100 text-gray-700 border-gray-300",children:"Effacer trimestre"})]}),o.jsxs("p",{className:"text-xs text-gray-500",children:["- Renseignez une date unique OU une plage (date dbut + fin) OU un trimestre (Q1=jan-mars, Q2=avr-juin, Q3=jul-sep, Q4=oct-dc).",o.jsx("br",{}),"- Le trimestre crase la plage de dates si slectionn."]})]})]}),o.jsx("button",{onClick:v,disabled:c,className:"w-full md:w-auto px-8 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:c?" Calcul en cours...":" Calculer les Kilomtres"})]}),b&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:o.jsxs("p",{className:"text-red-800",children:[" ",b]})}),d&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg shadow-lg p-6",children:[o.jsxs("h3",{className:"text-2xl font-bold mb-4",children:[" Rsum - ",d.technician_name]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm opacity-90",children:"Distance Totale"}),o.jsxs("p",{className:"text-3xl font-bold",children:[d.total_km," km"]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm opacity-90",children:"Temps Total"}),o.jsxs("p",{className:"text-3xl font-bold",children:[d.total_duration_minutes," min"]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm opacity-90",children:"Remboursement"}),o.jsxs("p",{className:"text-3xl font-bold",children:[d.reimbursement.toFixed(2),"$"]}),o.jsx("p",{className:"text-xs opacity-75",children:"(0.72$/km)"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm opacity-90",children:"Priode"}),o.jsx("p",{className:"text-lg font-semibold",children:d.date_start===d.date_end?new Date(d.date_start).toLocaleDateString("fr-FR"):`${new Date(d.date_start).toLocaleDateString("fr-FR")} - ${new Date(d.date_end).toLocaleDateString("fr-FR")}`})]})]})]}),d.segments&&d.segments.length>0&&o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[o.jsx("h4",{className:"text-xl font-bold mb-4 text-gray-800",children:" Segments Dtaills"}),o.jsx("div",{className:"space-y-3",children:d.segments.map((S,y)=>o.jsx("div",{className:"border-l-4 border-blue-500 pl-4 py-2 bg-gray-50 rounded",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("p",{className:"font-semibold text-gray-800",children:[y+1,". ",S.from,"  ",S.to]})}),o.jsxs("div",{className:"text-right text-sm text-gray-600",children:[o.jsx("p",{children:o.jsxs("strong",{children:[S.distance_km," km"]})}),o.jsx("p",{children:S.duration_text})]})]})},y))})]})]})]})}function d_(){const[e,t]=m.useState(null),[n,r]=m.useState([]),[s,a]=m.useState([]),[i,l]=m.useState(!0),[c,u]=m.useState(null),[d,g]=m.useState("overview");m.useEffect(()=>{b();const v=setInterval(b,12e4);return()=>clearInterval(v)},[]);const b=async()=>{l(!0);try{const[v,S,y]=await Promise.all([fetch(`${pe}/api/chat-stats/summary`),fetch(`${pe}/api/chat-stats/clients?limit=30`),fetch(`${pe}/api/chat-stats/analyses?limit=20`)]);if(v.ok&&t(await v.json()),S.ok){const j=await S.json();r(j.clients||[])}if(y.ok){const j=await y.json();a(j.analyses||[])}}catch(v){console.error("Erreur chat stats:",v),u(v.message)}finally{l(!1)}},N=v=>{if(!v)return"--";try{return new Date(v).toLocaleDateString("fr-CA",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"--"}},h=(e==null?void 0:e.stats)||{};return o.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Chat Public - Piano Concierge"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Prospects via le widget chat sur piano-tek.com"})]}),o.jsx("button",{onClick:b,className:"px-4 py-2 text-sm bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors",children:"Rafraichir"})]}),c&&o.jsxs("div",{className:"bg-red-50 text-red-700 px-4 py-3 rounded-lg mb-4 text-sm",children:["Erreur: ",c]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[o.jsx($i,{label:"Sessions",value:h.total_sessions||0,icon:""}),o.jsx($i,{label:"Clients identifis",value:h.total_clients_identified||0,icon:""}),o.jsx($i,{label:"Analyses photo",value:h.total_photo_analyses||0,icon:""}),o.jsx($i,{label:"Contacts collects",value:h.contacts_collected||0,icon:""})]}),o.jsx("div",{className:"flex gap-2 mb-4 border-b border-gray-200",children:[{id:"overview",label:"Vue globale"},{id:"clients",label:"Clients"},{id:"analyses",label:"Analyses photo"}].map(v=>o.jsx("button",{onClick:()=>g(v.id),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors -mb-px ${d===v.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:v.label},v.id))}),i&&!e?o.jsx("div",{className:"text-center py-12 text-gray-400",children:"Chargement..."}):o.jsxs(o.Fragment,{children:[d==="overview"&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[o.jsx("h3",{className:"font-semibold text-gray-700 mb-3",children:"Par rgion"}),((e==null?void 0:e.by_region)||[]).length===0?o.jsx("p",{className:"text-sm text-gray-400",children:"Aucune donne"}):o.jsx("div",{className:"space-y-2",children:e.by_region.map((v,S)=>o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsx("span",{className:"text-gray-700",children:v.region}),o.jsxs("div",{className:"flex gap-3 text-gray-500",children:[o.jsxs("span",{children:[v.sessions," sess."]}),o.jsxs("span",{children:[v.clients," cli."]}),o.jsxs("span",{children:[v.photo_analyses," photos"]})]})]},S))})]}),o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[o.jsx("h3",{className:"font-semibold text-gray-700 mb-3",children:"Types d'intrt"}),((e==null?void 0:e.interests)||[]).length===0?o.jsx("p",{className:"text-sm text-gray-400",children:"Aucune donne"}):o.jsx("div",{className:"space-y-2",children:e.interests.map((v,S)=>o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsx("span",{className:"text-gray-700 capitalize",children:v.interet.replace("_"," ")}),o.jsxs("span",{className:"text-gray-500",children:[v.sessions," sessions"]})]},S))})]}),o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 md:col-span-2",children:[o.jsx("h3",{className:"font-semibold text-gray-700 mb-3",children:"Activit (30 derniers jours)"}),((e==null?void 0:e.daily_activity)||[]).length===0?o.jsx("p",{className:"text-sm text-gray-400",children:"Aucune donne"}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"text-left text-gray-500 border-b",children:[o.jsx("th",{className:"pb-2",children:"Jour"}),o.jsx("th",{className:"pb-2",children:"Sessions"}),o.jsx("th",{className:"pb-2",children:"Clients uniques"}),o.jsx("th",{className:"pb-2",children:"Analyses"}),o.jsx("th",{className:"pb-2",children:"Contacts"})]})}),o.jsx("tbody",{children:e.daily_activity.map((v,S)=>o.jsxs("tr",{className:"border-b border-gray-50",children:[o.jsx("td",{className:"py-2 text-gray-700",children:v.jour}),o.jsx("td",{className:"py-2",children:v.sessions}),o.jsx("td",{className:"py-2",children:v.clients_uniques}),o.jsx("td",{className:"py-2",children:v.analyses_photo}),o.jsx("td",{className:"py-2",children:v.contacts})]},S))})]})})]})]}),d==="clients"&&o.jsx("div",{className:"bg-white rounded-lg border border-gray-200",children:n.length===0?o.jsx("p",{className:"text-sm text-gray-400 p-4",children:"Aucun client identifi"}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"text-left text-gray-500 border-b bg-gray-50",children:[o.jsx("th",{className:"px-4 py-3",children:"Email"}),o.jsx("th",{className:"px-4 py-3",children:"Rgion"}),o.jsx("th",{className:"px-4 py-3",children:"Intrt"}),o.jsx("th",{className:"px-4 py-3",children:"Analyses"}),o.jsx("th",{className:"px-4 py-3",children:"Sessions"}),o.jsx("th",{className:"px-4 py-3",children:"Dernier contact"})]})}),o.jsx("tbody",{children:n.map((v,S)=>o.jsxs("tr",{className:"border-b border-gray-50 hover:bg-gray-50",children:[o.jsxs("td",{className:"px-4 py-3 text-gray-800 font-medium",children:[v.email||"(anonyme)",v.first_name&&o.jsx("span",{className:"ml-2 text-gray-400",children:v.first_name})]}),o.jsx("td",{className:"px-4 py-3 text-gray-600",children:v.region||"--"}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("span",{className:"px-2 py-0.5 bg-blue-50 text-blue-600 rounded text-xs",children:v.interest_type||"--"})}),o.jsx("td",{className:"px-4 py-3",children:v.photo_analyses_count||0}),o.jsx("td",{className:"px-4 py-3",children:v.total_sessions||0}),o.jsx("td",{className:"px-4 py-3 text-gray-500",children:N(v.last_contact_at)})]},S))})]})})}),d==="analyses"&&o.jsx("div",{className:"bg-white rounded-lg border border-gray-200",children:s.length===0?o.jsx("p",{className:"text-sm text-gray-400 p-4",children:"Aucune analyse"}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"text-left text-gray-500 border-b bg-gray-50",children:[o.jsx("th",{className:"px-4 py-3",children:"Date"}),o.jsx("th",{className:"px-4 py-3",children:"Client"}),o.jsx("th",{className:"px-4 py-3",children:"Marque"}),o.jsx("th",{className:"px-4 py-3",children:"Score"}),o.jsx("th",{className:"px-4 py-3",children:"Verdict"}),o.jsx("th",{className:"px-4 py-3",children:"Type"})]})}),o.jsx("tbody",{children:s.map((v,S)=>{var y,j;return o.jsxs("tr",{className:"border-b border-gray-50 hover:bg-gray-50",children:[o.jsx("td",{className:"px-4 py-3 text-gray-500",children:N(v.created_at)}),o.jsx("td",{className:"px-4 py-3 text-gray-700",children:((y=v.chat_clients)==null?void 0:y.email)||((j=v.chat_clients)==null?void 0:j.first_name)||"(anonyme)"}),o.jsx("td",{className:"px-4 py-3 font-medium",children:v.piano_brand||"--"}),o.jsx("td",{className:"px-4 py-3",children:v.score!=null?o.jsxs("span",{className:`font-bold ${v.score>=7?"text-green-600":v.score>=4?"text-yellow-600":"text-red-600"}`,children:[v.score,"/10"]}):"--"}),o.jsx("td",{className:"px-4 py-3 text-gray-600",children:v.verdict||"--"}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("span",{className:"px-2 py-0.5 bg-purple-50 text-purple-600 rounded text-xs",children:v.analysis_type||"general"})})]},S)})})]})})})]})]})}function $i({label:e,value:t,icon:n}){return o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("span",{className:"text-lg",children:n}),o.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wide",children:e})]}),o.jsx("div",{className:"text-2xl font-bold text-gray-800",children:t})]})}class tt extends jn.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,n){console.error(" ErrorBoundary a captur une erreur:",t,n),this.setState({error:t,errorInfo:n})}render(){return this.state.hasError?o.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:o.jsxs("div",{className:"text-center bg-white p-6 rounded-lg shadow max-w-md w-full",children:[o.jsx("div",{className:"text-red-600 mb-2 text-lg font-semibold",children:" Erreur d'affichage"}),o.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:["Une erreur s'est produite lors du chargement de ",this.props.componentName||"ce composant","."]}),this.state.error&&o.jsxs("details",{className:"text-left text-xs text-gray-500 mb-4 p-2 bg-gray-50 rounded",children:[o.jsx("summary",{className:"cursor-pointer font-medium mb-2",children:"Dtails de l'erreur"}),o.jsxs("pre",{className:"whitespace-pre-wrap overflow-auto",children:[this.state.error.toString(),this.state.errorInfo&&this.state.errorInfo.componentStack]})]}),o.jsx("button",{onClick:()=>{this.setState({hasError:!1,error:null,errorInfo:null}),window.location.reload()},className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Recharger la page"})]})}):this.props.children}}function p_(){var f,x,E,k,P,A,_,T;const[e,t]=m.useState(null),[n,r]=m.useState("chat"),[s,a]=m.useState(null),[i,l]=m.useState(!1),[c,u]=m.useState(!1),[d,g]=m.useState([]),[b,N]=m.useState("vincent-dindy");m.useEffect(()=>{(async()=>{var w;try{const C=await fetch("https://assistant-gazelle-v5-api.onrender.com/api/institutions/list");if(C.ok){const I=await C.json();g(I.institutions||[]),console.log("[App.jsx] Institutions charges:",((w=I.institutions)==null?void 0:w.length)||0)}else console.error("[App.jsx] Erreur chargement institutions:",C.status),g([{slug:"vincent-dindy",name:"Vincent d'Indy"},{slug:"place-des-arts",name:"Place des Arts"},{slug:"orford",name:"Orford Musique"}])}catch(R){console.error("[App.jsx] Erreur chargement institutions:",R),g([{slug:"vincent-dindy",name:"Vincent d'Indy"},{slug:"place-des-arts",name:"Place des Arts"},{slug:"orford",name:"Orford Musique"}])}})()},[]),m.useEffect(()=>{console.log("[App.jsx] useEffect chargement utilisateur - dbut");try{const O=localStorage.getItem("currentUser");if(console.log("[App.jsx] Utilisateur sauvegard trouv:",O?"OUI":"NON"),O)try{const w=JSON.parse(O);console.log("[App.jsx] Utilisateur pars:",(w==null?void 0:w.email)||(w==null?void 0:w.name)),t(w)}catch(w){console.error("[App.jsx] Erreur parsing utilisateur:",w),localStorage.removeItem("currentUser")}console.log("[App.jsx] useEffect chargement utilisateur - fin")}catch(O){console.error("[App.jsx] Erreur dans useEffect chargement utilisateur:",O),alert(`Erreur au chargement utilisateur: ${O.message}

Stack: ${O.stack}`)}},[]),m.useEffect(()=>{if(!c)return;const O=R=>{R.target.closest('[data-dropdown="institutions"]')||u(!1)},w=setTimeout(()=>{document.addEventListener("click",O)},0);return()=>{clearTimeout(w),document.removeEventListener("click",O)}},[c]);const h=s||ta(e==null?void 0:e.email,e==null?void 0:e.role);m.useEffect(()=>{u(!1)},[h]);const v=s?{...e,email:((f=on[s])==null?void 0:f.email)||(e==null?void 0:e.email),name:((x=on[s])==null?void 0:x.name.split(" ")[0])||(e==null?void 0:e.name),role:s,id:((E=on[s])==null?void 0:E.gazelleId)||(e==null?void 0:e.gazelleId)||(e==null?void 0:e.id),gazelleId:((k=on[s])==null?void 0:k.gazelleId)||(e==null?void 0:e.gazelleId),initials:((P=on[s])==null?void 0:P.initials)||null}:{...e,id:(e==null?void 0:e.gazelleId)||((A=on[h])==null?void 0:A.gazelleId)||(e==null?void 0:e.id),gazelleId:(e==null?void 0:e.gazelleId)||((_=on[h])==null?void 0:_.gazelleId)};s&&(console.log("[App.jsx] simulatedRole:",s,"ROLES[simulatedRole]:",on[s]),console.log("[App.jsx] effectiveUser.gazelleId:",v.gazelleId));const S=O=>{t(O)},y=()=>{localStorage.removeItem("currentUser"),t(null),a(null)};if(!e)return o.jsx(bk,{onLogin:S});const j=()=>{switch(h){case"nick":return n==="inventaire"?o.jsx(Ih,{currentUser:v}):n==="place-des-arts"?o.jsx(bu,{currentUser:v}):n==="vincent-dindy-v7"?o.jsx(tt,{componentName:"Vincent d'Indy",children:o.jsx(rs,{currentUser:v,institution:"vincent-dindy"})}):n==="orford"?o.jsx(tt,{componentName:"Orford",children:o.jsx(Rh,{currentUser:v,institution:"orford"})}):n==="chat"?o.jsx(tt,{componentName:"Ma Journe",children:o.jsx(ss,{currentUser:v})}):n==="calculateur-frais"?o.jsx(tt,{componentName:"Calculateur Frais",children:o.jsxs("div",{className:"space-y-8",children:[o.jsx(_i,{}),o.jsx("div",{className:"border-t border-gray-200 pt-8",children:o.jsx(Ti,{})})]})}):o.jsx(tt,{componentName:"Ma Journe",children:o.jsx(ss,{currentUser:v})});case"louise":case"margot":return n==="inventaire"?o.jsx(tt,{componentName:"Inventaire Dashboard",children:o.jsx(vu,{currentUser:v})}):n==="chat"?o.jsx(tt,{componentName:"Ma Journe",children:o.jsx(ss,{currentUser:v})}):n==="calculateur-frais"?o.jsx(tt,{componentName:"Calculateur Frais",children:o.jsxs("div",{className:"space-y-8",children:[o.jsx(_i,{}),o.jsx("div",{className:"border-t border-gray-200 pt-8",children:o.jsx(Ti,{})})]})}):n==="vincent-dindy-v7"?o.jsx(tt,{componentName:"Vincent d'Indy",children:o.jsx(rs,{currentUser:v,institution:"vincent-dindy"})}):n==="orford"?o.jsx(tt,{componentName:"Orford",children:o.jsx(Rh,{currentUser:v,institution:"orford"})}):n==="place-des-arts"?o.jsx(tt,{componentName:"Place des Arts",children:o.jsx(bu,{currentUser:v})}):o.jsx(tt,{componentName:"Ma Journe",children:o.jsx(ss,{currentUser:v})});case"jeanphilippe":return n==="inventaire"?o.jsx(tt,{componentName:"Inventaire Dashboard",children:o.jsx("div",{className:"w-full max-w-md mx-auto px-4 py-4 sm:px-3 sm:py-2",children:o.jsx("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 overflow-hidden",children:o.jsx(vu,{currentUser:v})})})}):n==="tournees"?o.jsx(tt,{componentName:"Vincent d'Indy",children:o.jsx(rs,{currentUser:v,institution:"vincent-dindy"})}):n==="calculateur-frais"?o.jsx(tt,{componentName:"Calculateur Frais",children:o.jsx("div",{className:"w-full max-w-md mx-auto px-4 py-4 sm:px-3 sm:py-2",children:o.jsx("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 overflow-hidden p-4",children:o.jsxs("div",{className:"space-y-8",children:[o.jsx(_i,{}),o.jsx("div",{className:"border-t border-gray-200 pt-8",children:o.jsx(Ti,{})})]})})})}):n==="chat"?o.jsx(tt,{componentName:"Ma Journe",children:o.jsx(ss,{currentUser:v})}):o.jsx(tt,{componentName:"Ma Journe",children:o.jsx(ss,{currentUser:v})});case"alexandre":case"nikolas":case"guillaume":return o.jsx(tt,{componentName:"Vincent d'Indy (Tech VDI)",children:o.jsx(rs,{currentUser:v,institution:"vincent-dindy",initialView:"technicien",hideNickView:!0})});case"admin":default:return n==="sync-dashboard"||n==="tableau-de-bord"||n==="dashboard"?o.jsx(tt,{componentName:"Tableau de Bord",children:o.jsx(wk,{currentUser:v})}):n==="inventaire"?o.jsx(tt,{componentName:"Inventaire Dashboard",children:o.jsx(vu,{currentUser:v})}):n==="tournees"?o.jsx(tt,{componentName:"Nick Dashboard",children:o.jsx(Ih,{currentUser:v})}):n==="place-des-arts"?o.jsx(tt,{componentName:"Place des Arts",children:o.jsx(bu,{currentUser:v})}):n==="chat"?o.jsx(tt,{componentName:"Ma Journe",children:o.jsx(ss,{currentUser:v})}):n==="chat-stats"?o.jsx(tt,{componentName:"Chat Stats",children:o.jsx(d_,{})}):n==="calculateur-frais"?o.jsx(tt,{componentName:"Calculateur Frais",children:o.jsxs("div",{className:"space-y-8",children:[o.jsx(_i,{}),o.jsx("div",{className:"border-t border-gray-200 pt-8",children:o.jsx(Ti,{})})]})}):n==="vincent-dindy-v7"?o.jsx(tt,{componentName:"Vincent d'Indy",children:o.jsx(rs,{currentUser:v,institution:"vincent-dindy"})}):n==="orford"?o.jsx(tt,{componentName:"Orford",children:o.jsx(rs,{currentUser:v,institution:"orford"})}):o.jsx(tt,{componentName:"Vincent d'Indy",children:o.jsx(rs,{currentUser:v,institution:"vincent-dindy"})})}};return o.jsxs(o.Fragment,{children:[o.jsx(tt,{componentName:"Application principale",children:o.jsxs("div",{className:"App",children:[o.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-3 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-2xl",children:""}),o.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"Assistant Gazelle V5"})]}),(h==="admin"||h==="nick"||h==="louise"||h==="margot"||h==="jeanphilippe"||h==="technician_vdi")&&o.jsx("nav",{className:"flex gap-2",children:h==="technician_vdi"?o.jsx(o.Fragment,{children:o.jsx("button",{className:"px-4 py-2 text-sm rounded-lg bg-blue-100 text-blue-700 font-medium",disabled:!0,children:" Vincent d'Indy"})}):h==="nick"?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>r("inventaire"),className:`px-4 py-2 text-sm rounded-lg transition-colors ${n==="inventaire"?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:" Inventaire"}),o.jsx("button",{onClick:()=>r("chat"),className:`px-4 py-2 text-sm rounded-lg transition-colors ${n==="chat"?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:" Ma Journe"}),o.jsxs("div",{className:"relative","data-dropdown":"institutions",children:[o.jsxs("button",{onClick:O=>{O.stopPropagation(),u(!c)},className:`px-4 py-2 text-sm rounded-lg transition-colors flex items-center gap-1 ${n==="vincent-dindy-v7"||n==="place-des-arts"?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:[n==="vincent-dindy-v7"?" Vincent d'Indy":n==="place-des-arts"?" Place des Arts":" Institutions",o.jsx("span",{className:"text-xs",children:""})]}),c&&o.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50 min-w-[200px]",onClick:O=>O.stopPropagation(),children:d.map(O=>{const R={"vincent-dindy":"vincent-dindy-v7","place-des-arts":"place-des-arts",orford:"orford"}[O.slug]||O.slug,C=n===R,M={"vincent-dindy":"","place-des-arts":"",orford:""}[O.slug]||"";return o.jsxs("button",{onClick:H=>{H.stopPropagation(),r(R),N(O.slug),u(!1)},className:`w-full text-left px-4 py-2 text-sm transition-colors ${C?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 hover:bg-blue-50 hover:text-blue-700"}`,children:[M," ",O.name]},O.slug)})})]})]}):h==="jeanphilippe"?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>r("inventaire"),className:`px-4 py-2 text-sm rounded-lg transition-colors ${n==="inventaire"?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:" Inventaire"}),o.jsx("button",{onClick:()=>r("chat"),className:`px-4 py-2 text-sm rounded-lg transition-colors ${n==="chat"?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:" Ma Journe"}),o.jsx("button",{onClick:()=>r("tournees"),className:`px-4 py-2 text-sm rounded-lg transition-colors ${n==="tournees"?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:" Tournes"}),o.jsx("button",{onClick:()=>r("calculateur-frais"),className:`px-4 py-2 text-sm rounded-lg transition-colors ${n==="calculateur-frais"?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:" Calculateur"})]}):o.jsxs(o.Fragment,{children:[h==="admin"&&o.jsx("button",{onClick:()=>r("sync-dashboard"),className:`px-4 py-2 text-sm rounded-lg transition-colors ${n==="sync-dashboard"||n==="tableau-de-bord"||n==="dashboard"?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:" Tableau de Bord"}),h==="admin"&&o.jsx("button",{onClick:()=>r("chat-stats"),className:`px-4 py-2 text-sm rounded-lg transition-colors ${n==="chat-stats"?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:" Chat"}),o.jsx("button",{onClick:()=>r("inventaire"),className:`px-4 py-2 text-sm rounded-lg transition-colors ${n==="inventaire"?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:" Inventaire"}),(h==="louise"||h==="margot")&&o.jsx("button",{onClick:()=>r("chat"),className:`px-4 py-2 text-sm rounded-lg transition-colors ${n==="chat"?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:" Ma Journe"}),(h==="admin"||h==="louise"||h==="margot"||h==="nick"||h==="jeanphilippe")&&o.jsx("button",{onClick:()=>r("calculateur-frais"),className:`px-4 py-2 text-sm rounded-lg transition-colors ${n==="calculateur-frais"?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:" Calculateur"}),(h==="admin"||h==="louise"||h==="margot")&&o.jsxs("div",{className:"relative","data-dropdown":"institutions",children:[o.jsxs("button",{onClick:O=>{O.stopPropagation(),u(!c)},className:`px-4 py-2 text-sm rounded-lg transition-colors flex items-center gap-1 ${n==="vincent-dindy-v7"||n==="place-des-arts"?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:[n==="vincent-dindy-v7"?" Vincent d'Indy":n==="place-des-arts"?" Place des Arts":" Institutions",o.jsx("span",{className:"text-xs",children:""})]}),c&&o.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50 min-w-[200px]",onClick:O=>O.stopPropagation(),children:d.map(O=>{const R={"vincent-dindy":"vincent-dindy-v7","place-des-arts":"place-des-arts",orford:"orford"}[O.slug]||O.slug,C=n===R,M={"vincent-dindy":"","place-des-arts":"",orford:""}[O.slug]||"";return o.jsxs("button",{onClick:H=>{H.stopPropagation(),r(R),N(O.slug),u(!1)},className:`w-full text-left px-4 py-2 text-sm transition-colors ${C?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 hover:bg-blue-50 hover:text-blue-700"}`,children:[M," ",O.name]},O.slug)})})]})]})})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[(e==null?void 0:e.email)==="asutton@piano-tek.com"&&o.jsxs("select",{value:s||h,onChange:O=>a(O.target.value),className:"px-3 py-1 text-sm border border-gray-300 rounded bg-yellow-50",title:"Slecteur de rle (temporaire pour test)",children:[o.jsx("option",{value:"admin",children:"Admin"}),o.jsx("option",{value:"nick",children:"Nick"}),o.jsx("option",{value:"louise",children:"Louise"}),o.jsx("option",{value:"margot",children:"Margot"}),o.jsx("option",{value:"jeanphilippe",children:"Jean-Philippe"}),o.jsx("option",{value:"alexandre",children:"Alexandre (AB)"}),o.jsx("option",{value:"nikolas",children:"Nikolas (NG)"}),o.jsx("option",{value:"guillaume",children:"Guillaume (GL)"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-sm font-medium text-gray-800",children:(e==null?void 0:e.name)||"Test User"}),o.jsx("div",{className:"text-xs text-gray-500",children:((T=on[h])==null?void 0:T.name)||"Administrateur"})]}),o.jsx("button",{onClick:y,className:"px-4 py-2 text-sm bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors",children:"Dconnexion"})]})]})}),j()]})}),o.jsx(c_,{currentUser:v,role:h,onBackToDashboard:n==="assistant"?()=>r("dashboard"):void 0,useChatIntelligent:!0,onOpenMaJournee:()=>{console.log("[App.jsx] onOpenMaJournee appel, currentView avant:",n),r("chat"),console.log('[App.jsx] setCurrentView("chat") appel')}})]})}console.log("[main.jsx] Fichier charg - ligne 1");console.log("[main.jsx] Avant ReactDOM.createRoot");Cu.createRoot(document.getElementById("root")).render(o.jsx(jn.StrictMode,{children:o.jsx(p_,{})}));console.log("[main.jsx] Aprs ReactDOM.createRoot");
