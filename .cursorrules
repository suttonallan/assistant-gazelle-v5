# R√®gles Cursor pour Assistant Gazelle V5

## üìñ Documentation √† Lire au D√©marrage

Quand tu d√©marres une nouvelle conversation dans ce projet, commence TOUJOURS par lire ces fichiers dans cet ordre:

1. **`docs/ETAT_SESSION_ACTUELLE.md`** - √âtat du projet, travaux en cours, fonctionnalit√©s compl√©t√©es
2. **`INSTRUCTIONS_CURSOR_FINALISER_CLIENTS_CLIQUABLES.md`** - T√¢che prioritaire en cours

## üéØ T√¢che Actuelle Prioritaire

Finaliser les clients cliquables dans le chat assistant. Tous les d√©tails sont dans `INSTRUCTIONS_CURSOR_FINALISER_CLIENTS_CLIQUABLES.md`.

## üö´ R√®gles Importantes

1. **Ne PAS over-engineer** - Solutions simples et directes uniquement
2. **Ne PAS cr√©er de documentation** non demand√©e
3. **Ne PAS utiliser d'emojis** sauf si explicitement demand√©
4. **Ne PAS modifier** les fichiers sans raison claire
5. **Toujours v√©rifier** `docs/ETAT_SESSION_ACTUELLE.md` avant de commencer

## üîê S√âCURIT√â - SECRETS (CRITIQUE)

**AVANT CHAQUE COMMIT - SCANNER AUTOMATIQUEMENT:**

Patterns de secrets √† d√©tecter:
- `AIza[A-Za-z0-9_-]{35,}` ‚Üí Google API keys
- `SG\.[A-Za-z0-9_-]{20,}` ‚Üí SendGrid keys
- `eyJ[A-Za-z0-9_-]+\.[A-Za-z0-9_-]+\.[A-Za-z0-9_-]+` ‚Üí JWT tokens (Supabase)
- Fichiers: `*SECRETS*.md`, `*credentials*.json`, `.env`

**Si secret d√©tect√©:**
1. ‚ùå STOP - Ne pas commiter
2. ‚ö†Ô∏è Alerter l'utilisateur imm√©diatement
3. ‚úÖ Proposer d'ajouter √† `.gitignore`

**Fichiers JAMAIS √† commiter:**
- `.env`, `.env.local`, `.env.*.local`
- `docs/SECRETS_REFERENCE.md`
- `SECRETS_PERMANENTS.md`
- `config/token.json`, `*credentials*.json`

## üèóÔ∏è Stack Technique

- **Backend:** FastAPI (Python) sur port 8000
- **Frontend:** React + Vite + Tailwind CSS
- **Base de donn√©es:** Supabase (PostgreSQL)
- **Auth:** PIN √† 4 chiffres (simple)

## üìù Conventions de Code

- **Python:** PEP 8, type hints optionnels
- **React:** Functional components, hooks
- **CSS:** Tailwind classes uniquement
- **Commits:** Messages en fran√ßais, descriptifs

## ‚ö° Commandes Rapides

```bash
# Backend
python3 -m uvicorn api.main:app --host 0.0.0.0 --port 8000 --reload

# Frontend
cd frontend && npm run dev

# D√©ploiement
cd frontend && bash deploy-gh-pages.sh
```

## üí° Rappels

- L'utilisateur travaille avec **GitHub Desktop** pour pousser (pas CLI)
- L'utilisateur pr√©f√®re des **explications concises**
- Toujours **tester localement** avant de pousser

## üéØ OAuth Gazelle - Le√ßons Apprises

**Redirect URI:**
- ‚ùå JAMAIS `urn:ietf:wg:oauth:2.0:oob` (Gazelle refuse)
- ‚úÖ TOUJOURS HTTPS: `https://assistant-gazelle-v5-api.onrender.com/gazelle_oauth_callback`

**Nouvelles applications:**
- ‚è≥ Attendre 24-48h apr√®s cr√©ation pour activation
- ‚úÖ V√©rifier dans dashboard Gazelle avant d'utiliser

**D√©pannage:**
- Lire la DOCUMENTATION disponible avant d'essayer
- Ne JAMAIS deviner des valeurs (redirect_uri, etc.)
- Consulter les erreurs API pour comprendre le probl√®me
